import{F as G,a as q,b as H,r as E,j as t,Q as $,L as x,R as f,G as a,K as M,V as c,a3 as V,ah as _,d as N,a4 as z,N as J,g as K}from"./index-Bb4T6yJS.js";import{A as Q}from"./helmet-BKDsicQe.js";import{P as X}from"./container-Mdzkb4R0.js";import{W as Y}from"./WebBreadCrumb-CplDcnjI.js";import{u as Z,o as tt,a as et}from"./yup-VhrNJgti.js";import{c as A,a as I,f as rt}from"./index.esm-B55s2Mzk.js";import{A as L}from"./apiErrorResonse-CCtXlH33.js";import{I as O}from"./iconify-C-ngdJty.js";import{d as st}from"./CancelTwoTone-g9I4gqmS.js";import{d as ot}from"./Send-CIV9xzto.js";import{C as it}from"./Card-Cg269qA4.js";import{T as D}from"./TextField-Dv9saPdb.js";import{T as at}from"./Typography-BvK0EBjx.js";import{B as nt}from"./Box-DzmxXICY.js";import{T as lt}from"./Tooltip-BPIgMGiH.js";import{B as ct}from"./Button-CoPqx7My.js";import{S as mt}from"./Stack-yqW3PSS6.js";import{L as pt}from"./LoadingButton-D3WD33Li.js";import"./styled-BzESMtjz.js";import"./breadcrumbs-BoNbTSIP.js";import"./Breadcrumbs-CYgmF-zU.js";import"./ButtonBase-D0CLtmKS.js";import"./useSlotProps-CkCdCphK.js";import"./Iconify-B2ea3Vhk.js";import"./Box-B1asL3_Y.js";import"./createBox-Z02cO3O7.js";import"./createSvgIcon-Cvxe-UMk.js";import"./useId-BQiMa7-Q.js";import"./useControlled-DpDQkWSS.js";import"./Select-D_KZ1HKa.js";import"./useFormControl-oNyqkk4W.js";import"./Popover-_oog1cCQ.js";import"./Modal-BEZPFFVa.js";import"./Portal-DOJFZdR8.js";import"./Grow-BLrRft-L.js";import"./List-BGusPRli.js";import"./FormHelperText-D8o68a4M.js";import"./Popper-BrZsYCFQ.js";const dt=A().shape({maintitle:I().trim().required("Title is required."),section:rt().of(A().shape({title:I().trim().required("Title is required.")}))});function Zt(){var y,b,C,R;const n=G(),g=(b=(y=n==null?void 0:n.state)==null?void 0:y.name)==null?void 0:b.replace(/[\s/&]+/g,"-").toLowerCase(),l=q(),{loader:m}=H(o=>o.request),[ut,P]=E.useState(""),{register:T,setValue:S,handleSubmit:w,trigger:xt,control:B,formState:{errors:e}}=Z({mode:"all",resolver:tt(dt),defaultValues:{section:[{title:""}]}}),{fields:j,append:v,remove:U}=et({control:B,name:"section"}),W=async o=>{const r={key:"HELP_CENTER",section:g,value:JSON.stringify({maintitle:o.maintitle,section:o.section}),status:1};try{l({type:c.PROCESSING});const{status:i,data:{message:s}}=await V(_.UPDATE,r);if(i===N[200])l({type:c.SUCCESS,payload:{message:s}}),z.success(s),h();else throw new Error(L())}catch(i){l({type:c.FAILURE,payload:{message:i.message}})}},F=async o=>{l({type:c.INIT_LOADER,payload:{loader:!0}});try{const r=await J(o),{statusCode:i,data:s,success:p}=r.data;if(p&&i===N[200]){const d=JSON.parse(s==null?void 0:s.value),{section:u,maintitle:k}=d;S("maintitle",k),S("section",u)}else throw new Error(K.DEFAULT.FETCHING_USERS_LIST)}catch(r){P(L(r))}finally{l({type:c.INIT_LOADER,payload:{loader:!1}})}},h=E.useCallback(()=>{F(`${_.GET}?key=HELP_CENTER&section=${g}`)},[]);return E.useEffect(()=>{h()},[h]),t.jsxs(t.Fragment,{children:[t.jsx(Q,{title:$.WEB_CONTENT}),t.jsxs(X,{className:"page-container users-page",heading:"Web Content",children:[t.jsx(Y,{breadcrumbs:[t.jsx(x,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:f.DASHBOARD,children:"dashboard"}),t.jsx(x,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:f.WEB_CONTENT,children:"Web-content"}),t.jsx(x,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:f.HELP_CENTER,children:"Help-center"}),(C=n==null?void 0:n.state)==null?void 0:C.name]}),t.jsx(a,{container:!0,spacing:2,my:2,children:t.jsx(a,{item:!0,md:12,children:t.jsx(it,{className:"profile-right-section",sx:{p:3},children:t.jsxs("form",{onSubmit:w(W),noValidate:!0,children:[t.jsx(a,{mb:2,children:t.jsx(D,{...T("maintitle"),label:"Title*",disabled:m,error:!!(e!=null&&e.maintitle),helperText:((R=e==null?void 0:e.maintitle)==null?void 0:R.message)||"",variant:"outlined",fullWidth:!0})}),t.jsxs(a,{container:!0,spacing:2,my:2,children:[j.map((o,r)=>{var i,s,p,d,u;return t.jsxs(a,{item:!0,md:6,children:[t.jsxs(x,{style:{textDecoration:"none",display:"flex",alignItems:"center",paddingBottom:"10px"},children:[t.jsxs(at,{variant:"h5",children:["Article ",r+1]}),t.jsx(O,{icon:"gg:arrow-right",width:"28",height:"28",color:"#121926"})]}),t.jsxs(nt,{sx:{border:"1px solid #bfc0c2",borderRadius:"12px",padding:"15px 10px",position:"relative"},children:[j.length>1&&t.jsx(lt,{placement:"top",title:"Click to remove card",children:t.jsx(st,{sx:{color:M.ERROR_MSG_COLOR,position:"absolute",right:"-5px",top:"-5px",zIndex:"99",cursor:"pointer",fontSize:"18px",background:"#fff",borderRadius:"50%"},onClick:()=>{U(r)}})}),t.jsx(a,{mb:2,children:t.jsx(D,{...T(`section[${r}].title`),label:"Title*",disabled:m,error:!!((s=(i=e==null?void 0:e.section)==null?void 0:i[r])!=null&&s.title),helperText:((u=(d=(p=e==null?void 0:e.section)==null?void 0:p[r])==null?void 0:d.title)==null?void 0:u.message)||"",variant:"outlined",fullWidth:!0})})]})]},o.id)}),t.jsx(a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",mt:2,children:t.jsx(ct,{onClick:()=>v({title:"",subtitle:"",icon:null}),type:"button",children:t.jsx(O,{icon:"basil:add-outline",width:"32",height:"32"})})})]}),t.jsx(mt,{direction:"row",justifyContent:"center",alignItems:"center",mt:2,children:t.jsx(pt,{type:"submit",variant:"contained",endIcon:t.jsx(ot,{}),loading:m,sx:{mt:2},children:m?"PLEASE WAIT...":"SUBMIT"})})]})})})})]})]})}export{Zt as default};
