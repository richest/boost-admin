import{a as U,b as W,r as p,j as e,Q as F,L as x,R as S,G as n,V as a,a3 as q,ah as f,d as y,a4 as k,N as w,g as B,D as G}from"./index-Bb4T6yJS.js";import{A as V}from"./helmet-BKDsicQe.js";import{W as M}from"./WebBreadCrumb-CplDcnjI.js";import{P as H}from"./container-Mdzkb4R0.js";import{u as Y,o as Q}from"./yup-VhrNJgti.js";import{c as $,a as u}from"./index.esm-B55s2Mzk.js";import{A as E}from"./apiErrorResonse-CCtXlH33.js";import{C as z,a as J}from"./ckeditor-DoMhieYw.js";import{d as K}from"./Send-CIV9xzto.js";import{C}from"./Card-Cg269qA4.js";import{T}from"./TextField-Dv9saPdb.js";import{F as X}from"./FormHelperText-D8o68a4M.js";import{S as Z}from"./Stack-yqW3PSS6.js";import{L as ee}from"./LoadingButton-D3WD33Li.js";import"./breadcrumbs-BoNbTSIP.js";import"./Typography-BvK0EBjx.js";import"./Breadcrumbs-CYgmF-zU.js";import"./ButtonBase-D0CLtmKS.js";import"./useSlotProps-CkCdCphK.js";import"./Iconify-B2ea3Vhk.js";import"./iconify-C-ngdJty.js";import"./Box-B1asL3_Y.js";import"./createBox-Z02cO3O7.js";import"./Button-CoPqx7My.js";import"./styled-BzESMtjz.js";import"./createSvgIcon-Cvxe-UMk.js";import"./useId-BQiMa7-Q.js";import"./useControlled-DpDQkWSS.js";import"./Select-D_KZ1HKa.js";import"./useFormControl-oNyqkk4W.js";import"./Popover-_oog1cCQ.js";import"./Modal-BEZPFFVa.js";import"./Portal-DOJFZdR8.js";import"./Grow-BLrRft-L.js";import"./List-BGusPRli.js";const te=$().shape({title:u().trim().required("Title is required."),subtitle:u().trim().required("Subtitle is required."),description:u().trim().required("Description is required.")});function qe(){const o=U(),{loader:l}=W(t=>t.request),[j,A]=p.useState({}),[ie,I]=p.useState(""),{register:b,setValue:c,handleSubmit:L,trigger:N,formState:{errors:i}}=Y({mode:"all",resolver:Q(te)}),R=async t=>{let s={key:"PRIVACY_POLICY",section:"INTRO",value:JSON.stringify({title:t.title,subtitle:t.subtitle,description:t.description}),status:1};try{o({type:a.PROCESSING});const{status:r,data:{message:d}}=await q(f.UPDATE,s);r===y[200]?(o({type:a.SUCCESS,payload:{message:d}}),k.success(d),g()):o({type:a.FAILURE,payload:{message:E()}})}catch(r){o({type:a.FAILURE,payload:{message:E(r)}})}};async function O(t){o({type:a.INIT_LOADER,payload:{loader:!0}});const s=G.LOCALE;try{const r=await w(t),{status:d}=r,{data:m,success:_}=r.data;if(_&&d===y[200]){const P=JSON.parse(m==null?void 0:m.value),{title:v,description:h,subtitle:D}=P;c("title",v),c("subtitle",D),c("description",h),A(h)}else I(B[s].FETCHING_USERS_LIST)}catch(r){E(r)}o({type:a.INIT_LOADER,payload:{loader:!1}})}const g=()=>{O(`${f.GET}?key=PRIVACY_POLICY&section=INTRO`)};return p.useEffect(()=>{g()},[]),e.jsxs(e.Fragment,{children:[e.jsx(V,{title:F.WEB_CONTENT}),e.jsxs(H,{className:"page-container users-page",heading:"Web Content",children:[e.jsx(M,{breadcrumbs:[e.jsx(x,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:S.DASHBOARD,children:"dashboard"}),e.jsx(x,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:S.WEB_CONTENT,children:"Web-content"}),"Privacy-Policy"]}),e.jsx(C,{sx:{mt:4,boxShadow:3},children:e.jsx(n,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(n,{item:!0,md:12,children:e.jsx(C,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:L(R),noValidate:!0,children:[e.jsx(n,{mb:4,children:e.jsx(T,{...b("title"),label:"Title*",disabled:l,error:!!i.title,helperText:i.title?i.title.message:"",name:"title",variant:"outlined",fullWidth:!0})}),e.jsx(n,{mb:4,children:e.jsx(T,{...b("subtitle"),label:"Subtitle*",disabled:l,error:!!i.subtitle,helperText:i.subtitle?i.subtitle.message:"",name:"subtitle",variant:"outlined",fullWidth:!0})}),e.jsxs(n,{mb:4,children:[e.jsx("div",{className:i.description?"errorCkEditor description_div":"description_div",children:e.jsx(z,{name:"description",style:{position:"relative",zIndex:"20"},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},editor:J,data:j,onChange:(t,s)=>{c("description",s.getData()),N("description")},onReady:t=>{t.editing.view.change(s=>{s.setStyle("height","100%",t.editing.view.document.getRoot())})}})}),i.description?e.jsx(X,{error:!0,children:i.description.message}):""]}),e.jsx(Z,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(ee,{loading:!!l,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(K,{}),variant:"contained",children:l?"PLEASE WAIT...":"SUBMIT"})})]})})})})})]})]})}export{qe as default};
