import{P as d,b as oe,F as ae,a as re,r as s,f as ne,j as t,Q as ie,G as m,L as T,R as _,V as a,Y as le,a7 as ce,d as h,a4 as c,N as pe,g as ue,p as w,a8 as de,ac as v,D as me}from"./index-Bb4T6yJS.js";import{d as ge}from"./Add-CMcxYLjt.js";import{P as ye}from"./breadcrumbs-BoNbTSIP.js";import{P as fe}from"./container-Mdzkb4R0.js";import{A as he}from"./helmet-BKDsicQe.js";import{d as Ee}from"./ReplyAll-BO-qW86R.js";import"./Scrollbar-D2VArou7.js";import{A as p}from"./apiErrorResonse-CCtXlH33.js";import{u as Se}from"./textDebounce-D7e2mMPI.js";import{B as be,A as xe}from"./BlockCard-DvE7Za8v.js";import{B as N}from"./Button-CoPqx7My.js";import"./createSvgIcon-Cvxe-UMk.js";import"./ButtonBase-D0CLtmKS.js";import"./useId-BQiMa7-Q.js";import"./useControlled-DpDQkWSS.js";import"./Typography-BvK0EBjx.js";import"./Stack-yqW3PSS6.js";import"./styled-BzESMtjz.js";import"./Breadcrumbs-CYgmF-zU.js";import"./useSlotProps-CkCdCphK.js";import"./throttle-tVVNkgM1.js";import"./colorManipulator-C6WsgVx8.js";import"./Box-B1asL3_Y.js";import"./createBox-Z02cO3O7.js";import"./DeleteOutlineRounded-whF8ow73.js";import"./Modal-BEZPFFVa.js";import"./Portal-DOJFZdR8.js";import"./Card-Cg269qA4.js";import"./useMediaQuery-B2-mEylA.js";import"./LoadingButton-D3WD33Li.js";import"./Iconify-B2ea3Vhk.js";import"./iconify-C-ngdJty.js";import"./SkeltonCardLoader-BFqZXtrl.js";import"./Skeleton-Cv9Q_VQE.js";import"./Avatar-CkCB1SYh.js";import"./index-D8g0v2aH.js";import"./useSlot-KITjY7au.js";d.oneOf(["asc","desc"]),d.string,d.number,d.array,d.number,d.func,d.func;const ft=()=>{const{user:y}=oe(e=>e.filterOptions),i=ae();console.log(i,"locationsjhs");const o=re(),[Ce,F]=s.useState(null),[Le,M]=s.useState(null),[G,Ae]=s.useState(y.number_of_rows),[q,Re]=s.useState(y.page_no);s.useState(y.srNo);const[Te,z]=s.useState(0),[j,$]=s.useState([]),[_e,E]=s.useState(!1),[je,k]=s.useState(!1),[ke,O]=s.useState(""),[H,Oe]=s.useState(y.role_id),[S,b]=s.useState(null),[Pe,V]=s.useState({});s.useState("");const[K,Ue]=Se(),[P,x]=s.useState(!1);s.useState(!1);const U=ne(),[Q,I]=s.useState(null),Y=(e,r)=>{I(e.currentTarget),b(r)},X=()=>{I(null)},J=e=>{const r=j.find(l=>l.id===e);b(e),V(r)},B=e=>{x(e)},C=()=>{F(null),M(null),b(null)},W=async()=>{try{o({type:a.PROCESSING});const{status:e,data:{message:r}}=await le(`${ce.DELETE}/${S}`);e===h[200]?(o({type:a.SUCCESS,payload:{message:r}}),c.success("Product deleted successfull."),D()):o({type:a.FAILURE,payload:{message:p()}}),C(),B(!1)}catch(e){o({type:a.FAILURE,payload:{message:p(e)}}),c.error(`${e.response.data.message}`),C(),B(!1)}},D=()=>{var r;let e;e=(r=i==null?void 0:i.pathname)!=null&&r.includes("text-image")?"TEXT-IMAGE":"COVER",console.log(e,"chekcehhhetete"),Z(`${v.GET_ALL_COVERS}?type=${e}`)};async function Z(e){E(!0),o({type:a.INIT_LOADER,payload:{loader:!0}});let r;const l=me.LOCALE;try{const n=await pe(e),{status:u}=n,{data:{blockDetails:{rows:g}},success:L}=n.data;u===h[200]?($(g),E(!1),k(!1),z(totalCounts),o({type:a.INIT_LOADER,payload:{loader:!1}})):(O(ue[l].FETCHING_USERS_LIST),o({type:a.FAILURE,payload:{message:p()}}))}catch(n){r=p(n),k(!0),O(r),E(!1),o({type:a.FAILURE,payload:{message:r}})}}const ee=()=>{x(!0)},te=async(e,r)=>{const l={product_id:e};try{o({type:a.PROCESSING});const{status:n,data:{message:u,data:{unique_id:g}}}=await w(de.CREATE,l);n===h[200]?(o({type:a.SUCCESS,payload:{message:u}}),c.success(u),U(`/dashboard/templates/create/${g.replace(/[\s/]+/g,"-").toLowerCase()}`)):(o({type:a.FAILURE,payload:{message:p()}}),c.error(u))}catch(n){o({type:a.FAILURE,payload:{message:p(n)}}),c.error(n)}},se=async()=>{var g,L;const e={text:`<p style="font-size: 48px; color: white; font-family: 'Playfair Display';"><strong>Default title</strong></p><p style="font-size: 16px; color: white; font-family: 'Ubuntu';">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Fuga beatae ea voluptatum architecto vero temporibus illum fugiat.</p>`,imageUrl:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1736856440/low-angle-greyscale-shot-two-propellers-plane-ready-takeoff_mpvpsi.jpg",buttonUrl:"https://boostplatform.app/",buttonText:`<p style="text-align: center; font-size: 16px; line-height: 1.5; color: black; font-family: 'Roboto';">Read</p>`,logotypeUrl:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1736856628/logo_elep97.png",isShowButton:!0,logotypeScale:15,buttonPosition:"left",isShowLogotype:!0,darkenBackground:35,imageProportions:"3|2",logotypePosition:"left",buttonBorderRadius:9,buttonBackgroundColor:"#ffffff"},r={text:'<p><strong style="color: rgb(255, 255, 255); font-size: 36px; line-height: 1.5;">Your Heading</strong></p> <p><span style="color: rgb(255, 255, 255);font-size: 14px;line-height: 1.5;">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus lacinia, felis sit amet facilisis placerat, neque dui accumsan risus, eget maximus urna justo eget nulla. Nullam non purus sit amet felis mollis aliquet. Quisque id orci magna. Integer sit amet odio lectus. Integer id velit velit. Mauris quis orci eu metus tempus posuere.</span></p>',imageUrl:"https://media.interacty.me/2902765",buttonUrl:"https://interacty.me",buttonText:'<p className="ql-align-center"><span style="color: rgb(255, 255, 255); font-size: 20px; line-height: 1.5; font-family: Roboto;">Button</span></p>',isShowButton:!0,textPosition:"right",backgroundColor:"#2a9d8f",imageProportions:"1|1",buttonBorderRadius:4,buttonBackgroundColor:"#264653",isTransparentBackground:!1};let l,n;n=(g=i==null?void 0:i.pathname)!=null&&g.includes("text-image")?r:e,l=(L=i==null?void 0:i.pathname)!=null&&L.includes("text-image")?"TEXT-IMAGE":"COVER";const u={block_type:l,block_json:JSON.stringify(n),title:"Your heading"};try{o({type:a.PROCESSING});const{status:f,data:{message:A,data:R}}=await w(v.CREATE_BLOCK,u);f===h[200]?(o({type:a.SUCCESS,payload:{message:A}}),c.success(A),U(`/dashboard/blocks/view-block/${R==null?void 0:R.id}`)):(o({type:a.FAILURE,payload:{message:p()}}),c.error(A))}catch(f){o({type:a.FAILURE,payload:{message:p(f)}}),c.error(f)}};return s.useEffect(()=>{D()},[q,G,H,K]),t.jsxs(t.Fragment,{children:[t.jsx(he,{title:ie.SELECT_PRODUCT}),t.jsxs(fe,{className:"page-container users-page",heading:"All Blocks",children:[t.jsxs(m,{container:!0,justifyContent:"space-between",alignItems:"flex-start",spacing:2,children:[t.jsx(m,{item:!0,children:t.jsx(ye,{breadcrumbs:[t.jsx(T,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:_.DASHBOARD,children:"dashboard"}),t.jsx(T,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:_.BLOCKS,children:"Blocks"}),"List"]})}),t.jsxs(m,{container:!0,justifyContent:"space-between",alignItems:"flex-start",spacing:2,children:[t.jsx(m,{item:!0,children:t.jsx(T,{className:"",to:_.TEMPLATE_LIST,children:t.jsx(N,{sx:{borderRadius:"2pt"},variant:"contained",color:"primary",startIcon:t.jsx(Ee,{}),children:"Back"})})}),t.jsx(m,{item:!0,mr:1,children:t.jsx(N,{sx:{borderRadius:"2pt"},variant:"contained",onClick:se,color:"primary",startIcon:t.jsx(ge,{}),children:"New Block"})})]})]}),t.jsx(m,{container:!0,spacing:3,sx:{pt:2},children:j.map(e=>t.jsx(m,{item:!0,xs:12,sm:4,md:4,lg:2.4,children:t.jsx(be,{path:`/dashboard/blocks/view-block/${e==null?void 0:e.id}`,color:"primary",title:e.title,icon:e.icon,id:e==null?void 0:e.id,hoveredUserId:S,handleOpenMenu:J,handlePopoverOpen:Y,handlePopoverClose:X,handleDelete:ee,anchorEl:Q,handleCreateTemplate:te})},e.id))})]}),P&&t.jsx(xe,{cancelAction:C,deleteAction:W,id:S,setIsOpen:x,isOpen:P})]})};export{ft as default};
