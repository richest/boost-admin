import{a as ie,b as se,r as T,j as e,G as l,V as o,a3 as re,ah as z,d as D,a4 as Q,N as ne,g as ae,D as oe,K as ge,p as be,F as ve,Q as we,L as _e,R as Ae}from"./index-Bb4T6yJS.js";import{P as Ne}from"./container-Mdzkb4R0.js";import{A as $e}from"./helmet-BKDsicQe.js";import{W as ze}from"./WebBreadCrumb-CplDcnjI.js";import{u as le,o as ce,a as xe,C as qe}from"./yup-VhrNJgti.js";import{c as Y,a as S,d as B,f as Te}from"./index.esm-B55s2Mzk.js";import{d as de}from"./Send-CIV9xzto.js";import{C as he,a as je}from"./ckeditor-DoMhieYw.js";import{A as _}from"./apiErrorResonse-CCtXlH33.js";import{U as pe}from"./index-WvvUu4h8.js";import{S as De}from"./Google-BxUggrAd.js";import{C as K}from"./Card-Cg269qA4.js";import{T as P}from"./TextField-Dv9saPdb.js";import{I as Ue}from"./InputAdornment-_AAuA8Z-.js";import{P as Pe}from"./Popover-_oog1cCQ.js";import{T as te}from"./Typography-BvK0EBjx.js";import{F as V}from"./FormHelperText-D8o68a4M.js";import{S as X}from"./Stack-yqW3PSS6.js";import{L as me}from"./LoadingButton-D3WD33Li.js";import{d as Ee}from"./CancelTwoTone-g9I4gqmS.js";import{d as Re}from"./AddPhotoAlternate-Dq9K76ig.js";import{I as Ce}from"./iconify-C-ngdJty.js";import{B as fe}from"./Box-DzmxXICY.js";import{T as Oe}from"./Tooltip-BPIgMGiH.js";import{A as Ie}from"./Avatar-CkCB1SYh.js";import{S as Le}from"./Skeleton-Cv9Q_VQE.js";import{B as ye}from"./Button-CoPqx7My.js";import{T as ke,a as ee}from"./Tabs-BapWTaVr.js";import"./styled-BzESMtjz.js";import"./breadcrumbs-BoNbTSIP.js";import"./Breadcrumbs-CYgmF-zU.js";import"./ButtonBase-D0CLtmKS.js";import"./useSlotProps-CkCdCphK.js";import"./Iconify-B2ea3Vhk.js";import"./Box-B1asL3_Y.js";import"./createBox-Z02cO3O7.js";import"./createSvgIcon-Cvxe-UMk.js";import"./useId-BQiMa7-Q.js";import"./useControlled-DpDQkWSS.js";import"./throttle-tVVNkgM1.js";import"./_baseIsEqual-Djq1kusi.js";import"./Select-D_KZ1HKa.js";import"./useFormControl-oNyqkk4W.js";import"./Modal-BEZPFFVa.js";import"./Portal-DOJFZdR8.js";import"./List-BGusPRli.js";import"./Grow-BLrRft-L.js";import"./Popper-BrZsYCFQ.js";import"./index-D8g0v2aH.js";import"./useSlot-KITjY7au.js";import"./colorManipulator-C6WsgVx8.js";import"./KeyboardArrowRight--EGT-K8b.js";const Fe=Y().shape({title:S().trim().required("Title is required."),description:S().trim().required("Description is required."),introIcon:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type)),introImage:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type))}),Me=({name:t})=>{const{register:r,setValue:u,handleSubmit:O,trigger:w,formState:{errors:E}}=le({mode:"all",resolver:ce(Fe)});r("introImage","introIcon");const x=ie(),{loader:j}=se(n=>n.request),[s,R]=T.useState({}),[N,b]=T.useState(""),[p,L]=T.useState({}),[F,k]=T.useState({}),[$,d]=T.useState("rgba(255, 0, 0, 1)"),[y,f]=T.useState(null),h=!!y,I=n=>{f(n.currentTarget)},a=()=>{f(null)},c=n=>{const C=`rgba(${n.rgb.r}, ${n.rgb.g}, ${n.rgb.b}, ${n.rgb.a})`;d(C)},i=async n=>{let C={key:t,section:"INTRO",value:JSON.stringify({title:n.title,description:n.description,introImage:p,introIcon:F,color:$}),status:1};try{x({type:o.PROCESSING});const{status:A,data:{message:q}}=await re(z.UPDATE,C);A===D[200]?(x({type:o.SUCCESS,payload:{message:q}}),Q.success(q),g()):x({type:o.FAILURE,payload:{message:_()}})}catch(A){x({type:o.FAILURE,payload:{message:_(A)}})}};async function m(n){var A,q;x({type:o.INIT_LOADER,payload:{loader:!0}});const C=oe.LOCALE;try{const v=await ne(n),{status:G}=v,{data:M,success:Z}=v.data;if(Z&&G===D[200]){const ue=JSON.parse(M==null?void 0:M.value),{title:H,description:J,introImage:U,color:W,introIcon:Se}=ue;L(U),k(Se),u("title",H),u("description",J),R(J),d(W),u("introImage",(A=U==null?void 0:U.uploaded_images)!=null&&A.upload_image_url?[{size:100,type:"image/jpg"}]:{}),u("introIcon",(q=Se==null?void 0:Se.uploaded_images)!=null&&q.upload_image_url?[{size:100,type:"image/jpg"}]:{})}else b(ae[C].FETCHING_USERS_LIST)}catch(v){_(v)}x({type:o.INIT_LOADER,payload:{loader:!1}})}const g=()=>{m(`${z.GET}?key=${t}&section=INTRO`)};return T.useEffect(()=>{g()},[]),e.jsx(e.Fragment,{children:e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(l,{item:!0,md:12,children:e.jsx(K,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:O(i),noValidate:!0,children:[e.jsxs(l,{container:!0,spacing:2,children:[e.jsx(l,{item:!0,xs:6,mb:4,children:e.jsx(P,{...r("title"),label:"Title*",disabled:j,error:!!E.title,helperText:E.title?E.title.message:"",name:"title",variant:"outlined",fullWidth:!0})}),e.jsxs(l,{item:!0,xs:6,mb:4,children:[e.jsx(P,{label:"Select Color*",onClick:I,variant:"outlined",fullWidth:!0,InputProps:{readOnly:!0,startAdornment:e.jsx(Ue,{position:"start",children:e.jsx("div",{style:{width:40,height:30,backgroundColor:$,borderRadius:"6px",border:"1px solid #ddd"}})}),style:{color:"#fff",cursor:"pointer"}},readOnly:!0}),e.jsx(Pe,{open:h,anchorEl:y,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsx(De,{color:$,onChange:c})})]})]}),e.jsx(te,{py:2,variant:"h4",children:"Icon"}),e.jsx(pe,{setValue:u,imageObj:F,setImageObj:k,errors:E,register:r,trigger:w,name:"introIcon",loader:j}),e.jsxs(l,{mb:4,children:[e.jsx("div",{className:E.description?"errorCkEditor description_div":"description_div",children:e.jsx(he,{name:"description",style:{position:"relative",zIndex:"20"},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},editor:je,data:s||"",onChange:(n,C)=>{u("description",C.getData()),w("description")},onReady:n=>{n.editing.view.change(C=>{C.setStyle("height","100%",n.editing.view.document.getRoot())})}})}),E.description?e.jsx(V,{error:!0,children:E.description.message}):""]}),e.jsx(te,{py:2,variant:"h4",children:"Main Image"}),e.jsx(pe,{setValue:u,imageObj:p,setImageObj:L,errors:E,register:r,trigger:w,name:"introImage",loader:j}),e.jsx(X,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:!!j,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(de,{}),variant:"contained",children:j?"PLEASE WAIT...":"SUBMIT"})})]})})})})})},We=Y().shape({title:S().trim().required("Title is required."),sections:Te().of(Y().shape({subtitle:S().trim().required("Subtitle is required."),description:S().trim().required("Description is required."),introImage:B().nullable().test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t&&t.uploaded_images?!0:t?["image/jpeg","image/png","image/jpg"].includes(t.type):!0).test("fileSize","Image's size cannot be more than 5 MB",t=>t&&t.uploaded_images?!0:t?t.size<=5242880:!0)}))}),Be=({name:t})=>{const r=ie(),{loader:u}=se(I=>I.request),[O,w]=T.useState(""),[E,x]=T.useState([]),{register:j,setValue:s,handleSubmit:R,trigger:N,control:b,formState:{errors:p}}=le({mode:"all",resolver:ce(We),defaultValues:{sections:[{subtitle:"",description:"",introImage:null}]}}),{fields:L,append:F,remove:k}=xe({control:b,name:"sections"}),$=async(I,a)=>{const c={upload_image_response_id:I};try{r({type:o.PROCESSING});const{status:i,data:{message:m}}=await be(z.DELETE_IMAGE,c);if(i===D[200])x(g=>{const n=[...g];return n[a]=null,n}),s(`sections[${a}].introImage`,null),r({type:o.SUCCESS,payload:{}}),Q.success(m);else throw new Error(_())}catch(i){r({type:o.FAILURE,payload:{message:i.message}})}},d=async(I,a)=>{const c=I.target.files[0];if(!c)return;const i=new FormData;i.append("upload_image",c);try{r({type:o.PROCESSING});const{status:m,data:{message:g,data:n}}=await be(z.UPLOAD_IMAGE,i);if(m===D[200])x(C=>{const A=[...C];return A[a]={...n,size:c.size},A}),s(`sections[${a}].introImage`,{...n,size:c.size}),await N(`sections[${a}].introImage`),r({type:o.SUCCESS,payload:{}}),Q.success(g);else throw new Error(_())}catch(m){r({type:o.FAILURE,payload:{message:_(m)}})}},y=async I=>{let a={key:t,section:"CREATE",value:JSON.stringify({title:I.title,sections:I.sections}),status:1};try{r({type:o.PROCESSING});const{status:c,data:{message:i}}=await re(z.UPDATE,a);c===D[200]?(r({type:o.SUCCESS,payload:{message:i}}),Q.success(i),h()):r({type:o.FAILURE,payload:{message:_()}})}catch(c){r({type:o.FAILURE,payload:{message:_(c)}})}};async function f(I){r({type:o.INIT_LOADER,payload:{loader:!0}});const a=oe.LOCALE;try{const c=await ne(I),{status:i}=c,{data:m,success:g}=c.data;if(g&&i===D[200]){const n=JSON.parse(m==null?void 0:m.value),{title:C,sections:A}=n;s("title",C),s("sections",A),x(A.map(q=>q.introImage||null))}else w(ae[a].FETCHING_USERS_LIST)}catch(c){_(c)}r({type:o.INIT_LOADER,payload:{loader:!1}})}const h=()=>{f(`${z.GET}?key=${t}&section=CREATE`)};return T.useEffect(()=>{h()},[]),e.jsx(e.Fragment,{children:e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(l,{item:!0,md:12,children:e.jsx(K,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:R(y),noValidate:!0,children:[e.jsx(l,{mb:4,children:e.jsx(P,{...j("title"),label:"Title*",disabled:u,error:!!p.title,helperText:p.title?p.title.message:"",name:"title",variant:"outlined",fullWidth:!0})}),e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:L.map((I,a)=>{var c,i,m,g,n,C,A,q,v,G,M,Z,ue;return e.jsxs(l,{item:!0,md:4,children:[e.jsx(fe,{sx:{mb:2},children:e.jsx(te,{variant:"h5",children:`Section ${a+1}`})}),e.jsx(l,{mb:4,children:e.jsx(P,{...j(`sections[${a}].subtitle`),label:"Section Title*",disabled:u,error:!!((i=(c=p==null?void 0:p.sections)==null?void 0:c[a])!=null&&i.subtitle),helperText:(n=(g=(m=p==null?void 0:p.sections)==null?void 0:m[a])==null?void 0:g.subtitle)==null?void 0:n.message,name:`sections[${a}].subtitle`,variant:"outlined",fullWidth:!0})}),e.jsxs(l,{mb:4,children:[e.jsx("div",{className:(A=(C=p==null?void 0:p.sections)==null?void 0:C[a])!=null&&A.description?"errorCkEditor description_div":"description_div",children:e.jsx(he,{editor:je,data:I.description,onChange:(H,J)=>{s(`sections[${a}].description`,J.getData()),N(`sections[${a}].description`)},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},onReady:H=>{H.editing.view.change(J=>{J.setStyle("height","100%",H.editing.view.document.getRoot())})}})}),((v=(q=p==null?void 0:p.sections)==null?void 0:q[a])==null?void 0:v.description)&&e.jsx(V,{error:!0,children:p.sections[a].description.message})]}),e.jsxs(l,{position:"relative",mb:2,children:[(M=(G=E[a])==null?void 0:G.uploaded_images)!=null&&M.upload_image_url?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{title:"Click to remove image",placement:"top",children:e.jsx(Ee,{sx:{color:ge.ERROR_MSG_COLOR,position:"absolute",top:-5,right:-5,cursor:"pointer",fontSize:"18px",zIndex:99,background:"white",borderRadius:"50%"},onClick:()=>{var H,J;(J=(H=E[a])==null?void 0:H.uploaded_images)!=null&&J.upload_image_response_id&&$(E[a].uploaded_images.upload_image_response_id,a),N(`sections[${a}].introImage`)}})}),e.jsx(Ie,{sx:{width:"auto",height:"10em",border:`2.5px dashed ${p[`sections[${a}].introImage`]?"#ff4842":"#20A2B8"}`,color:`${p[`sections[${a}].introImage`]?"#ff4842":"#fff"}`,cursor:"pointer",backgroundColor:"#e6ecec"},variant:"rounded",src:E[a].uploaded_images.upload_image_url,className:"create-blog-image"})]}):e.jsxs("label",{htmlFor:`icon-upload-${a}`,children:[u?e.jsx(Le,{variant:"rectangular",width:"100%",height:"10em"}):e.jsx(Ie,{sx:{width:"auto",height:"10em",border:`2.5px dashed ${p[`sections[${a}].introImage`]?"#ff4842":"#20A2B8"}`,color:`${p[`sections[${a}].introImage`]?"#ff4842":"#fff"}`,cursor:"pointer",backgroundColor:"#e6ecec"},variant:"rounded",children:e.jsxs(X,{container:!0,alignItems:"center",justifyContent:"center",children:[e.jsx(Re,{sx:{fontSize:"3em",color:`${p[`sections[${a}].introImage`]?"#ff4842":ge.PRIMARY_COLOR}`}}),e.jsx(te,{color:ge.PRIMARY_COLOR,variant:"h4",children:"Upload file"}),e.jsx(V,{error:!1,children:"Allowed *.jpeg, *.jpg, *.png max size of 5 MB."})]})}),e.jsx("input",{accept:"image/*",id:`icon-upload-${a}`,type:"file",style:{display:"none"},onChange:H=>{d(H,a),N(`sections[${a}].introImage`)}})]}),p[`sections[${a}].introImage`]&&e.jsx(V,{error:!0,children:p[`sections[${a}].introImage`].message||""})]}),((ue=(Z=p==null?void 0:p.sections)==null?void 0:Z[a])==null?void 0:ue.introImage)&&e.jsx(V,{error:!0,children:p.sections[a].introImage.message}),L.length>1&&e.jsx(l,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",mt:2,children:e.jsx(ye,{type:"button",onClick:()=>{k(a),x(H=>{const J=[...H];return J[a]=null,J})},color:"error",children:"Remove Section"})})]},I.id)})}),e.jsx(l,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",mt:2,children:e.jsx(ye,{type:"button",onClick:()=>F({subtitle:"",description:"",introImage:null}),children:e.jsx(Ce,{icon:"basil:add-outline",width:"32",height:"32"})})}),e.jsx(X,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:!!u,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(de,{}),variant:"contained",children:u?"PLEASE WAIT...":"SUBMIT"})})]})})})})})},Ge=Y().shape({title:S().trim().required("Title is required."),description:S().trim().required("Description is required."),introImage:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type))}),Ve=({name:t})=>{const r=ie(),{loader:u}=se(d=>d.request),[O,w]=T.useState({}),[E,x]=T.useState(""),{register:j,setValue:s,handleSubmit:R,trigger:N,formState:{errors:b}}=le({mode:"all",resolver:ce(Ge)}),[p,L]=T.useState({});j("introImage");const F=async d=>{let y={key:t,section:"START",value:JSON.stringify({title:d.title,description:d.description,introImage:p}),status:1};try{r({type:o.PROCESSING});const{status:f,data:{message:h}}=await re(z.UPDATE,y);f===D[200]?(r({type:o.SUCCESS,payload:{message:h}}),Q.success(h),$()):r({type:o.FAILURE,payload:{message:_()}})}catch(f){r({type:o.FAILURE,payload:{message:_(f)}})}};async function k(d){var f;r({type:o.INIT_LOADER,payload:{loader:!0}});const y=oe.LOCALE;try{const h=await ne(d),{status:I}=h,{data:a,success:c}=h.data;if(c&&I===D[200]){const i=JSON.parse(a==null?void 0:a.value),{title:m,description:g,introImage:n}=i;L(n),s("title",m),s("description",g),w(g),s("introImage",(f=n==null?void 0:n.uploaded_images)!=null&&f.upload_image_url?[{size:100,type:"image/jpg"}]:{})}else x(ae[y].FETCHING_USERS_LIST)}catch(h){_(h)}r({type:o.INIT_LOADER,payload:{loader:!1}})}const $=()=>{k(`${z.GET}?key=${t}&section=START`)};return T.useEffect(()=>{$()},[]),e.jsx(e.Fragment,{children:e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(l,{item:!0,md:12,children:e.jsx(K,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:R(F),noValidate:!0,children:[e.jsx(l,{mb:4,children:e.jsx(P,{...j("title"),label:"Title*",disabled:u,error:!!b.title,helperText:b.title?b.title.message:"",name:"title",variant:"outlined",fullWidth:!0})}),e.jsxs(l,{mb:4,children:[e.jsx("div",{className:b.description?"errorCkEditor description_div":"description_div",children:e.jsx(he,{name:"description",style:{position:"relative",zIndex:"20"},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},editor:je,data:O||"",onChange:(d,y)=>{s("description",y.getData()),N("description")},onReady:d=>{d.editing.view.change(y=>{y.setStyle("height","100%",d.editing.view.document.getRoot())})}})}),b.description?e.jsx(V,{error:!0,children:b.description.message}):""]}),e.jsx(pe,{setValue:s,imageObj:p,setImageObj:L,errors:b,register:j,trigger:N,name:"introImage",loader:u}),e.jsx(X,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:!!u,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(de,{}),variant:"contained",children:u?"PLEASE WAIT...":"SUBMIT"})})]})})})})})},He=Y().shape({title:S().trim().required("Title is required."),description:S().trim().required("Description is required."),introImage:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type))}),Je=({name:t})=>{const r=ie(),{loader:u}=se(d=>d.request),[O,w]=T.useState({}),[E,x]=T.useState(""),{register:j,setValue:s,handleSubmit:R,trigger:N,formState:{errors:b}}=le({mode:"all",resolver:ce(He)}),[p,L]=T.useState({});j("introImage");const F=async d=>{let y={key:t,section:"WHAT",value:JSON.stringify({title:d.title,description:d.description,introImage:p}),status:1};try{r({type:o.PROCESSING});const{status:f,data:{message:h}}=await re(z.UPDATE,y);f===D[200]?(r({type:o.SUCCESS,payload:{message:h}}),Q.success(h),$()):r({type:o.FAILURE,payload:{message:_()}})}catch(f){r({type:o.FAILURE,payload:{message:_(f)}})}};async function k(d){var f;r({type:o.INIT_LOADER,payload:{loader:!0}});const y=oe.LOCALE;try{const h=await ne(d),{status:I}=h,{data:a,success:c}=h.data;if(c&&I===D[200]){const i=JSON.parse(a==null?void 0:a.value),{title:m,description:g,introImage:n}=i;L(n),s("title",m),s("description",g),w(g),s("introImage",(f=n==null?void 0:n.uploaded_images)!=null&&f.upload_image_url?[{size:100,type:"image/jpg"}]:{})}else x(ae[y].FETCHING_USERS_LIST)}catch(h){_(h)}r({type:o.INIT_LOADER,payload:{loader:!1}})}const $=()=>{k(`${z.GET}?key=${t}&section=WHAT`)};return T.useEffect(()=>{$()},[]),e.jsx(e.Fragment,{children:e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(l,{item:!0,md:12,children:e.jsx(K,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:R(F),noValidate:!0,children:[e.jsx(l,{mb:4,children:e.jsx(P,{...j("title"),label:"Title*",disabled:u,error:!!b.title,helperText:b.title?b.title.message:"",name:"title",variant:"outlined",fullWidth:!0})}),e.jsxs(l,{mb:4,children:[e.jsx("div",{className:b.description?"errorCkEditor description_div":"description_div",children:e.jsx(he,{name:"description",style:{position:"relative",zIndex:"20"},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},editor:je,data:O||"",onChange:(d,y)=>{s("description",y.getData()),N("description")},onReady:d=>{d.editing.view.change(y=>{y.setStyle("height","100%",d.editing.view.document.getRoot())})}})}),b.description?e.jsx(V,{error:!0,children:b.description.message}):""]}),e.jsx(pe,{setValue:s,imageObj:p,setImageObj:L,errors:b,register:j,trigger:N,name:"introImage",loader:u}),e.jsx(X,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:!!u,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(de,{}),variant:"contained",children:u?"PLEASE WAIT...":"SUBMIT"})})]})})})})})};Y().shape({title:S().trim().required("Title is required."),description:S().trim().required("Description is required.")});const Qe=Y().shape({title:S().trim().required("Title is required."),subtitle:S().trim().required("Subtitle is required."),sections:Te().of(Y().shape({subtitle:S().trim().required("Subtitle is required."),description:S().trim().required("Description is required."),introImage:B().nullable().test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t&&t.uploaded_images?!0:t?["image/jpeg","image/png","image/jpg"].includes(t.type):!0).test("fileSize","Image's size cannot be more than 5 MB",t=>t&&t.uploaded_images?!0:t?t.size<=5242880:!0)}))}),Ye=({name:t})=>{var I,a;const r=ie(),{loader:u}=se(c=>c.request),{register:O,setValue:w,handleSubmit:E,trigger:x,control:j,formState:{errors:s}}=le({mode:"all",resolver:ce(Qe),defaultValues:{sections:[{subtitle:"",description:"",introImage:null}]}}),{fields:R,append:N,remove:b}=xe({control:j,name:"sections"}),[p,L]=T.useState([]),[F,k]=T.useState(""),$=async(c,i)=>{const m={upload_image_response_id:c};try{r({type:o.PROCESSING});const{status:g,data:{message:n}}=await be(z.DELETE_IMAGE,m);if(g===D[200])L(C=>{const A=[...C];return A[i]=null,A}),w(`sections[${i}].introImage`,null),r({type:o.SUCCESS,payload:{}}),Q.success(n);else throw new Error(_())}catch(g){r({type:o.FAILURE,payload:{message:g.message}})}},d=async(c,i)=>{const m=c.target.files[0];if(!m)return;const g=new FormData;g.append("upload_image",m);try{r({type:o.PROCESSING});const{status:n,data:{message:C,data:A}}=await be(z.UPLOAD_IMAGE,g);if(n===D[200])L(q=>{const v=[...q];return v[i]={...A,size:m.size},v}),w(`sections[${i}].introImage`,{...A,size:m.size}),await x(`sections[${i}].introImage`),r({type:o.SUCCESS,payload:{}}),Q.success(C);else throw new Error(_())}catch(n){r({type:o.FAILURE,payload:{message:_(n)}})}},y=async c=>{let i={key:t,section:"STAND_OUT",value:JSON.stringify({title:c.title,subtitle:c.subtitle,sections:c.sections}),status:1};try{r({type:o.PROCESSING});const{status:m,data:{message:g}}=await re(z.UPDATE,i);m===D[200]?(r({type:o.SUCCESS,payload:{message:g}}),Q.success(g),h()):r({type:o.FAILURE,payload:{message:_()}})}catch(m){r({type:o.FAILURE,payload:{message:_(m)}})}};async function f(c){r({type:o.INIT_LOADER,payload:{loader:!0}});const i=oe.LOCALE;try{const m=await ne(c),{status:g}=m,{data:n,success:C}=m.data;if(C&&g===D[200]){const A=JSON.parse(n==null?void 0:n.value),{title:q,subtitle:v,sections:G}=A;w("title",q),w("sections",G),w("subtitle",v),L(G.map(M=>M.introImage||null))}else k(ae[i].FETCHING_USERS_LIST)}catch(m){_(m)}r({type:o.INIT_LOADER,payload:{loader:!1}})}const h=()=>{f(`${z.GET}?key=${t}&section=STAND_OUT`)};return T.useEffect(()=>{h()},[]),e.jsx(e.Fragment,{children:e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(l,{item:!0,md:12,children:e.jsx(K,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:E(y),noValidate:!0,children:[e.jsx(l,{mb:4,children:e.jsx(P,{...O("title"),label:"Title*",disabled:u,error:!!s.title,helperText:(I=s.title)==null?void 0:I.message,name:"title",variant:"outlined",fullWidth:!0})}),e.jsx(l,{mb:4,children:e.jsx(P,{...O("subtitle"),label:"Subtitle*",disabled:u,error:!!s.subtitle,helperText:(a=s.subtitle)==null?void 0:a.message,name:"subtitle",variant:"outlined",fullWidth:!0})}),e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:R.map((c,i)=>{var m,g,n,C,A,q,v,G,M,Z,ue,H,J;return e.jsxs(l,{item:!0,md:6,children:[e.jsx(fe,{sx:{mb:2},children:e.jsx(te,{variant:"h5",children:`Section ${i+1}`})}),e.jsx(l,{mb:4,children:e.jsx(P,{...O(`sections[${i}].subtitle`),label:"Section Title*",disabled:u,error:!!((g=(m=s==null?void 0:s.sections)==null?void 0:m[i])!=null&&g.subtitle),helperText:(A=(C=(n=s==null?void 0:s.sections)==null?void 0:n[i])==null?void 0:C.subtitle)==null?void 0:A.message,name:`sections[${i}].subtitle`,variant:"outlined",fullWidth:!0})}),e.jsxs(l,{mb:4,children:[e.jsx("div",{className:(v=(q=s==null?void 0:s.sections)==null?void 0:q[i])!=null&&v.description?"errorCkEditor description_div":"description_div",children:e.jsx(he,{editor:je,data:c.description,onChange:(U,W)=>{w(`sections[${i}].description`,W.getData()),x(`sections[${i}].description`)},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},onReady:U=>{U.editing.view.change(W=>{W.setStyle("height","100%",U.editing.view.document.getRoot())})}})}),((M=(G=s==null?void 0:s.sections)==null?void 0:G[i])==null?void 0:M.description)&&e.jsx(V,{error:!0,children:s.sections[i].description.message})]}),e.jsxs(l,{position:"relative",mb:2,children:[(ue=(Z=p[i])==null?void 0:Z.uploaded_images)!=null&&ue.upload_image_url?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{title:"Click to remove image",placement:"top",children:e.jsx(Ee,{sx:{color:ge.ERROR_MSG_COLOR,position:"absolute",top:-5,right:-5,cursor:"pointer",fontSize:"18px",zIndex:99,background:"white",borderRadius:"50%"},onClick:()=>{var U,W;(W=(U=p[i])==null?void 0:U.uploaded_images)!=null&&W.upload_image_response_id&&$(p[i].uploaded_images.upload_image_response_id,i),x(`sections[${i}].introImage`)}})}),e.jsx(Ie,{sx:{width:"auto",height:"10em",border:`2.5px dashed ${s[`sections[${i}].introImage`]?"#ff4842":"#20A2B8"}`,color:`${s[`sections[${i}].introImage`]?"#ff4842":"#fff"}`,cursor:"pointer",backgroundColor:"#e6ecec"},variant:"rounded",src:p[i].uploaded_images.upload_image_url,className:"create-blog-image"})]}):e.jsxs("label",{htmlFor:`icon-upload-${i}`,children:[u?e.jsx(Le,{variant:"rectangular",width:"100%",height:"10em"}):e.jsx(Ie,{sx:{width:"auto",height:"10em",border:`2.5px dashed ${s[`sections[${i}].introImage`]?"#ff4842":"#20A2B8"}`,color:`${s[`sections[${i}].introImage`]?"#ff4842":"#fff"}`,cursor:"pointer",backgroundColor:"#e6ecec"},variant:"rounded",children:e.jsxs(X,{container:!0,alignItems:"center",justifyContent:"center",children:[e.jsx(Re,{sx:{fontSize:"3em",color:`${s[`sections[${i}].introImage`]?"#ff4842":ge.PRIMARY_COLOR}`}}),e.jsx(te,{color:ge.PRIMARY_COLOR,variant:"h4",children:"Upload file"}),e.jsx(V,{error:!1,children:"Allowed *.jpeg, *.jpg, *.png max size of 5 MB."})]})}),e.jsx("input",{accept:"image/*",id:`icon-upload-${i}`,type:"file",style:{display:"none"},onChange:U=>{d(U,i),x(`sections[${i}].introImage`)}})]}),s[`sections[${i}].introImage`]&&e.jsx(V,{error:!0,children:s[`sections[${i}].introImage`].message||""})]}),((J=(H=s==null?void 0:s.sections)==null?void 0:H[i])==null?void 0:J.introImage)&&e.jsx(V,{error:!0,children:s.sections[i].introImage.message}),R.length>1&&e.jsx(l,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",mt:2,children:e.jsx(ye,{type:"button",onClick:()=>{b(i),L(U=>{const W=[...U];return W[i]=null,W})},color:"error",children:"Remove Section"})})]},c.id)})}),e.jsx(l,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",mt:2,children:e.jsx(ye,{type:"button",onClick:()=>N({subtitle:"",description:"",introImage:null}),children:e.jsx(Ce,{icon:"basil:add-outline",width:"32",height:"32"})})}),e.jsx(X,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:u,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(de,{}),variant:"contained",children:u?"PLEASE WAIT...":"SUBMIT"})})]})})})})})},Xe=Y().shape({title:S().trim().required("Title is required."),description:S().trim().required("Description is required."),introImage:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type))}),Ke=({name:t})=>{const r=ie(),{loader:u}=se(d=>d.request),[O,w]=T.useState({});T.useState({});const[E,x]=T.useState(""),{register:j,setValue:s,handleSubmit:R,trigger:N,formState:{errors:b}}=le({mode:"all",resolver:ce(Xe)}),[p,L]=T.useState({});j("introImage");const F=async d=>{let y={key:t,section:"EXPLORE",value:JSON.stringify({title:d.title,description:d.description,introImage:p}),status:1};try{r({type:o.PROCESSING});const{status:f,data:{message:h}}=await re(z.UPDATE,y);f===D[200]?(r({type:o.SUCCESS,payload:{message:h}}),Q.success(h),$()):r({type:o.FAILURE,payload:{message:_()}})}catch(f){r({type:o.FAILURE,payload:{message:_(f)}})}};async function k(d){var f;r({type:o.INIT_LOADER,payload:{loader:!0}});const y=oe.LOCALE;try{const h=await ne(d),{status:I}=h,{data:a,success:c}=h.data;if(c&&I===D[200]){const i=JSON.parse(a==null?void 0:a.value),{title:m,description:g,introImage:n}=i;L(n),s("title",m),s("description",g),w(g),s("introImage",(f=n==null?void 0:n.uploaded_images)!=null&&f.upload_image_url?[{size:100,type:"image/jpg"}]:{})}else x(ae[y].FETCHING_USERS_LIST)}catch(h){_(h)}r({type:o.INIT_LOADER,payload:{loader:!1}})}const $=()=>{k(`${z.GET}?key=${t}&section=EXPLORE`)};return T.useEffect(()=>{$()},[]),e.jsx(e.Fragment,{children:e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(l,{item:!0,md:12,children:e.jsx(K,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:R(F),noValidate:!0,children:[e.jsx(l,{mb:4,children:e.jsx(P,{...j("title"),label:"Title*",disabled:u,error:!!b.title,helperText:b.title?b.title.message:"",name:"title",variant:"outlined",fullWidth:!0})}),e.jsxs(l,{mb:4,children:[e.jsx("div",{className:b.description?"errorCkEditor description_div":"description_div",children:e.jsx(he,{name:"description",style:{position:"relative",zIndex:"20"},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},editor:je,data:O||"",onChange:(d,y)=>{s("description",y.getData()),N("description")},onReady:d=>{d.editing.view.change(y=>{y.setStyle("height","100%",d.editing.view.document.getRoot())})}})}),b.description?e.jsx(V,{error:!0,children:b.description.message}):""]}),e.jsx(pe,{setValue:s,imageObj:p,setImageObj:L,errors:b,register:j,trigger:N,name:"introImage",loader:u}),e.jsx(X,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:!!u,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(de,{}),variant:"contained",children:u?"PLEASE WAIT...":"SUBMIT"})})]})})})})})},Ze=Y().shape({titleOne:S().trim().required("Title is required."),titleTwo:S().trim().required("Title is required."),subtitleOne:S().trim().required("Subtitle is required."),subtitleTwo:S().trim().required("Subtitle is required."),introImageOne:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type)),introImageTwo:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type))}),et=({name:t})=>{const r=ie(),{loader:u}=se(d=>d.request);T.useState({});const[O,w]=T.useState(""),{register:E,setValue:x,handleSubmit:j,trigger:s,formState:{errors:R}}=le({mode:"all",resolver:ce(Ze)}),[N,b]=T.useState({}),[p,L]=T.useState({});E("introImage");const F=async d=>{let y={key:t,section:"TEACHER_BUSINESS",value:JSON.stringify({titleOne:d.titleOne,titleTwo:d.titleTwo,subtitleOne:d.subtitleOne,subtitleTwo:d.subtitleTwo,introImageOne:N,introImageTwo:p}),status:1};try{r({type:o.PROCESSING});const{status:f,data:{message:h}}=await re(z.UPDATE,y);f===D[200]?(r({type:o.SUCCESS,payload:{message:h}}),Q.success(h),$()):r({type:o.FAILURE,payload:{message:_()}})}catch(f){r({type:o.FAILURE,payload:{message:_(f)}})}};async function k(d){var f,h;r({type:o.INIT_LOADER,payload:{loader:!0}});const y=oe.LOCALE;try{const I=await ne(d),{status:a}=I,{data:c,success:i}=I.data;if(i&&a===D[200]){const m=JSON.parse(c==null?void 0:c.value),{titleOne:g,titleTwo:n,subtitleOne:C,subtitleTwo:A,introImageOne:q,introImageTwo:v}=m;b(q),L(v),x("titleOne",g),x("titleTwo",n),x("subtitleOne",C),x("subtitleTwo",A),x("introImageOne",(f=q==null?void 0:q.uploaded_images)!=null&&f.upload_image_url?[{size:100,type:"image/jpg"}]:{}),x("introImageTwo",(h=v==null?void 0:v.uploaded_images)!=null&&h.upload_image_url?[{size:100,type:"image/jpg"}]:{})}else w(ae[y].FETCHING_USERS_LIST)}catch(I){_(I)}r({type:o.INIT_LOADER,payload:{loader:!1}})}const $=()=>{k(`${z.GET}?key=${t}&section=TEACHER_BUSINESS`)};return T.useEffect(()=>{$()},[]),e.jsx(e.Fragment,{children:e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(l,{item:!0,md:12,children:e.jsx(K,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:j(F),noValidate:!0,children:[e.jsxs(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:[e.jsxs(l,{item:!0,md:6,children:[e.jsx(fe,{sx:{mb:2},children:e.jsx(te,{variant:"h5",children:"For Teachers"})}),e.jsx(l,{mb:4,children:e.jsx(P,{...E("titleOne"),label:"Title*",disabled:u,error:!!R.titleOne,helperText:R.titleOne?R.titleOne.message:"",name:"titleOne",variant:"outlined",fullWidth:!0})}),e.jsx(l,{mb:4,children:e.jsx(P,{...E("subtitleOne"),label:"Subtitle*",disabled:u,error:!!R.subtitleOne,helperText:R.subtitleOne?R.subtitleOne.message:"",name:"subtitleOne",variant:"outlined",fullWidth:!0})}),e.jsx(pe,{setValue:x,imageObj:N,setImageObj:b,errors:R,register:E,trigger:s,name:"introImageOne",loader:u})]}),e.jsxs(l,{item:!0,md:6,children:[e.jsx(fe,{sx:{mb:2},children:e.jsx(te,{variant:"h5",children:"For Business"})}),e.jsx(l,{mb:4,children:e.jsx(P,{...E("titleTwo"),label:"Title*",disabled:u,error:!!R.titleTwo,helperText:R.titleTwo?R.titleTwo.message:"",name:"titleTwo",variant:"outlined",fullWidth:!0})}),e.jsx(l,{mb:4,children:e.jsx(P,{...E("subtitleTwo"),label:"Subtitle*",disabled:u,error:!!R.subtitleTwo,helperText:R.subtitleTwo?R.subtitleTwo.message:"",name:"subtitleTwo",variant:"outlined",fullWidth:!0})}),e.jsx(pe,{setValue:x,imageObj:p,setImageObj:L,errors:R,register:E,trigger:s,name:"introImageTwo",loader:u})]})]}),e.jsx(X,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:!!u,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(de,{}),variant:"contained",children:u?"PLEASE WAIT...":"SUBMIT"})})]})})})})})},tt=Y().shape({mainTitle:S().trim().required("Title is required."),subtitle:S().trim().required("Subtitle is required."),title:S().trim().required("Title is required."),description:S().trim().required("Description is required."),cards:Te().of(Y().shape({heading:S().trim().required("Subtitle is required."),para:S().trim().required("Description is required.")})),introImage:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type))}),it=({name:t})=>{const{loader:r}=se(I=>I.request),{register:u,setValue:O,handleSubmit:w,trigger:E,control:x,formState:{errors:j}}=le({mode:"all",resolver:ce(tt),defaultValues:{cards:[{heading:"",para:""}]}}),s=ie(),[R,N]=T.useState(""),[b,p]=T.useState({}),[L,F]=T.useState({});u("introImage");const{fields:k,append:$,remove:d}=xe({control:x,name:"cards"}),y=async I=>{let a={key:t,section:"HOW_CREATE",value:JSON.stringify({mainTitle:I.mainTitle,subtitle:I.subtitle,title:I.title,description:I.description,introImage:L,cards:I.cards}),status:1};try{s({type:o.PROCESSING});const{status:c,data:{message:i}}=await re(z.UPDATE,a);c===D[200]?(s({type:o.SUCCESS,payload:{message:i}}),Q.success(i),h()):s({type:o.FAILURE,payload:{message:_()}})}catch(c){s({type:o.FAILURE,payload:{message:_(c)}})}};async function f(I){var c;s({type:o.INIT_LOADER,payload:{loader:!0}});const a=oe.LOCALE;try{const i=await ne(I),{status:m}=i,{data:g,success:n}=i.data;if(n&&m===D[200]){const C=JSON.parse(g==null?void 0:g.value),{mainTitle:A,subtitle:q,title:v,description:G,introImage:M,cards:Z}=C;F(M),O("mainTitle",A),O("subtitle",q),O("title",v),O("description",G),O("cards",Z),p(G),O("introImage",(c=M==null?void 0:M.uploaded_images)!=null&&c.upload_image_url?[{size:100,type:"image/jpg"}]:{})}else N(ae[a].FETCHING_USERS_LIST)}catch(i){_(i)}s({type:o.INIT_LOADER,payload:{loader:!1}})}const h=()=>{f(`${z.GET}?key=${t}&section=HOW_CREATE`)};return T.useEffect(()=>{h()},[]),e.jsx(e.Fragment,{children:e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(l,{item:!0,md:12,children:e.jsx(K,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:w(y),noValidate:!0,children:[e.jsx(l,{mb:4,children:e.jsx(P,{...u("mainTitle"),label:"Main Title*",disabled:r,error:!!j.mainTitle,helperText:j.mainTitle?j.mainTitle.message:"",name:"mainTitle",variant:"outlined",fullWidth:!0})}),e.jsx(l,{mb:4,children:e.jsx(P,{...u("subtitle"),label:"Subtitle*",disabled:r,error:!!j.subtitle,helperText:j.subtitle?j.subtitle.message:"",name:"subtitle",variant:"outlined",fullWidth:!0})}),e.jsx(l,{mb:4,children:e.jsx(P,{...u("title"),label:"Title*",disabled:r,error:!!j.title,helperText:j.title?j.title.message:"",name:"title",variant:"outlined",fullWidth:!0})}),e.jsxs(l,{mb:4,children:[e.jsx("div",{className:j.description?"errorCkEditor description_div":"description_div",children:e.jsx(he,{name:"description",style:{position:"relative",zIndex:"20"},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},editor:je,data:b||"",onChange:(I,a)=>{O("description",a.getData()),E("description")},onReady:I=>{I.editing.view.change(a=>{a.setStyle("height","100%",I.editing.view.document.getRoot())})}})}),j.description?e.jsx(V,{error:!0,children:j.description.message}):""]}),e.jsx(pe,{setValue:O,imageObj:L,setImageObj:F,errors:j,register:u,trigger:E,name:"introImage",loader:r}),e.jsx(te,{variant:"h5",sx:{pb:3},children:"Steps"}),k.map((I,a)=>e.jsxs(K,{sx:{p:2,mb:1,border:"1px solid #c6c6c6",position:"relative"},children:[k.length>1&&e.jsx(Oe,{placement:"top",title:"Click to remove card",children:e.jsx(Ee,{sx:{color:ge.ERROR_MSG_COLOR,position:"absolute",right:"-5px",top:"-5px",zIndex:"99",cursor:"pointer",fontSize:"18px",background:"#fff",borderRadius:"50%"},onClick:()=>d(a)})}),e.jsx(l,{mb:4,children:e.jsx(qe,{name:`cards.${a}.heading`,control:x,render:({field:c})=>{var i,m,g,n,C;return e.jsx(P,{...c,label:"Subtitle*",variant:"outlined",fullWidth:!0,error:!!((m=(i=j.cards)==null?void 0:i[a])!=null&&m.heading),helperText:(C=(n=(g=j.cards)==null?void 0:g[a])==null?void 0:n.heading)==null?void 0:C.message})}})}),e.jsx(l,{mb:4,children:e.jsx(qe,{name:`cards.${a}.para`,control:x,render:({field:c})=>{var i,m,g,n,C;return e.jsx(P,{...c,label:"Description*",variant:"outlined",fullWidth:!0,error:!!((m=(i=j.cards)==null?void 0:i[a])!=null&&m.para),helperText:(C=(n=(g=j.cards)==null?void 0:g[a])==null?void 0:n.para)==null?void 0:C.message})}})})]},I.id)),e.jsx(l,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,my:2,children:e.jsx(ye,{type:"button",onClick:()=>$({heading:"",para:""}),children:e.jsx(Ce,{icon:"basil:add-outline",width:"32",height:"32"})})}),e.jsx(X,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:!!r,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(de,{}),variant:"contained",children:r?"PLEASE WAIT...":"SUBMIT"})})]})})})})})};Y().shape({title:S().trim().required("Title is required."),subtitle:S().trim().required("Subtitle is required."),subtitleOne:S().trim().required("Title is required."),subtitleTwo:S().trim().required("Title is required."),subtitleThree:S().trim().required("Title is required."),subtitleFour:S().trim().required("Title is required."),subtitleFive:S().trim().required("Title is required."),subtitleSix:S().trim().required("Title is required."),subtitleSeven:S().trim().required("Title is required."),descriptionOne:S().trim().required("Description is required."),descriptionTwo:S().trim().required("Description is required."),descriptionThree:S().trim().required("Description is required."),descriptionFour:S().trim().required("Description is required."),descriptionFive:S().trim().required("Description is required."),descriptionSix:S().trim().required("Description is required."),descriptionSeven:S().trim().required("Description is required."),introImageOne:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type)),introImageTwo:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type)),introImageThree:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type)),introImageFour:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type)),introImageFive:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type)),introImageSix:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type)),introImageSeven:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type))});const st=Y().shape({title:S().trim().required("Title is required."),description:S().trim().required("Description is required."),introImage:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type))}),rt=({name:t})=>{const r=ie(),{loader:u}=se(d=>d.request),[O,w]=T.useState({}),[E,x]=T.useState(""),{register:j,setValue:s,handleSubmit:R,trigger:N,formState:{errors:b}}=le({mode:"all",resolver:ce(st)}),[p,L]=T.useState({});j("introImage");const F=async d=>{let y={key:t,section:"TRADITIONAL",value:JSON.stringify({title:d.title,description:d.description,introImage:p}),status:1};try{r({type:o.PROCESSING});const{status:f,data:{message:h}}=await re(z.UPDATE,y);f===D[200]?(r({type:o.SUCCESS,payload:{message:h}}),Q.success(h),$()):r({type:o.FAILURE,payload:{message:_()}})}catch(f){r({type:o.FAILURE,payload:{message:_(f)}})}};async function k(d){var f;r({type:o.INIT_LOADER,payload:{loader:!0}});const y=oe.LOCALE;try{const h=await ne(d),{status:I}=h,{data:a,success:c}=h.data;if(c&&I===D[200]){const i=JSON.parse(a==null?void 0:a.value),{title:m,description:g,introImage:n}=i;L(n),s("title",m),s("description",g),w(g),s("introImage",(f=n==null?void 0:n.uploaded_images)!=null&&f.upload_image_url?[{size:100,type:"image/jpg"}]:{})}else x(ae[y].FETCHING_USERS_LIST)}catch(h){_(h)}r({type:o.INIT_LOADER,payload:{loader:!1}})}const $=()=>{k(`${z.GET}?key=${t}&section=TRADITIONAL`)};return T.useEffect(()=>{$()},[]),e.jsx(e.Fragment,{children:e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(l,{item:!0,md:12,children:e.jsx(K,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:R(F),noValidate:!0,children:[e.jsx(l,{mb:4,children:e.jsx(P,{...j("title"),label:"Title*",disabled:u,error:!!b.title,helperText:b.title?b.title.message:"",name:"title",variant:"outlined",fullWidth:!0})}),e.jsxs(l,{mb:4,children:[e.jsx("div",{className:b.description?"errorCkEditor description_div":"description_div",children:e.jsx(he,{name:"description",style:{position:"relative",zIndex:"20"},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},editor:je,data:O||"",onChange:(d,y)=>{s("description",y.getData()),N("description")},onReady:d=>{d.editing.view.change(y=>{y.setStyle("height","100%",d.editing.view.document.getRoot())})}})}),b.description?e.jsx(V,{error:!0,children:b.description.message}):""]}),e.jsx(pe,{setValue:s,imageObj:p,setImageObj:L,errors:b,register:j,trigger:N,name:"introImage",loader:u}),e.jsx(X,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:!!u,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(de,{}),variant:"contained",children:u?"PLEASE WAIT...":"SUBMIT"})})]})})})})})},nt=Y().shape({title:S().trim().required("Title is required."),description:S().trim().required("Description is required."),introImage:B().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type))}),at=({name:t})=>{const r=ie(),{loader:u}=se(d=>d.request),[O,w]=T.useState({}),[E,x]=T.useState(""),{register:j,setValue:s,handleSubmit:R,trigger:N,formState:{errors:b}}=le({mode:"all",resolver:ce(nt)}),[p,L]=T.useState({});j("introImage");const F=async d=>{let y={key:t,section:"VOTING",value:JSON.stringify({title:d.title,description:d.description,introImage:p}),status:1};try{r({type:o.PROCESSING});const{status:f,data:{message:h}}=await re(z.UPDATE,y);f===D[200]?(r({type:o.SUCCESS,payload:{message:h}}),Q.success(h),$()):r({type:o.FAILURE,payload:{message:_()}})}catch(f){r({type:o.FAILURE,payload:{message:_(f)}})}};async function k(d){var f;r({type:o.INIT_LOADER,payload:{loader:!0}});const y=oe.LOCALE;try{const h=await ne(d),{status:I}=h,{data:a,success:c}=h.data;if(c&&I===D[200]){const i=JSON.parse(a==null?void 0:a.value),{title:m,description:g,introImage:n}=i;L(n),s("title",m),s("description",g),w(g),s("introImage",(f=n==null?void 0:n.uploaded_images)!=null&&f.upload_image_url?[{size:100,type:"image/jpg"}]:{})}else x(ae[y].FETCHING_USERS_LIST)}catch(h){_(h)}r({type:o.INIT_LOADER,payload:{loader:!1}})}const $=()=>{k(`${z.GET}?key=${t}&section=VOTING`)};return T.useEffect(()=>{$()},[]),e.jsx(e.Fragment,{children:e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(l,{item:!0,md:12,children:e.jsx(K,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:R(F),noValidate:!0,children:[e.jsx(l,{mb:4,children:e.jsx(P,{...j("title"),label:"Title*",disabled:u,error:!!b.title,helperText:b.title?b.title.message:"",name:"title",variant:"outlined",fullWidth:!0})}),e.jsxs(l,{mb:4,children:[e.jsx("div",{className:b.description?"errorCkEditor description_div":"description_div",children:e.jsx(he,{name:"description",style:{position:"relative",zIndex:"20"},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},editor:je,data:O||"",onChange:(d,y)=>{s("description",y.getData()),N("description")},onReady:d=>{d.editing.view.change(y=>{y.setStyle("height","100%",d.editing.view.document.getRoot())})}})}),b.description?e.jsx(V,{error:!0,children:b.description.message}):""]}),e.jsx(pe,{setValue:s,imageObj:p,setImageObj:L,errors:b,register:j,trigger:N,name:"introImage",loader:u}),e.jsx(X,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:!!u,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(de,{}),variant:"contained",children:u?"PLEASE WAIT...":"SUBMIT"})})]})})})})})},ot=Y().shape({title:S().trim().required("Title is required."),subtitle:S().trim().required("Subtitle is required."),sections:Te().of(Y().shape({subtitle:S().trim().required("Subtitle is required."),description:S().trim().required("Description is required."),introImage:B().nullable().test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t&&t.uploaded_images?!0:t?["image/jpeg","image/png","image/jpg"].includes(t.type):!0).test("fileSize","Image's size cannot be more than 5 MB",t=>t&&t.uploaded_images?!0:t?t.size<=5242880:!0)}))}),lt=({name:t})=>{var I,a;const r=ie(),{loader:u}=se(c=>c.request),{register:O,setValue:w,handleSubmit:E,trigger:x,control:j,formState:{errors:s}}=le({mode:"all",resolver:ce(ot),defaultValues:{sections:[{subtitle:"",description:"",introImage:null}]}}),{fields:R,append:N,remove:b}=xe({control:j,name:"sections"}),[p,L]=T.useState([]),[F,k]=T.useState(""),$=async(c,i)=>{const m={upload_image_response_id:c};try{r({type:o.PROCESSING});const{status:g,data:{message:n}}=await be(z.DELETE_IMAGE,m);if(g===D[200])L(C=>{const A=[...C];return A[i]=null,A}),w(`sections[${i}].introImage`,null),r({type:o.SUCCESS,payload:{}}),Q.success(n);else throw new Error(_())}catch(g){r({type:o.FAILURE,payload:{message:g.message}})}},d=async(c,i)=>{const m=c.target.files[0];if(!m)return;const g=new FormData;g.append("upload_image",m);try{r({type:o.PROCESSING});const{status:n,data:{message:C,data:A}}=await be(z.UPLOAD_IMAGE,g);if(n===D[200])L(q=>{const v=[...q];return v[i]={...A,size:m.size},v}),w(`sections[${i}].introImage`,{...A,size:m.size}),await x(`sections[${i}].introImage`),r({type:o.SUCCESS,payload:{}}),Q.success(C);else throw new Error(_())}catch(n){r({type:o.FAILURE,payload:{message:_(n)}})}},y=async c=>{let i={key:t,section:"CHOOSE",value:JSON.stringify({title:c.title,subtitle:c.subtitle,sections:c.sections}),status:1};try{r({type:o.PROCESSING});const{status:m,data:{message:g}}=await re(z.UPDATE,i);m===D[200]?(r({type:o.SUCCESS,payload:{message:g}}),Q.success(g),h()):r({type:o.FAILURE,payload:{message:_()}})}catch(m){r({type:o.FAILURE,payload:{message:_(m)}})}};async function f(c){r({type:o.INIT_LOADER,payload:{loader:!0}});const i=oe.LOCALE;try{const m=await ne(c),{status:g}=m,{data:n,success:C}=m.data;if(C&&g===D[200]){const A=JSON.parse(n==null?void 0:n.value),{title:q,subtitle:v,sections:G}=A;w("title",q),w("sections",G),w("subtitle",v),L(G.map(M=>M.introImage||null))}else k(ae[i].FETCHING_USERS_LIST)}catch(m){_(m)}r({type:o.INIT_LOADER,payload:{loader:!1}})}const h=()=>{f(`${z.GET}?key=${t}&section=CHOOSE`)};return T.useEffect(()=>{h()},[]),e.jsx(e.Fragment,{children:e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(l,{item:!0,md:12,children:e.jsx(K,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:E(y),noValidate:!0,children:[e.jsx(l,{mb:4,children:e.jsx(P,{...O("title"),label:"Title*",disabled:u,error:!!s.title,helperText:(I=s.title)==null?void 0:I.message,name:"title",variant:"outlined",fullWidth:!0})}),e.jsx(l,{mb:4,children:e.jsx(P,{...O("subtitle"),label:"Subtitle*",disabled:u,error:!!s.subtitle,helperText:(a=s.subtitle)==null?void 0:a.message,name:"subtitle",variant:"outlined",fullWidth:!0})}),e.jsx(l,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:R.map((c,i)=>{var m,g,n,C,A,q,v,G,M,Z,ue,H,J;return e.jsxs(l,{item:!0,md:6,children:[e.jsx(fe,{sx:{mb:2},children:e.jsx(te,{variant:"h5",children:`Section ${i+1}`})}),e.jsx(l,{mb:4,children:e.jsx(P,{...O(`sections[${i}].subtitle`),label:"Section Title*",disabled:u,error:!!((g=(m=s==null?void 0:s.sections)==null?void 0:m[i])!=null&&g.subtitle),helperText:(A=(C=(n=s==null?void 0:s.sections)==null?void 0:n[i])==null?void 0:C.subtitle)==null?void 0:A.message,name:`sections[${i}].subtitle`,variant:"outlined",fullWidth:!0})}),e.jsxs(l,{mb:4,children:[e.jsx("div",{className:(v=(q=s==null?void 0:s.sections)==null?void 0:q[i])!=null&&v.description?"errorCkEditor description_div":"description_div",children:e.jsx(he,{editor:je,data:c.description,onChange:(U,W)=>{w(`sections[${i}].description`,W.getData()),x(`sections[${i}].description`)},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},onReady:U=>{U.editing.view.change(W=>{W.setStyle("height","100%",U.editing.view.document.getRoot())})}})}),((M=(G=s==null?void 0:s.sections)==null?void 0:G[i])==null?void 0:M.description)&&e.jsx(V,{error:!0,children:s.sections[i].description.message})]}),e.jsxs(l,{position:"relative",mb:2,children:[(ue=(Z=p[i])==null?void 0:Z.uploaded_images)!=null&&ue.upload_image_url?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{title:"Click to remove image",placement:"top",children:e.jsx(Ee,{sx:{color:ge.ERROR_MSG_COLOR,position:"absolute",top:-5,right:-5,cursor:"pointer",fontSize:"18px",zIndex:99,background:"white",borderRadius:"50%"},onClick:()=>{var U,W;(W=(U=p[i])==null?void 0:U.uploaded_images)!=null&&W.upload_image_response_id&&$(p[i].uploaded_images.upload_image_response_id,i),x(`sections[${i}].introImage`)}})}),e.jsx(Ie,{sx:{width:"auto",height:"10em",border:`2.5px dashed ${s[`sections[${i}].introImage`]?"#ff4842":"#20A2B8"}`,color:`${s[`sections[${i}].introImage`]?"#ff4842":"#fff"}`,cursor:"pointer",backgroundColor:"#e6ecec"},variant:"rounded",src:p[i].uploaded_images.upload_image_url,className:"create-blog-image"})]}):e.jsxs("label",{htmlFor:`icon-upload-${i}`,children:[u?e.jsx(Le,{variant:"rectangular",width:"100%",height:"10em"}):e.jsx(Ie,{sx:{width:"auto",height:"10em",border:`2.5px dashed ${s[`sections[${i}].introImage`]?"#ff4842":"#20A2B8"}`,color:`${s[`sections[${i}].introImage`]?"#ff4842":"#fff"}`,cursor:"pointer",backgroundColor:"#e6ecec"},variant:"rounded",children:e.jsxs(X,{container:!0,alignItems:"center",justifyContent:"center",children:[e.jsx(Re,{sx:{fontSize:"3em",color:`${s[`sections[${i}].introImage`]?"#ff4842":ge.PRIMARY_COLOR}`}}),e.jsx(te,{color:ge.PRIMARY_COLOR,variant:"h4",children:"Upload file"}),e.jsx(V,{error:!1,children:"Allowed *.jpeg, *.jpg, *.png max size of 5 MB."})]})}),e.jsx("input",{accept:"image/*",id:`icon-upload-${i}`,type:"file",style:{display:"none"},onChange:U=>{d(U,i),x(`sections[${i}].introImage`)}})]}),s[`sections[${i}].introImage`]&&e.jsx(V,{error:!0,children:s[`sections[${i}].introImage`].message||""})]}),((J=(H=s==null?void 0:s.sections)==null?void 0:H[i])==null?void 0:J.introImage)&&e.jsx(V,{error:!0,children:s.sections[i].introImage.message}),R.length>1&&e.jsx(l,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",mt:2,children:e.jsx(ye,{type:"button",onClick:()=>{b(i),L(U=>{const W=[...U];return W[i]=null,W})},color:"error",children:"Remove Section"})})]},c.id)})}),e.jsx(l,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",mt:2,children:e.jsx(ye,{type:"button",onClick:()=>N({subtitle:"",description:"",introImage:null}),children:e.jsx(Ce,{icon:"basil:add-outline",width:"32",height:"32"})})}),e.jsx(X,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:u,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(de,{}),variant:"contained",children:u?"PLEASE WAIT...":"SUBMIT"})})]})})})})})},oi=()=>{var x,j;const t=ve(),[r,u]=T.useState("INTRO");function O(s){return{value:s,id:`content-tab-${s}`,"aria-controls":`content-tabpanel-${s}`}}const w=(s,R)=>{u(R)},E=(j=(x=t==null?void 0:t.state)==null?void 0:x.name)==null?void 0:j.replace(/[\s/]+/g,"-").toLowerCase();return e.jsxs(e.Fragment,{children:[e.jsx($e,{title:we.WEB_CONTENT}),e.jsxs(Ne,{className:"page-container users-page",heading:we.WEB_CONTENT,children:[e.jsx(ze,{breadcrumbs:[e.jsx(_e,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:Ae.DASHBOARD,children:"dashboard"}),e.jsx(_e,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:Ae.WEB_CONTENT,children:"Web-content"}),e.jsx(_e,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:Ae.PRODUCT_LIST,children:"Products-list"}),E]}),e.jsxs(K,{sx:{mt:4,boxShadow:3},children:[e.jsx(fe,{children:e.jsxs(ke,{value:r,onChange:w,variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",children:[e.jsx(ee,{label:"Introduction",...O("INTRO")}),e.jsx(ee,{label:"Create",...O("CREATE")}),e.jsx(ee,{label:"Easily Start",...O("START")}),e.jsx(ee,{label:"What is",...O("WHAT")}),e.jsx(ee,{label:"Stand Out",...O("STAND_OUT")}),e.jsx(ee,{label:"Explore More",...O("EXPLORE")}),e.jsx(ee,{label:"For Teachers & business",...O("TEACHER_BUSINESS")}),e.jsx(ee,{label:"How To Create",...O("HOW_CREATE")}),e.jsx(ee,{label:"Why Choose",...O("CHOOSE")}),e.jsx(ee,{label:"Traditional Crossword",...O("TRADITIONAL")}),e.jsx(ee,{label:"One-Time Voting",...O("VOTING")})]})}),r==="INTRO"&&e.jsx(Me,{name:E}),r==="CREATE"&&e.jsx(Be,{name:E}),r==="START"&&e.jsx(Ve,{name:E}),r==="WHAT"&&e.jsx(Je,{name:E}),r==="STAND_OUT"&&e.jsx(Ye,{name:E}),r==="EXPLORE"&&e.jsx(Ke,{name:E}),r==="TEACHER_BUSINESS"&&e.jsx(et,{name:E}),r==="HOW_CREATE"&&e.jsx(it,{name:E}),r==="TRADITIONAL"&&e.jsx(rt,{name:E}),r==="CHOOSE"&&e.jsx(lt,{name:E}),r==="VOTING"&&e.jsx(at,{name:E})]})]})]})};export{oi as default};
