import{a as W,r as e,j as t,Q as V,G as n,L as X,R as J,V as a,Y as Z,a7 as f,d as _,a4 as b,N as ee,g as te,D as se}from"./index-Bb4T6yJS.js";import{P as oe}from"./breadcrumbs-BoNbTSIP.js";import{P as ae}from"./container-Mdzkb4R0.js";import{A as re}from"./helmet-BKDsicQe.js";import{A as p}from"./apiErrorResonse-CCtXlH33.js";import{U as i}from"./paginations-D9J1AZ49.js";import{u as ne}from"./textDebounce-D7e2mMPI.js";import{B as D,A as ce}from"./BlockCard-DvE7Za8v.js";import"./Typography-BvK0EBjx.js";import"./Stack-yqW3PSS6.js";import"./styled-BzESMtjz.js";import"./Breadcrumbs-CYgmF-zU.js";import"./ButtonBase-D0CLtmKS.js";import"./useSlotProps-CkCdCphK.js";import"./DeleteOutlineRounded-whF8ow73.js";import"./Modal-BEZPFFVa.js";import"./Portal-DOJFZdR8.js";import"./useId-BQiMa7-Q.js";import"./Card-Cg269qA4.js";import"./createSvgIcon-Cvxe-UMk.js";import"./useControlled-DpDQkWSS.js";import"./useMediaQuery-B2-mEylA.js";import"./Button-CoPqx7My.js";import"./LoadingButton-D3WD33Li.js";import"./Iconify-B2ea3Vhk.js";import"./iconify-C-ngdJty.js";import"./Box-B1asL3_Y.js";import"./createBox-Z02cO3O7.js";import"./SkeltonCardLoader-BFqZXtrl.js";import"./Skeleton-Cv9Q_VQE.js";import"./colorManipulator-C6WsgVx8.js";import"./Avatar-CkCB1SYh.js";import"./index-D8g0v2aH.js";import"./useSlot-KITjY7au.js";const ie="/assets/covericon-DFN3W78Q.jpg",le="/assets/text-imageicon-DdpfSigr.jpg",tt=()=>{const o=W(),[pe,N]=e.useState(null),[de,$]=e.useState(null),[R,ue]=e.useState(10),[L,me]=e.useState(1);e.useState(1);const[Ee,v]=e.useState(0),[G,k]=e.useState([]),[ge,d]=e.useState(!1),[Se,O]=e.useState(!1),[he,y]=e.useState(""),[c,u]=e.useState(null),[xe,F]=e.useState({}),[B,Ae]=e.useState(""),[M,Pe]=ne(),[T,m]=e.useState(!1),[E,j]=e.useState(null),g=(s,r)=>{j(s.currentTarget),u(r)},S=()=>{j(null)},h=s=>{const r=G.find(U=>U.id===s);u(s),F(r)},I=s=>{m(s)},x=()=>{N(null),$(null),u(null)},w=async()=>{try{o({type:a.PROCESSING});const{status:s,data:{message:r}}=await Z(`${f.DELETE}/${c}`);s===_[200]?(o({type:a.SUCCESS,payload:{message:r}}),b.success("Product deleted successfull."),C(`${f.LIST}?${i.PAGE_NO.KEY}=1&${i.ROWS_PER_PAGE.KEY}=10`)):o({type:a.FAILURE,payload:{message:p()}}),x(),I(!1)}catch(s){o({type:a.FAILURE,payload:{message:p(s)}}),b.error(`${s.response.data.message}`),x(),I(!1)}},H=()=>{C(`${f.LIST}?${i.PAGE_NO.KEY}=${L}&${i.ROWS_PER_PAGE.KEY}=${R}&${i.SEARCH_TEXT.KEY}=${B}`)};async function C(s,r,U){d(!0),o({type:a.INIT_LOADER,payload:{loader:!0}});let P;const Y=se.LOCALE;try{const l=await ee(s),{status:q}=l,{data:{productsDetails:z,totalCounts:K},success:Q}=l.data;Q&&q===_[200]?(k(z.rows),d(!1),O(!1),v(K),o({type:a.INIT_LOADER,payload:{loader:!1}})):(y(te[Y].FETCHING_USERS_LIST),o({type:a.FAILURE,payload:{message:p()}}))}catch(l){P=p(l),O(!0),y(P),d(!1),o({type:a.FAILURE,payload:{message:P}})}}const A=()=>{m(!0)};return e.useEffect(()=>{H()},[L,R,M]),t.jsxs(t.Fragment,{children:[t.jsx(re,{title:V.PRODUCTS}),t.jsxs(ae,{className:"page-container users-page",heading:"Blocks",children:[t.jsx(n,{container:!0,justifyContent:"space-between",alignItems:"flex-start",spacing:2,children:t.jsx(n,{item:!0,children:t.jsx(oe,{breadcrumbs:[t.jsx(X,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:J.DASHBOARD,children:"dashboard"}),"Blocks"]})})}),t.jsxs(n,{container:!0,spacing:3,sx:{pt:2},children:[t.jsx(n,{item:!0,xs:6,sm:4,md:3,lg:2.4,children:t.jsx(D,{path:"/dashboard/blocks/cover",color:"primary",title:"Cover",hoveredUserId:c,handleOpenMenu:h,handlePopoverOpen:g,handlePopoverClose:S,handleDelete:A,anchorEl:E,icon:ie})}),t.jsx(n,{item:!0,xs:6,sm:4,md:3,lg:2.4,children:t.jsx(D,{path:"/dashboard/blocks/text-image",color:"primary",title:"Text and Image",hoveredUserId:c,handleOpenMenu:h,handlePopoverOpen:g,handlePopoverClose:S,handleDelete:A,anchorEl:E,icon:le})}),t.jsx(n,{item:!0,xs:6,sm:4,md:3,lg:2.4,children:t.jsx(D,{path:"/dashboard/blocks/quiz",color:"primary",title:"Quiz",hoveredUserId:c,handleOpenMenu:h,handlePopoverOpen:g,handlePopoverClose:S,handleDelete:A,anchorEl:E,icon:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1728477795/tfq1jh4bual2u5hoahqz.png"})})]})]}),T&&t.jsx(ce,{cancelAction:x,deleteAction:w,id:c,setIsOpen:m,isOpen:T})]})};export{tt as default};
