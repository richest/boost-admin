import{a as W,b as F,r as p,j as e,Q as P,L as x,R as S,G as n,V as a,a3 as q,ah as f,d as T,a4 as k,N as w,g as B,D as G}from"./index-Bb4T6yJS.js";import{A as M}from"./helmet-BKDsicQe.js";import{W as V}from"./WebBreadCrumb-CplDcnjI.js";import{P as H}from"./container-Mdzkb4R0.js";import{u as Q,o as $}from"./yup-VhrNJgti.js";import{c as z,a as u}from"./index.esm-B55s2Mzk.js";import{A as E}from"./apiErrorResonse-CCtXlH33.js";import{C as J,a as K}from"./ckeditor-DoMhieYw.js";import{d as X}from"./Send-CIV9xzto.js";import{C as y}from"./Card-Cg269qA4.js";import{T as C}from"./TextField-Dv9saPdb.js";import{F as Y}from"./FormHelperText-D8o68a4M.js";import{S as Z}from"./Stack-yqW3PSS6.js";import{L as ee}from"./LoadingButton-D3WD33Li.js";import"./breadcrumbs-BoNbTSIP.js";import"./Typography-BvK0EBjx.js";import"./Breadcrumbs-CYgmF-zU.js";import"./ButtonBase-D0CLtmKS.js";import"./useSlotProps-CkCdCphK.js";import"./Iconify-B2ea3Vhk.js";import"./iconify-C-ngdJty.js";import"./Box-B1asL3_Y.js";import"./createBox-Z02cO3O7.js";import"./Button-CoPqx7My.js";import"./styled-BzESMtjz.js";import"./createSvgIcon-Cvxe-UMk.js";import"./useId-BQiMa7-Q.js";import"./useControlled-DpDQkWSS.js";import"./Select-D_KZ1HKa.js";import"./useFormControl-oNyqkk4W.js";import"./Popover-_oog1cCQ.js";import"./Modal-BEZPFFVa.js";import"./Portal-DOJFZdR8.js";import"./Grow-BLrRft-L.js";import"./List-BGusPRli.js";const te=z().shape({title:u().trim().required("Title is required."),subtitle:u().trim().required("Subtitle is required."),description:u().trim().required("Description is required.")});function qe(){const o=W(),{loader:l}=F(t=>t.request),[j,A]=p.useState({}),[re,L]=p.useState(""),{register:b,setValue:d,handleSubmit:N,trigger:R,formState:{errors:r}}=Q({mode:"all",resolver:$(te)}),I=async t=>{let s={key:"TERMS",section:"INTRO",value:JSON.stringify({title:t.title,subtitle:t.subtitle,description:t.description}),status:1};try{o({type:a.PROCESSING});const{status:i,data:{message:c}}=await q(f.UPDATE,s);i===T[200]?(o({type:a.SUCCESS,payload:{message:c}}),k.success(c),g()):o({type:a.FAILURE,payload:{message:E()}})}catch(i){o({type:a.FAILURE,payload:{message:E(i)}})}};async function O(t){o({type:a.INIT_LOADER,payload:{loader:!0}});const s=G.LOCALE;try{const i=await w(t),{status:c}=i,{data:m,success:_}=i.data;if(_&&c===T[200]){const D=JSON.parse(m==null?void 0:m.value),{title:v,description:h,subtitle:U}=D;d("title",v),d("subtitle",U),d("description",h),A(h)}else L(B[s].FETCHING_USERS_LIST)}catch(i){E(i)}o({type:a.INIT_LOADER,payload:{loader:!1}})}const g=()=>{O(`${f.GET}?key=TERMS&section=INTRO`)};return p.useEffect(()=>{g()},[]),e.jsxs(e.Fragment,{children:[e.jsx(M,{title:P.WEB_CONTENT}),e.jsxs(H,{className:"page-container users-page",heading:"Web Content",children:[e.jsx(V,{breadcrumbs:[e.jsx(x,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:S.DASHBOARD,children:"dashboard"}),e.jsx(x,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:S.WEB_CONTENT,children:"Web-content"}),"Terms"]}),e.jsx(y,{sx:{mt:4,boxShadow:3},children:e.jsx(n,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(n,{item:!0,md:12,children:e.jsx(y,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:N(I),noValidate:!0,children:[e.jsx(n,{mb:4,children:e.jsx(C,{...b("title"),label:"Title*",disabled:l,error:!!r.title,helperText:r.title?r.title.message:"",name:"title",variant:"outlined",fullWidth:!0})}),e.jsx(n,{mb:4,children:e.jsx(C,{...b("subtitle"),label:"Subtitle*",disabled:l,error:!!r.subtitle,helperText:r.subtitle?r.subtitle.message:"",name:"subtitle",variant:"outlined",fullWidth:!0})}),e.jsxs(n,{mb:4,children:[e.jsx("div",{className:r.description?"errorCkEditor description_div":"description_div",children:e.jsx(J,{name:"description",style:{position:"relative",zIndex:"20"},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},editor:K,data:j,onChange:(t,s)=>{d("description",s.getData()),R("description")},onReady:t=>{t.editing.view.change(s=>{s.setStyle("height","100%",t.editing.view.document.getRoot())})}})}),r.description?e.jsx(Y,{error:!0,children:r.description.message}):""]}),e.jsx(Z,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(ee,{loading:!!l,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(X,{}),variant:"contained",children:l?"PLEASE WAIT...":"SUBMIT"})})]})})})})})]})]})}export{qe as default};
