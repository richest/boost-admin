const __vite__fileDeps=["assets/react-audio-visualize.es-69216c73-CTJrFg0g.js","assets/index-Bb4T6yJS.js","assets/index-wGVvXIeN.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as d,j as e,a9 as Jt,E as cs,G as ss,b as bt,a as wt,N as Or,aa as yr,a4 as Wr,p as Do,d as $c,ab as Mf,C as $f,L as xn,T as si,J as gd,ac as Of,ad as Wf,a2 as Uf,a3 as xd,a8 as fd,f as qf,e as Gf,V as Hn,P as Qf,Q as Yf}from"./index-Bb4T6yJS.js";import{P as Zf}from"./container-Mdzkb4R0.js";import{A as Jf}from"./helmet-BKDsicQe.js";import{u as nr,o as cr,F as qc,a as Xf,C as Ua}from"./yup-VhrNJgti.js";import{c as Ts,a as Rt,e as rr,f as Oc,g as qa,d as Kf}from"./index.esm-B55s2Mzk.js";import{V as Ko}from"./regexRules-CPrFAOdY.js";import{A as Ga}from"./apiErrorResonse-CCtXlH33.js";import{C as mr}from"./index-Cn4t3Ues.js";import{d as On,u as T,g as jd,R as Vf}from"./QuilEditor-Ca84KrtN.js";import{d as ri,a as ni,C as ei,M as Df,U as ej,X as tj,S as bs,T as Ir}from"./cover-tSMm5nr9.js";import{T as Sr}from"./Typography-BvK0EBjx.js";import{T as ci}from"./TextField-Dv9saPdb.js";import{C as tn}from"./Card-Cg269qA4.js";import{S as Wc}from"./Skeleton-Cv9Q_VQE.js";import{T as bd,a as $n}from"./Tabs-BapWTaVr.js";import{B as Tr}from"./Box-B1asL3_Y.js";import{B as ur}from"./Button-CoPqx7My.js";import{H as sj,S as Qa,f as Ya,N as Za,T as Ja,a as Xa,h as sr,F as oi,C as ii,R as rj,P as nj,b as cj,c as oj,d as ij,e as lj}from"./index-Cp09TBM_.js";import{S as Ut}from"./Google-BxUggrAd.js";import{r as os}from"./createSvgIcon-Cvxe-UMk.js";import{L as aj}from"./List-BGusPRli.js";import{L as Ka}from"./ListItem-B5VxjZ8V.js";import{L as Va,a as Da}from"./ListItemText-Ba4bN8XO.js";import{L as ed,D as dj}from"./ListItemIcon-DsJUgMa7.js";/* empty css              */import{R as uj,c as td}from"./confetti.module-CQHQ3kM5.js";import{C as Wn}from"./CardContent-Bzjt-mT4.js";import{d as mj}from"./ArrowBack-huGvzFdU.js";import{M as qn,B as Gn}from"./Modal-BEZPFFVa.js";import{S as sd}from"./Switch-Dc5i2Mqq.js";import{d as pj}from"./Delete-DOmi5ats.js";import"./styled-BzESMtjz.js";import"./_baseIsEqual-Djq1kusi.js";import"./Search-fSuCmzN-.js";import"./ButtonBase-D0CLtmKS.js";import"./Select-D_KZ1HKa.js";import"./useFormControl-oNyqkk4W.js";import"./useId-BQiMa7-Q.js";import"./Popover-_oog1cCQ.js";import"./useSlotProps-CkCdCphK.js";import"./Grow-BLrRft-L.js";import"./Portal-DOJFZdR8.js";import"./useControlled-DpDQkWSS.js";import"./FormHelperText-D8o68a4M.js";import"./colorManipulator-C6WsgVx8.js";import"./KeyboardArrowRight--EGT-K8b.js";import"./createBox-Z02cO3O7.js";import"./iconify-C-ngdJty.js";import"./throttle-tVVNkgM1.js";import"./listItemTextClasses-Kx3W7iDp.js";import"./listItemIconClasses-CKdqSC5K.js";import"./SwitchBase-B0q5c7pV.js";import"./index-D8g0v2aH.js";function hj({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,setShowTemplatePreview:P,cloneblock:p,handleMoveDown:h,handleMoveUp:l,handleAddBlockFromBlock:a}){var Oe,Q,ne,ge;console.warn(c,"4353534534");const n=c,i=c;console.log(i,"ioioioioioi");const v=c==null?void 0:c.struct,[b,g]=d.useState(""),[N,u]=d.useState(!1),[_,j]=d.useState(!1),[C,z]=d.useState(0),[E,M]=d.useState(0);d.useState(null);const[S,F]=d.useState(null),[y,A]=d.useState(!1),[U,ee]=d.useState({}),[oe,we]=d.useState({}),$=n,L=(Oe=$==null?void 0:$.struct)==null?void 0:Oe.playground;(Q=$==null?void 0:$.struct)==null||Q.colorTheme,console.log(b,"animationanimation");const k=()=>{td({particleCount:200,spread:360,origin:{x:.5,y:.5},colors:["#ffcc00","#ff6600","#ff0066"],shapes:["star"]})},q=()=>{for(let he=0;he<5;he++)setTimeout(()=>{td({particleCount:200,spread:360,origin:{x:Math.random(),y:Math.random()*.5},colors:["#ffcc00","#ff6600","#ff0066","#00ccff","#00ff66"],shapes:["circle","square"],scalar:1.2,gravity:.4,decay:.92,startVelocity:60+Math.random()*40,ticks:300})},he*800)},V=(ne=c==null?void 0:c.struct)==null?void 0:ne.isShowRestartButton,Y=()=>{var Z,R,ce;console.warn("jijijijji"),j(!0),z(null);const J=((Z=v==null?void 0:v.sections)==null?void 0:Z.length)||6,he=360/J,Ie=Math.floor(Math.random()*5)+5,Ge=G??Math.floor(Math.random()*J);console.log(Ge,"ioioioioioio");const xe=Ie*360+(360-Ge*he);console.log("REACHEDDDDDD4");const D=(ce=(R=c==null?void 0:c.struct)==null?void 0:R.playground)==null?void 0:ce.animationDuration;z(xe),M(D),console.log("REACHEDDDDDD5"),setTimeout(()=>{var me;const te=(me=c==null?void 0:c.struct)==null?void 0:me.sections[Ge];console.log(te,"MEEEEEGETSELECTED"),we(te),setTimeout(()=>{A(!0)},5e3)},D*1e3)},se=()=>{we({}),j(!1),z(0),A(!1),u(!1)};d.useEffect(()=>{ee(L)},[L]);const Pe=J=>{switch(J){case"VERY_HIGH":return 4;case"HIGH":return 3;case"NORMAL":return 1;case"LOW":return .5;default:return 1}},Se=(v==null?void 0:v.sections)||[];console.log(Se.map(J=>J==null?void 0:J.probabilityOfWinning),"sqqsqqsqs"),Se.map(J=>Pe(J.probabilityOfWinning));const G=(()=>{const J=(v==null?void 0:v.sections)||[];console.warn("in WEIGHTEDD");const he=J==null?void 0:J.map(xe=>Pe(xe.probabilityOfWinning));console.warn(he,"io008880");const Ie=he.reduce((xe,D)=>xe+D,0);let Ge=Math.random()*Ie;console.log(Ie,"p2ep22e2e");for(let xe=0;xe<J.length;xe++)if(Ge-=he[xe],Ge<=0)return xe;return J.length-1})(),le=J=>{switch(J){case"ANALOGOUS":return["#ff6600","#ff9900","#ffcc00","#ff3300","#ff6633","#ff9966","#ff3300","#ff6600","#ffcc00","#ff9933","#ff6600"];case"MONOCHROMATIC":return["#3333ff","#6666ff","#9999ff","#ccccff","#aaaaff","#ddddff","#b3b3ff","#9999ff","#8080ff","#6666ff","#4c4cff"];case"TRIADIC":return["#ff0000","#00ff00","#0000ff","#ff6600","#66ffcc","#ff0066","#cc0000","#00cc00","#0000cc","#ff3300","#33ff66"];case"SPLIT COMPLEMENTARY":return["#ff6600","#66ffcc","#ff0066","#cc6600","#66cc99","#990066","#ff3300","#33ff99","#ff9933","#3399cc","#ff6600"];default:return["#ffffff","#cccccc","#999999","#666666","#333333","#000000","#9999ff","#ffcc00","#cc66ff","#ff6600","#66cc66"]}},ae=()=>{console.log("TRIGGERED")};console.log(c==null?void 0:c.struct,"data?.structdata?.struct");const[ye,Te]=d.useState(window.innerWidth);return d.useEffect(()=>{const J=()=>Te(window.innerWidth);return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]),d.useEffect(()=>{var J;g((J=i==null?void 0:i.struct)==null?void 0:J.animation)},[i]),d.useEffect(()=>{typeof s!="function"&&console.warn("⚠️ handleSelectBlock is not a function")},[s]),e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("spin-wheel",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("spin-wheel",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>P("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]}),e.jsx("div",{className:"disabled-panel",children:e.jsxs(e.Fragment,{children:[y!==!0&&e.jsxs("div",{id:"remix-app-root",children:[e.jsx("div",{id:"pagination"}),e.jsx("div",{className:"page",children:e.jsx("div",{className:"block __26 wheelSpin-block",children:e.jsxs("div",{className:"wheel-spin-container",children:[e.jsx("div",{className:"wheel-spin",children:e.jsxs("div",{className:"wheel-spin__wheel-container",style:{width:"100%"},children:[e.jsx("div",{className:"wheel-spin__spin-button",onClick:_?ae:Y,style:{backgroundImage:`url(${(ge=v==null?void 0:v.playground)==null?void 0:ge.spinImageUrl})`,width:"114px",height:"114px",left:"calc(50% - 57px)",top:"calc(50% - 57px)"}}),e.jsx("div",{className:"wheel-spin__win-arrow",style:{height:"74px",top:"-27px"},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 60",width:"100",height:"60",children:e.jsx("path",{d:"M16.3794 13.1536L47.4321 53.2769C48.226 54.3027 49.774 54.3027 50.5679 53.2769L81.6207 13.1536C82.63 11.8494 81.7012 9.95376 80.0527 9.95376L17.9473 9.95376C16.2989 9.95376 15.37 11.8494 16.3794 13.1536ZM42.7284 56.9225C45.9042 61.0258 52.0959 61.0258 55.2716 56.9225L86.3243 16.7992C90.3617 11.5825 86.6463 4.00001 80.0527 4.00001L17.9473 4C11.3537 4 7.63831 11.5825 11.6757 16.7992L42.7284 56.9225Z",fill:"filled",stroke:"red",strokeWidth:"2"})})}),e.jsx("ul",{className:"wheel-sections",style:{transform:`rotate(${C}deg)`,transition:`transform ${E}s ease-out`,borderWidth:"14px",width:"100%",height:"auto",aspectRatio:"1/1",padding:0},children:v==null?void 0:v.sections.map((J,he)=>{var ce,te,me;const Ie=v==null?void 0:v.sections.length,Ge=360/Ie,xe=Math.min(ye*.8,720),D=Math.max(0,2*(xe/2)*Math.tan(Ge/2*(Math.PI/180))-2),Z=(xe-D)/2,R=((te=le((ce=i==null?void 0:i.struct)==null?void 0:ce.colorScheme))==null?void 0:te[he%Ie])||"red";return e.jsx("li",{className:`wheel-section ${String(oe==null?void 0:oe.id)===String(J.id)?"highlighted":""}`,style:{width:`${D}px`,clipPath:Ie>2?"polygon(100% 0px, 50% 100%, 0px 0px)":"none","--sectionRotateDeg":`${Ge*he}deg`,left:`${Z}px`,backgroundColor:R,border:String(oe==null?void 0:oe.id)===String(J.id)?"":"none",transition:"border 0.5s ease-in-out",boxSizing:"border-box"},children:e.jsx("div",{className:"wheel-section-content",style:{height:`${xe*.2}px`,bottom:Ie===2?"50%":`${xe*.24}px`,width:`${D}px`},children:(L==null?void 0:L.sectionType)==="TEXT"?e.jsx("div",{className:"wheel-section-content__text",style:{color:"#fff",fontFamily:(me=i[1])==null?void 0:me.fontFamily,lineHeight:"1.4",fontWeight:"700",fontSize:`${Math.max(16,xe*.05)}px`},children:J==null?void 0:J.text}):e.jsx("div",{className:"wheel-section-content__image",style:{width:`${D}px`,height:"auto",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("div",{className:"wheel-section-content__image__img",style:{backgroundImage:`url(${J.imageUrl})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",height:"100%"}})})})},J.id)})})]})}),(U==null?void 0:U.isShowCover)&&e.jsx("div",{className:"modal cover-modal",children:e.jsx("div",{className:"modal__content",children:e.jsx("div",{className:"modal__content-scroll",children:e.jsxs("div",{className:"common-cover",children:[e.jsx("h2",{className:"common-cover__title",children:U==null?void 0:U.coverHeader}),e.jsx("button",{style:{backgroundColor:"rgb(89, 145, 203)",color:"rgb(255, 255, 255)"},onClick:()=>ee(J=>({...J,isShowCover:!1})),className:"common-cover__button",children:U==null?void 0:U.coverButtonText})]})})})})]})})})]}),y&&e.jsxs("div",{className:"final-screen is-win",children:[e.jsx("div",{style:{paddingBottom:"75%"},className:"final-screen__image-container",children:e.jsx("div",{className:"final-screen__image",style:{backgroundImage:"url(https://p.interacty.me/default-image-bg-big.svg)",backgroundSize:"cover",backgroundPosition:"center top"}})}),e.jsxs("div",{className:"final-screen__content",children:[e.jsx("div",{className:"final-screen__content-header",children:"Congratulations"}),e.jsx("div",{className:"final-screen__content-description",children:S==null?void 0:S.resultHeader}),e.jsx("div",{className:"restart-button__wrapper",children:V!==!0&&e.jsxs("button",{onClick:se,className:"restart-button__btn",children:[" ","Restart"]})})]})]}),console.log(N&&b,"showani && animation",b,N),N&&b=="FIREWORKS"&&q(),N&&b==="STAR"&&k(),N&&b==="confetti"&&e.jsx(uj,{width:"500px",height:"500px"})]})})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}const gj=[{key:"text",name:"Text"},{key:"image",name:"Image"},{key:"logo",name:"Logo"},{key:"youtubeVideo",name:"Video"},{key:"button",name:"Button"},{key:"audio",name:"Audio"},{key:"cover",name:"Cover"},{key:"text-image",name:"Text and Image"}],xj=[{key:"quiz",name:"Quiz"},{key:"personality",name:"Personality"},{key:"memory",name:"Memory"},{key:"matchup",name:"Match Up"},{key:"spinthewheel",name:"Spin the wheel"},{key:"slidingPuzzle",name:"Sliding Puzzle"},{key:"findPair",name:"Find One Pair"},{key:"rankbattle",name:"Rank Battle"},{key:"slideShow",name:"Slide show"},{key:"leadForm",name:"Leadform"},{key:"flipCard",name:"Flipcard"},{key:"timeline",name:"Timeline"},{key:"thenNow",name:"Then & Now"},{key:"cookies",name:"Cookies"},{key:"horoscope",name:"Horoscope"},{key:"hiddenObjects",name:"Hidden Objects"},{key:"puzzle",name:"Puzzle"},{key:"treasurehunt",name:"Treasure Hunt"}];Jt();var li={},fj=cs;Object.defineProperty(li,"__esModule",{value:!0});var vd=li.default=void 0,jj=fj(os()),rd=e;vd=li.default=(0,jj.default)([(0,rd.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4z"},"0"),(0,rd.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-5.99 13c-.59 0-1.05-.47-1.05-1.05 0-.59.47-1.04 1.05-1.04.59 0 1.04.45 1.04 1.04-.01.58-.45 1.05-1.04 1.05m2.5-6.17c-.63.93-1.23 1.21-1.56 1.81-.13.24-.18.4-.18 1.18h-1.52c0-.41-.06-1.08.26-1.65.41-.73 1.18-1.16 1.63-1.8.48-.68.21-1.94-1.14-1.94-.88 0-1.32.67-1.5 1.23l-1.37-.57C11.51 5.96 12.52 5 13.99 5c1.23 0 2.08.56 2.51 1.26.37.61.58 1.73.01 2.57"},"1")],"Quiz");var ai={},bj=cs;Object.defineProperty(ai,"__esModule",{value:!0});var Nd=ai.default=void 0,vj=bj(os()),Nj=e;Nd=ai.default=(0,vj.default)((0,Nj.jsx)("path",{d:"M20.5 4c-2.61.7-5.67 1-8.5 1s-5.89-.3-8.5-1L3 6c1.86.5 4 .83 6 1v12h2v-6h2v6h2V7c2-.17 4.14-.5 6-1zM12 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2M7 24h2v-2H7zm4 0h2v-2h-2zm4 0h2v-2h-2z"}),"SettingsAccessibility");var di={},_j=cs;Object.defineProperty(di,"__esModule",{value:!0});var _d=di.default=void 0,wj=_j(os()),Cj=e;_d=di.default=(0,wj.default)((0,Cj.jsx)("path",{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19c1.1 0 2-.89 2-2v-4zm-1-5.05-4.95 4.95-3.54-3.54 4.95-4.95zm-4.24-5.66L6.39 8.66c-.39.39-.39 1.02 0 1.41l4.95 4.95c.39.39 1.02.39 1.41 0l6.36-6.36c.39-.39.39-1.02 0-1.41L14.16 2.3c-.38-.4-1.01-.4-1.4-.01"}),"HowToVote");var ui={},yj=cs;Object.defineProperty(ui,"__esModule",{value:!0});var wd=ui.default=void 0,Sj=yj(os()),Tj=e;wd=ui.default=(0,Sj.default)((0,Tj.jsx)("path",{d:"M15 9H9v6h6zm-2 4h-2v-2h2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2zm-4 6H7V7h10z"}),"Memory");var mi={},Ij=cs;Object.defineProperty(mi,"__esModule",{value:!0});var Cd=mi.default=void 0,kj=Ij(os()),nd=e;Cd=mi.default=(0,kj.default)([(0,nd.jsx)("ellipse",{cx:"12",cy:"12",rx:"3",ry:"5.74"},"0"),(0,nd.jsx)("path",{d:"M9.04 16.87c-.33.08-.68.13-1.04.13-2.76 0-5-2.24-5-5s2.24-5 5-5c.36 0 .71.05 1.04.13.39-.56.88-1.12 1.49-1.63C9.75 5.19 8.9 5 8 5c-3.86 0-7 3.14-7 7s3.14 7 7 7c.9 0 1.75-.19 2.53-.5-.61-.51-1.1-1.07-1.49-1.63M16 5c-.9 0-1.75.19-2.53.5.61.51 1.1 1.07 1.49 1.63.33-.08.68-.13 1.04-.13 2.76 0 5 2.24 5 5s-2.24 5-5 5c-.36 0-.71-.05-1.04-.13-.39.56-.88 1.12-1.49 1.63.78.31 1.63.5 2.53.5 3.86 0 7-3.14 7-7s-3.14-7-7-7"},"1")],"JoinInner");var pi={},Lj=cs;Object.defineProperty(pi,"__esModule",{value:!0});var yd=pi.default=void 0,Rj=Lj(os()),Ej=e;yd=pi.default=(0,Rj.default)((0,Ej.jsx)("path",{d:"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47M6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47m1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93"}),"RotateLeft");var hi={},Aj=cs;Object.defineProperty(hi,"__esModule",{value:!0});var Sd=hi.default=void 0,Pj=Aj(os()),Fj=e;Sd=hi.default=(0,Pj.default)((0,Fj.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel");var gi={},zj=cs;Object.defineProperty(gi,"__esModule",{value:!0});var Td=gi.default=void 0,Bj=zj(os()),Hj=e;Td=gi.default=(0,Bj.default)((0,Hj.jsx)("path",{d:"M20 19V5c0-1.1-.9-2-2-2h-5.25v16h-1.5V3H6c-1.1 0-2 .9-2 2v14H3v2h18v-2zm-10-6H8v-2h2zm6 0h-2v-2h2z"}),"DoorSliding");var xi={},Mj=cs;Object.defineProperty(xi,"__esModule",{value:!0});var Id=xi.default=void 0,$j=Mj(os()),Oj=e;Id=xi.default=(0,$j.default)((0,Oj.jsx)("path",{d:"M11 6c1.38 0 2.63.56 3.54 1.46L12 10h6V4l-2.05 2.05C14.68 4.78 12.93 4 11 4c-3.53 0-6.43 2.61-6.92 6H6.1c.46-2.28 2.48-4 4.9-4m5.64 9.14c.66-.9 1.12-1.97 1.28-3.14H15.9c-.46 2.28-2.48 4-4.9 4-1.38 0-2.63-.56-3.54-1.46L10 12H4v6l2.05-2.05C7.32 17.22 9.07 18 11 18c1.55 0 2.98-.51 4.14-1.36L20 21.49 21.49 20z"}),"FindReplace");var fi={},Wj=cs;Object.defineProperty(fi,"__esModule",{value:!0});var kd=fi.default=void 0,Uj=Wj(os()),qj=e;kd=fi.default=(0,Uj.default)((0,qj.jsx)("path",{d:"M10 8v8l5-4zm9-5H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14z"}),"Slideshow");var ji={},Gj=cs;Object.defineProperty(ji,"__esModule",{value:!0});var Ld=ji.default=void 0,Qj=Gj(os()),Yj=e;Ld=ji.default=(0,Qj.default)((0,Yj.jsx)("path",{d:"M7.5 21H2V9h5.5zm7.25-18h-5.5v18h5.5zM22 11h-5.5v10H22z"}),"Leaderboard");var bi={},Zj=cs;Object.defineProperty(bi,"__esModule",{value:!0});var Rd=bi.default=void 0,Jj=Zj(os()),Xj=e;Rd=bi.default=(0,Jj.default)((0,Xj.jsx)("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"}),"AutoStories");var vi={},Kj=cs;Object.defineProperty(vi,"__esModule",{value:!0});var Ed=vi.default=void 0,Vj=Kj(os()),Dj=e;Ed=vi.default=(0,Vj.default)((0,Dj.jsx)("path",{d:"M9.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2M5.75 8.9 3 23h2.1l1.75-8L9 17v6h2v-7.55L8.95 13.4l.6-3C10.85 12 12.8 13 15 13v-2c-1.85 0-3.45-1-4.35-2.45l-.95-1.6C9.35 6.35 8.7 6 8 6c-.25 0-.5.05-.75.15L2 8.3V13h2V9.65zM13 2v7h3.75v14h1.5V9H22V2zm5.01 6V6.25H14.5v-1.5h3.51V3l2.49 2.5z"}),"FollowTheSigns");var Ni={},e0=cs;Object.defineProperty(Ni,"__esModule",{value:!0});var Ad=Ni.default=void 0,t0=e0(os()),s0=e;Ad=Ni.default=(0,t0.default)((0,s0.jsx)("path",{d:"M21.95 10.99c-1.79-.03-3.7-1.95-2.68-4.22-2.98 1-5.77-1.59-5.19-4.56C6.95.71 2 6.58 2 12c0 5.52 4.48 10 10 10 5.89 0 10.54-5.08 9.95-11.01M8.5 15c-.83 0-1.5-.67-1.5-1.5S7.67 12 8.5 12s1.5.67 1.5 1.5S9.33 15 8.5 15m2-5C9.67 10 9 9.33 9 8.5S9.67 7 10.5 7s1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 6c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"Cookie");var _i={},r0=cs;Object.defineProperty(_i,"__esModule",{value:!0});var Pd=_i.default=void 0,n0=r0(os()),c0=e;Pd=_i.default=(0,n0.default)((0,c0.jsx)("path",{d:"M11 2h2v5h8v3h-8v4h5v3h-5v5h-2v-5H6v-3h5v-4H3V7h8z"}),"AlignHorizontalCenter");var wi={},o0=cs;Object.defineProperty(wi,"__esModule",{value:!0});var Fd=wi.default=void 0,i0=o0(os()),l0=e;Fd=wi.default=(0,i0.default)((0,l0.jsx)("path",{d:"M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2m-3 6.42 3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4z"}),"BrokenImage");var Ci={},a0=cs;Object.defineProperty(Ci,"__esModule",{value:!0});var zd=Ci.default=void 0,d0=a0(os()),u0=e;zd=Ci.default=(0,d0.default)((0,u0.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");var yi={},m0=cs;Object.defineProperty(yi,"__esModule",{value:!0});var Bd=yi.default=void 0,p0=m0(os()),h0=e;Bd=yi.default=(0,p0.default)((0,h0.jsx)("path",{d:"m19.78 22.61-1.63-1.63c-.05 0-.1.02-.15.02h-3.8c0-2.71-2.16-3-2.7-3s-2.7.29-2.7 3H5c-1.1 0-2-.9-2-2v-3.8c2.71 0 3-2.16 3-2.7s-.3-2.7-2.99-2.7V6c0-.05.02-.09.02-.14L1.39 4.22 2.8 2.81l18.38 18.38zm.22-5.44V15c1.38 0 2.5-1.12 2.5-2.5S21.38 10 20 10V6c0-1.1-.9-2-2-2h-4c0-1.38-1.12-2.5-2.5-2.5S9 2.62 9 4H6.83z"}),"ExtensionOff");var Si={},g0=cs;Object.defineProperty(Si,"__esModule",{value:!0});var Hd=Si.default=void 0,x0=g0(os()),f0=e;Hd=Si.default=(0,x0.default)((0,f0.jsx)("path",{d:"M17.06 11.57c.59-.69.94-1.59.94-2.57 0-1.86-1.27-3.43-3-3.87V3h-2v2h-2V3H9v2H6v2h2v10H6v2h3v2h2v-2h2v2h2v-2c2.21 0 4-1.79 4-4 0-1.45-.78-2.73-1.94-3.43M10 7h4c1.1 0 2 .9 2 2s-.9 2-2 2h-4zm5 10h-5v-4h5c1.1 0 2 .9 2 2s-.9 2-2 2"}),"CurrencyBitcoin");var Ti={},j0=cs;Object.defineProperty(Ti,"__esModule",{value:!0});var Md=Ti.default=void 0,b0=j0(os()),v0=e;Md=Ti.default=(0,b0.default)((0,v0.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 14H6v-2h6zm3-4H9v-2h6zm3-4h-6V7h6z"}),"ViewTimeline");const N0="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.99998%205.35716H12V6.78571H15V2.5H0V6.78571H3.00001V5.35716H6.00002V19.6428H3.00001V22.5H11.9985V19.6428H8.99998V5.35716Z'%20fill='%231EC1D1'/%3e%3cpath%20d='M12%209.50005V13.8334H15V12.3889H16.5V19.6111H15V22.5H21V19.6111H19.5V12.3889H21V13.8333H24V9.5H12V9.50005Z'%20fill='%231EC1D1'/%3e%3c/svg%3e",_0="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.37931%2022H22.6207C23.3793%2022%2024%2021.3836%2024%2020.6301V3.36986C24%202.61644%2023.3793%202%2022.6207%202H1.37931C0.62069%202%200%202.61644%200%203.36986V20.6301C0%2021.3836%200.62069%2022%201.37931%2022ZM18.9076%204.70959C20.2234%204.70959%2021.291%205.76986%2021.291%207.07671C21.291%208.38356%2020.2234%209.44384%2018.9076%209.44384C17.5917%209.44384%2016.5241%208.38356%2016.5241%207.07671C16.5241%205.76986%2017.5917%204.70959%2018.9076%204.70959ZM2.56276%2018.1507L8.68414%209.73973C9.12828%209.12877%209.85655%209.12877%2010.3007%209.73973L13.92%2014.7096C14.3641%2015.3205%2015.0924%2015.3205%2015.5366%2014.7096L16.5214%2013.3562C16.9655%2012.7452%2017.6938%2012.7452%2018.1379%2013.3562L21.6276%2018.1507C22.0717%2018.7616%2021.8152%2019.2603%2021.0566%2019.2603H3.13379C2.37517%2019.2603%202.11862%2018.7616%202.56276%2018.1507Z'%20fill='%231EC1D1'/%3e%3c/svg%3e",w0="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0%202C0%200.89543%200.895431%200%202%200H22C23.1046%200%2024%200.895431%2024%202V22C24%2023.1046%2023.1046%2024%2022%2024H2C0.89543%2024%200%2023.1046%200%2022V2ZM10.4648%2011.0933C10.5088%2010.8333%2010.5888%2010.6013%2010.7048%2010.3974C10.8208%2010.1934%2010.9808%2010.0294%2011.1768%209.9054C11.3647%209.78941%2011.6007%209.72541%2011.8927%209.72141C12.0847%209.72541%2012.2607%209.75741%2012.4126%209.8254C12.5766%209.8974%2012.7126%209.99339%2012.8286%2010.1134C12.9446%2010.2334%2013.0326%2010.3774%2013.0966%2010.5373C13.1606%2010.6973%2013.1966%2010.8693%2013.2046%2011.0493H14.6364C14.6244%2010.6733%2014.5485%2010.3294%2014.4165%2010.0174C14.2845%209.70541%2014.0925%209.43744%2013.8525%209.20946C13.6125%208.98148%2013.3246%208.80949%2012.9886%208.68551C12.6526%208.56152%2012.2807%208.49752%2011.8727%208.49752C11.3527%208.49752%2010.9008%208.58552%2010.5168%208.7655C10.1328%208.94548%209.81287%209.18946%209.5569%209.50143C9.30092%209.81341%209.10893%2010.1734%208.98495%2010.5853C8.86096%2010.9973%208.80096%2011.4333%208.80096%2011.8932V12.1132C8.80096%2012.5772%208.86496%2013.0131%208.98895%2013.4251C9.11293%2013.837%209.30492%2014.197%209.56089%2014.505C9.81687%2014.813%2010.1368%2015.0569%2010.5248%2015.2369C10.9128%2015.4169%2011.3647%2015.5049%2011.8847%2015.5049C12.2607%2015.5049%2012.6126%2015.4449%2012.9406%2015.3209C13.2686%2015.1969%2013.5565%2015.0289%2013.8045%2014.813C14.0525%2014.597%2014.2525%2014.349%2014.3965%2014.061C14.5405%2013.7731%2014.6244%2013.4691%2014.6364%2013.1411H13.2046C13.1966%2013.3091%2013.1566%2013.4611%2013.0846%2013.6051C13.0126%2013.7491%2012.9166%2013.869%2012.7966%2013.969C12.6766%2014.069%2012.5366%2014.149%2012.3766%2014.205C12.2247%2014.257%2012.0647%2014.285%2011.8927%2014.285C11.6047%2014.277%2011.3687%2014.217%2011.1768%2014.097C10.9768%2013.969%2010.8168%2013.8051%2010.7008%2013.6011C10.5848%2013.3971%2010.5048%2013.1651%2010.4608%2012.9011C10.4168%2012.6372%2010.4008%2012.3812%2010.4008%2012.1132V11.8932C10.4008%2011.6212%2010.4208%2011.3533%2010.4648%2011.0933ZM4.00142%2012.0007C4.00142%207.5811%207.5811%204.00142%2012.0007%204.00142C16.4203%204.00142%2020%207.5811%2020%2012.0007C20%2016.4203%2016.4203%2020%2012.0007%2020C7.5811%2020%204.00142%2016.4203%204.00142%2012.0007ZM5.60128%2012.0007C5.60128%2015.5284%208.47302%2018.4001%2012.0007%2018.4001C15.5284%2018.4001%2018.4001%2015.5284%2018.4001%2012.0007C18.4001%208.47302%2015.5284%205.60128%2012.0007%205.60128C8.47302%205.60128%205.60128%208.47302%205.60128%2012.0007Z'%20fill='%231EC1D1'/%3e%3c/svg%3e",C0="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.5755%204.94922H2.62582C1.18162%204.94922%200%206.13084%200%207.57504V16.4241C0%2017.8683%201.18162%2019.0499%202.62582%2019.0499H13.5755C15.0197%2019.0499%2016.2013%2017.8683%2016.2013%2016.4241V7.57504C16.2013%206.10458%2015.0197%204.94922%2013.5755%204.94922Z'%20fill='%231EC1D1'/%3e%3cpath%20d='M22.0573%206.39386C21.8998%206.42012%2021.7422%206.49889%2021.6109%206.57766L17.5146%208.9409V15.0328L21.6372%2017.396C22.3987%2017.8424%2023.344%2017.5799%2023.7904%2016.8184C23.9217%2016.582%2024.0004%2016.3195%2024.0004%2016.0306V7.91683C24.0004%206.94528%2023.0814%206.15753%2022.0573%206.39386Z'%20fill='%231EC1D1'/%3e%3c/svg%3e",y0="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%2016C13.7858%2016%2015%2014.828%2015%2012C15%2014.828%2016.2058%2016%2019%2016C16.2058%2016%2015%2017.2058%2015%2020C15%2017.2058%2013.7858%2016%2011%2016Z'%20fill='%231EC1D1'%20stroke='%231EC1D1'%20stroke-width='0.5'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2%207H22V15H19V17H22C23.1046%2017%2024%2016.1046%2024%2015V7C24%205.89543%2023.1046%205%2022%205H2C0.895431%205%200%205.89543%200%207V15C0%2016.1046%200.89543%2017%202%2017H11V15H2L2%207Z'%20fill='%231EC1D1'/%3e%3ccircle%20cx='18.5'%20cy='10.5'%20r='1.5'%20fill='%231EC1D1'/%3e%3c/svg%3e",S0="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.2594%203.69099C11.7078%203.87673%2012.0002%204.31429%2012.0002%204.79965V19.1996C12.0002%2019.685%2011.7078%2020.1225%2011.2594%2020.3083C10.811%2020.494%2010.2949%2020.3913%209.95166%2020.0481L5.50314%2015.5996H2.4002C1.73746%2015.5996%201.2002%2015.0624%201.2002%2014.3996V9.59965C1.2002%208.9369%201.73746%208.39965%202.4002%208.39965H5.50314L9.95166%203.95111C10.2949%203.60791%2010.811%203.50525%2011.2594%203.69099Z'%20fill='%231EC1D1'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.5883%203.51455C18.057%203.04593%2018.8167%203.04593%2019.2855%203.51455C21.4557%205.68481%2022.8001%208.68646%2022.8001%2011.9998C22.8001%2015.3132%2021.4557%2018.3149%2019.2855%2020.4851C18.8167%2020.9537%2018.057%2020.9537%2017.5883%2020.4851C17.1197%2020.0165%2017.1197%2019.2567%2017.5883%2018.7881C19.327%2017.0495%2020.4001%2014.6512%2020.4001%2011.9998C20.4001%209.34853%2019.327%206.95018%2017.5883%205.21161C17.1197%204.74298%2017.1197%203.98318%2017.5883%203.51455ZM14.1942%206.90867C14.6628%206.44003%2015.4227%206.44003%2015.8913%206.90867C16.5223%207.53973%2017.0373%208.28814%2017.4005%209.11939C17.7865%2010.003%2018.0001%2010.9781%2018.0001%2011.9998C18.0001%2013.9877%2017.1929%2015.7894%2015.8913%2017.091C15.4227%2017.5596%2014.6628%2017.5596%2014.1942%2017.091C13.7256%2016.6224%2013.7256%2015.8626%2014.1942%2015.394C15.0642%2014.524%2015.6001%2013.3257%2015.6001%2011.9998C15.6001%2011.315%2015.4575%2010.6666%2015.2013%2010.0803C14.9597%209.52739%2014.6164%209.02782%2014.1942%208.60572C13.7256%208.1371%2013.7256%207.37729%2014.1942%206.90867Z'%20fill='%231EC1D1'/%3e%3c/svg%3e",T0="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.48777%200.0830078H20.5116C22.3919%200.0830078%2023.9163%201.60749%2023.9163%203.48777V20.5116C23.9163%2022.3919%2022.3919%2023.9163%2020.5116%2023.9163H3.48777C1.60749%2023.9163%200.0830078%2022.3919%200.0830078%2020.5116V3.48777C0.0830078%201.60749%201.60749%200.0830078%203.48777%200.0830078ZM15.5577%2019.794H19.6238C20.3073%2019.794%2020.7125%2019.028%2020.326%2018.4628L16.8132%2013.3165C16.4752%2012.8211%2015.7449%2012.8211%2015.407%2013.3165L13.2756%2016.4403L9.86744%2011.4515C9.52952%2010.957%208.80005%2010.957%208.46213%2011.4515L3.67333%2018.4628C3.28774%2019.028%203.69206%2019.794%204.37641%2019.794H15.5577ZM3.99967%202.99967C3.44739%202.99967%202.99967%203.44739%202.99967%203.99968V7.99967C2.99967%208.55196%203.44739%208.99967%203.99967%208.99967H18.9997C19.552%208.99967%2019.9997%208.55196%2019.9997%207.99967V3.99968C19.9997%203.44739%2019.552%202.99967%2018.9997%202.99967H3.99967Z'%20fill='%231EC1D1'/%3e%3c/svg%3e",I0="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4.55757%2010.303C8.20431%2010.303%2011.1606%207.34678%2011.1606%203.70004C11.1606%203.5848%2011.1576%203.47024%2011.1518%203.35645H22.6749C23.4041%203.35645%2024.0007%203.94897%2024.0007%204.67317V21.2639C24.0007%2021.9881%2023.4041%2022.5806%2022.6749%2022.5806H2.25745C1.52825%2022.5806%200.931641%2021.9881%200.931641%2021.2639V9.21929C1.97237%209.9044%203.21842%2010.303%204.55757%2010.303ZM21.3968%208.23623C21.3968%206.98007%2020.3706%205.96093%2019.1058%205.96093C17.841%205.96093%2016.8148%206.98007%2016.8148%208.23623C16.8148%209.49238%2017.841%2010.5115%2019.1058%2010.5115C20.3706%2010.5115%2021.3968%209.49238%2021.3968%208.23623ZM9.27892%2010.7959L3.39499%2018.8806C2.96808%2019.4679%203.21468%2019.9472%203.94387%2019.9472H21.1714C21.9006%2019.9472%2022.1472%2019.4679%2021.7203%2018.8806L18.366%2014.2721C17.9391%2013.6848%2017.2391%2013.6848%2016.8121%2014.2721L15.8655%2015.573C15.4386%2016.1603%2014.7386%2016.1603%2014.3117%2015.573L10.8328%2010.7959C10.4059%2010.2087%209.70582%2010.2087%209.27892%2010.7959Z'%20fill='%231EC1D1'/%3e%3cpath%20d='M3.50696%201.95845H4.61996V2.43767H5.73297V1H0.167969V2.43767H1.28097V1.95845H2.39398V6.75067H1.28097V7.70912H4.61941V6.75067H3.50696V1.95845Z'%20fill='%231EC1D1'/%3e%3cpath%20d='M4.62012%203.23732V4.72823H5.73312V4.23127H6.28961V6.71611H5.73312V7.71005H7.95911V6.71611H7.40262V4.23125H7.95911V4.72821H9.07212V3.2373H4.62012V3.23732Z'%20fill='%231EC1D1'/%3e%3c/svg%3e";function k0({toggleDrawer:c,openDrawer:m,setOpenDrawer:s,handleClickDrawer:x}){const w=e.jsx(Tr,{sx:{width:250},role:"presentation",onClick:c(!1),children:e.jsxs(aj,{className:"pb-3",children:[e.jsx("h5",{className:"px-3 pt-3 pb-2 primary-text",children:"All Blocks"}),gj.map((P,p)=>e.jsx(Ka,{className:"list_button-wrap",disablePadding:!0,children:e.jsxs(Va,{className:"list_button",onClick:()=>x(P.key),children:[e.jsxs(ed,{children:[P.key==="text"&&e.jsx("img",{src:N0,height:20}),P.key==="image"&&e.jsx("img",{src:_0,height:20}),P.key==="logo"&&e.jsx("img",{src:w0,height:20}),P.key==="youtubeVideo"&&e.jsx("img",{src:C0,height:20}),P.key==="button"&&e.jsx("img",{src:y0,height:20}),P.key==="audio"&&e.jsx("img",{src:S0,height:20}),P.key==="cover"&&e.jsx("img",{src:T0,height:20}),P.key==="text-image"&&e.jsx("img",{src:I0,height:20})]}),e.jsx(Da,{primary:P.name})]})},P.key)),e.jsx("h5",{className:"px-3 pt-3 pb-2 border-top mt-3 primary-text",children:"Games"}),xj.map((P,p)=>e.jsx(Ka,{className:"list_button-wrap",disablePadding:!0,children:e.jsxs(Va,{className:"list_button",onClick:()=>x(P.key),children:[e.jsxs(ed,{className:"primary-text",children:[P.key==="quiz"&&e.jsx(vd,{}),P.key==="personality"&&e.jsx(Nd,{}),P.key==="memory"&&e.jsx(wd,{}),P.key==="matchup"&&e.jsx(Cd,{}),P.key==="spinthewheel"&&e.jsx(yd,{}),P.key==="crossword"&&e.jsx(Sd,{}),P.key==="slidingPuzzle"&&e.jsx(Td,{}),P.key==="findPair"&&e.jsx(Id,{}),P.key==="slideShow"&&e.jsx(kd,{}),P.key==="leadForm"&&e.jsx(Ld,{}),P.key==="flipCard"&&e.jsx(Rd,{}),P.key==="thenNow"&&e.jsx(Ed,{}),P.key==="timeline"&&e.jsx(Md,{}),P.key==="cookies"&&e.jsx(Ad,{}),P.key==="horoscope"&&e.jsx(Pd,{}),P.key==="interactiveImage"&&e.jsx(Fd,{}),P.key==="hiddenObjects"&&e.jsx(zd,{}),P.key==="puzzle"&&e.jsx(Bd,{}),P.key==="treasurehunt"&&e.jsx(Hd,{}),P.key==="rankbattle"&&e.jsx(_d,{})]}),e.jsx(Da,{primary:P.name})]})},P.key))]})});return e.jsxs("div",{className:"py-4 d-flex flex-wrap align-items-center justify-content-center gap-2",children:[e.jsxs(ur,{variant:"",className:"gap-2 bg-light",onClick:()=>x("text"),children:[e.jsx("i",{class:"fa-solid fa-text-size primary-text"}),"Add Text"]}),e.jsxs(ur,{variant:"",className:"gap-2 bg-light",onClick:()=>x("image"),children:[e.jsx("i",{class:"fa-solid fa-image primary-text"}),"Add Image"]}),e.jsxs(ur,{variant:"",className:"gap-2 bg-light",onClick:()=>x("button"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",webcrx:"",children:e.jsx("path",{d:"M22 9V15C22 16.1 21.1 17 20 17H19V15H20V9H4V15H10V17H4C2.9 17 2 16.1 2 15V9C2 7.9 2.9 7 4 7H20C21.1 7 22 7.9 22 9ZM14.5 19L15.59 16.59L18 15.5L15.59 14.41L14.5 12L13.41 14.41L11 15.5L13.41 16.59L14.5 19ZM17 14L17.62 12.62L19 12L17.62 11.38L17 10L16.38 11.38L15 12L16.38 12.62L17 14ZM14.5 19L15.59 16.59L18 15.5L15.59 14.41L14.5 12L13.41 14.41L11 15.5L13.41 16.59L14.5 19ZM17 14L17.62 12.62L19 12L17.62 11.38L17 10L16.38 11.38L15 12L16.38 12.62L17 14Z",className:"primary-fill"})}),"Add Button"]}),e.jsx(ur,{variant:"outlined",onClick:c(!0),children:"All Blocks"}),e.jsx(dj,{open:m,onClose:c(!1),children:w})]})}function L0({isLoading:c,data:m,handleSearch:s,handleSelectMedia:x,handlecheckMedia:w,activeImage:P}){var p,h;return console.log(P,"data in component pixby"),e.jsxs(e.Fragment,{children:[e.jsxs(ss,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(ss,{item:!0,xs:12,md:12,children:e.jsx(Sr,{variant:"h6",children:"Pixabay"})}),e.jsxs(ss,{item:!0,xs:12,md:12,children:[e.jsx(ri,{}),e.jsx(ci,{placeholder:"Search",variant:"outlined",fullWidth:!0,onChange:l=>s(l)})]})]}),e.jsxs(ss,{container:!0,spacing:2,style:{marginTop:"20px"},children:[!((p=m==null?void 0:m.hits)!=null&&p.length)&&e.jsx("p",{children:"No Data found"}),(h=m==null?void 0:m.hits)==null?void 0:h.map(({id:l,largeImageURL:a,tags:n},i)=>e.jsx(ss,{item:!0,xs:12,sm:6,md:4,children:e.jsx(tn,{children:c?e.jsx(Wc,{variant:"circular",animation:"wave",width:210,height:118}):e.jsxs("div",{className:"media-selected",children:[e.jsxs("label",{className:P===l?"checked-label":"",htmlFor:`selected-media?id=${l}`,children:[e.jsx("div",{className:"check-icon",children:e.jsx(ni,{color:"#fff"})}),e.jsx(ei,{component:"img",height:"140",image:a,alt:n,className:P===l?"checkedClass":"",style:{cursor:"pointer"},onClick:()=>x(a)})]}),e.jsx("input",{onChange:()=>w(l),id:`selected-media?id=${l}`,type:"checkbox",style:{display:"none"},checked:P===l})]})})},l))]})]})}function Vo(c){const{children:m,value:s,index:x,...w}=c;return e.jsx("div",{role:"tabpanel",hidden:s!==x,id:`simple-tabpanel-${x}`,"aria-labelledby":`simple-tab-${x}`,...w,children:s===x&&e.jsx(Tr,{sx:{p:3},children:e.jsx(Sr,{children:m})})})}function R0({handleAddItem:c,setOpen:m,open:s,setSelectedImage:x,selectedImage:w,handleSelectMedia:P}){d.useState(null);const p=d.useRef(null),h=d.useRef(null);console.log(w,"wdwdwdwdw");const[l,a]=d.useState(0),[n,i]=d.useState(!1),[v,b]=d.useState(null);d.useState(null);const[g,N]=d.useState(),[u,_]=d.useState({unit:"%",x:25,y:25,width:50,height:50});d.useState(0),d.useState(4/5),d.useState(1),d.useState(1);const[j,C]=d.useState("rectangle");d.useState(null);const[z,E]=d.useState([]),[M,S]=d.useState([]),[F,y]=d.useState([]),[A,U]=d.useState(6),[ee,oe]=d.useState(""),[we,$]=d.useState(!1),L=(ae,ye)=>{a(ye)},{element:k}=bt(ae=>ae.DrawerReducer),q=wt(),V=async()=>{i(!0);try{const ae=await Or(`${yr.MEDIA_LIST}?type=image`),{status:ye,data:{data:{mediaDetails:Te}}}=ae;ye===200&&E(Te.rows)}catch(ae){Wr.error(`${ae.response.data.message}`)}i(!1)},Y=async()=>{i(!0);try{const ae=await Or(`https://api.unsplash.com/photos/?per_page=${A}&query=${ee||"random"}&client_id=9Ubxb2jaIAoZeUfLMm2XxOodwt6Gyiz_rzdzyfBjp_o`),{status:ye,data:Te}=ae;ye===200&&S(Te)}catch{}i(!1)},se=async()=>{i(!0);try{const ae=await Or(yr.PIXBY_LIST),{status:ye,data:{data:{images:Te}}}=ae;ye===200&&y(Te)}catch{}i(!1)};d.useEffect(()=>{k==="image"||k==="logo"||k==="audio"?(m(!0),V(),Y(),se()):(q(On("")),m(!1))},[k]);const Pe=ae=>{oe(ae.target.value)},Se=()=>{m(!1),q(On(""))};d.useEffect(()=>{s&&(V(),Y(),se())},[k,s]),d.useEffect(()=>{Y()},[ee]);const _e=ae=>{b(ye=>ye===ae?null:ae)},G=()=>{if(!g||!p.current||!h.current)return;const ae=p.current,ye=h.current,Te=ye.getContext("2d");return ye.width=g.width,ye.height=g.height,Te.drawImage(ae,g.x*(ae.naturalWidth/ae.width),g.y*(ae.naturalHeight/ae.height),g.width*(ae.naturalWidth/ae.width),g.height*(ae.naturalHeight/ae.height),0,0,g.width,g.height),new Promise(Oe=>{ye.toBlob(Q=>{Oe(Q)},"image/png")})},le=async ae=>{var Q,ne,ge,J;i(!0),console.log(w,"herereseleced");const ye=await G(),Te=new File([ye],"cropped-image.png",{type:ye==null?void 0:ye.type,lastModified:Date.now()});let Oe=new FormData;if((Q=ae==null?void 0:ae.target)!=null&&Q.files&&((ge=(ne=ae==null?void 0:ae.target)==null?void 0:ne.files)==null?void 0:ge.length)>0){const he=ae.target.files;for(let Ie=0;Ie<he.length;Ie++)Oe.append("media_url",he[Ie]);Oe.append("media_url",Te)}else ae&&Oe.append("media_url",ae);try{const he=await Do(yr.CREATE_MEDIA,Oe),{status:Ie}=he,{success:Ge}=he.data;Ge&&Ie===$c[200]&&((J=ae==null?void 0:ae.target)!=null&&J.files?(Wr.success("Media Uploaded"),console.log(he.data,"checkresponsedatata")):Wr.success("Media Uploaded from URL"),x(he.data.data),c(),C("rectangle"),Se(),$(!1))}catch(he){console.log(he,"checkrrrororo"),Wr.error("Error uploading media")}i(!1)};return e.jsxs("div",{children:[e.jsx(mr,{open:s,handleClose:Se,children:e.jsxs(ss,{container:!0,spacing:2,className:"modal-grid",children:[e.jsx(ss,{item:!0,xs:3,className:"pt-0 mt-3",sx:{borderRight:"1px solid rgba(0, 0, 0, 0.12)"},children:e.jsxs("div",{className:"d-flex flex-column justify-content-between h-100",children:[e.jsxs(bd,{orientation:"vertical",value:l,onChange:L,"aria-label":"Library Tabs",children:[e.jsx($n,{label:"My Library",className:"text-start align-items-start"}),e.jsx($n,{label:"Free Photos by Unsplash",className:"text-start"}),e.jsx($n,{label:"Free Illustrations by Pixabay",className:"text-start"})]}),e.jsxs(Tr,{sx:{marginTop:"20px",paddingInline:"16px",paddingBottom:"16px"},children:[e.jsx("label",{htmlFor:"uploadImage",color:"primary",className:"upload-label-modal w-100",children:"Upload image"}),e.jsx("input",{type:"file",onChange:le,id:"uploadImage",style:{display:"none"}})]})]})}),e.jsxs(ss,{item:!0,xs:9,className:"ps-0 pt-0 mt-3",children:[e.jsx(Vo,{value:l,index:0,children:e.jsx(Df,{isLoading:n,data:z,handleSearch:Pe,activeImage:v,handlecheckMedia:_e,selectedImage:w,setSelectedImage:x,handleSelectMedia:P})}),e.jsx(Vo,{value:l,index:1,children:e.jsx(ej,{data:M,handleSearch:Pe,handleSelectMedia:P,activeImage:v,handlecheckMedia:_e})}),e.jsx(Vo,{value:l,index:2,children:e.jsx(Sr,{children:e.jsx(L0,{data:F,handleSearch:Pe,handleSelectMedia:P,activeImage:v,handlecheckMedia:_e,handleImageUpload:le})})}),w&&e.jsx("div",{className:"next_cover",children:e.jsx(ur,{className:"button button-primary px-4 text-right",variant:"contained",color:"primary",onClick:()=>{l===1||l===2?le(w):(console.log("23444444444444444444444444444444"),c())},children:"Next"})})]})]})}),e.jsxs(mr,{open:we,children:[e.jsx("button",{className:"btn",onClick:()=>$(!1),children:"X"}),e.jsxs("div",{className:"croppermodal",children:[e.jsx(tj,{crop:u,onChange:(ae,ye)=>_(ye),onComplete:ae=>N(ae),minHeight:100,circularCrop:j==="circle",children:e.jsx("img",{ref:p,alt:"Crop me",crossOrigin:"anonymous",src:w})}),e.jsxs("div",{className:"button_cropper",children:[e.jsx("label",{children:"Shape:"}),e.jsx("button",{onClick:()=>C("rectangle"),children:"Rectangle"}),e.jsx("button",{onClick:()=>C("circle"),children:"Circle"}),e.jsx("button",{onClick:()=>{l===1||l===2?le():c()},children:"Place image"})]})]}),e.jsx("canvas",{ref:h,style:{display:"none"}})]})]})}function E0({selectedBlockSettings:c,pageData:m}){const{isTransparentBackground:s,wP_bg:x,id:w}=c,[P,p]=d.useState(s),[h,l]=d.useState(!1),[a,n]=d.useState(x),{templateDetails:i}=bt(_=>_.DrawerReducer),v=d.useRef(null),b=wt(),g=(_,j)=>{p(_.target.checked);const C={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(z=>({...z,blocks:z.blocks.map(E=>E.id===j?{...E,isTransparentBackground:_.target.checked}:E)}))}};b(T(C))},N=(_,j)=>{n(_.hex);const C={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(z=>({...z,blocks:z.blocks.map(E=>E.id===j?{...E,wP_bg:_.hex}:E)}))}};b(T(C))},u=(_,j)=>{n(_);const C={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(z=>({...z,blocks:z.blocks.map(E=>E.id===j?{...E,wP_bg:_}:E)}))}};b(T(C))};return d.useEffect(()=>{c&&p(s)},[c]),d.useEffect(()=>{const _=j=>{v.current&&!v.current.contains(j.target)&&l(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),e.jsx("div",{className:"panel-wrap",children:e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("h6",{className:"fw-semibold mb-4",children:["Text ",w]}),e.jsxs("label",{htmlFor:"background",className:"d-flex align-items-center gap-2 font-sm fw-medium mb-3 user-select-none cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"background",onChange:_=>g(_,w),className:"form-check-input theme-control shadow-none m-0",checked:P}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Transparent background"})]}),!P&&e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:v,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${a}`},role:"button",onClick:()=>l(!h)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",value:a,onChange:_=>u(_.target.value,w)})]}),h&&e.jsx(Ut,{color:a,onChange:_=>N(_,w)})]})]})]})})}function A0({selectedBlockSettings:c,pageData:m,handleChangeMedia:s}){var M,S,F,y;console.log(c,"selectedBlockSettingsselectedBlockSettings");const{url:x,blur:w,width:P,id:p,position:h,imageSize:l}=c,[a,n]=d.useState({}),[i,v]=d.useState({});d.useState(!1);const{templateDetails:b}=bt(A=>A.DrawerReducer);d.useRef(null);const g=wt(),N=[{value:"original",label:"Original"},{value:"custom",label:"Custom"}],[u,_]=d.useState(w),j=(A,U)=>{const ee={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(oe=>({...oe,blocks:oe.blocks.map(we=>we.id===U?{...we,imageSize:A}:we)}))}};g(T(ee))},C=A=>{const U={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(ee=>({...ee,blocks:ee.blocks.map(oe=>oe.id===p?{...oe,blur:A.target.checked}:oe)}))}};g(T(U))},z=A=>{const U={label:(A==null?void 0:A.charAt(0).toUpperCase())+A.slice(1).toLowerCase(),value:A},ee={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(oe=>({...oe,blocks:oe.blocks.map(we=>we.id===p?{...we,position:U}:we)}))}};g(T(ee))},E=A=>{const U={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(ee=>({...ee,blocks:ee.blocks.map(oe=>oe.id===p?{...oe,width:A}:oe)}))}};g(T(U))};return d.useEffect(()=>{c&&_(w)},[c]),d.useEffect(()=>{var A,U;if(m){const ee=m.blocks.find(oe=>oe.id===p);console.log(ee,"checkzBLock"),n(ee)}v({label:(A=a==null?void 0:a.imageSize)==null?void 0:A.label,value:(U=a==null?void 0:a.imageSize)==null?void 0:U.value})},[m,b]),e.jsx("div",{className:"panel-wrap",children:e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Image"}),e.jsx("div",{className:"sidebar__wrapper",children:e.jsxs("ul",{className:"list",children:[e.jsxs("li",{className:"group-block pb-0 mb-0",children:[e.jsx("p",{className:"group-label"}),e.jsxs("ul",{className:"list-style-none",children:[e.jsx("li",{children:e.jsxs("div",{className:"upload-button",children:[e.jsx("label",{className:"upload-button__label form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Image"}),e.jsxs("div",{className:"content upload d-flex align-items-cente",children:[e.jsx("img",{className:"upload-button__img-preview",style:{height:44,width:44,borderRadius:8},src:x}),e.jsx("button",{className:"button button-primary border-0 w-100",style:{maxHeight:42},onClick:()=>s("image",p),children:"Change"})]})]})}),e.jsx("li",{children:e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"label form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Image size"}),e.jsx("div",{className:"content select",children:e.jsx(bs,{options:N,defaultValue:i,onChange:A=>j(A,p)})})]})}),((M=a==null?void 0:a.imageSize)==null?void 0:M.value)==="custom"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"label form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Width relative to the project (%)"}),e.jsx("input",{className:"text form-control theme-control",type:"number",onChange:A=>E(A.target.value),defaultValue:a==null?void 0:a.width,min:"0",max:"100"})]})}),e.jsx("li",{children:e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"label form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Position"}),e.jsxs("div",{className:"content radio",style:{flexDirection:"row"},children:[e.jsxs("div",{className:"radio-option is-checked d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",id:"left",name:"alignment",onChange:A=>z("left"),defaultChecked:((S=a==null?void 0:a.position)==null?void 0:S.value)==="left"}),e.jsx("label",{htmlFor:"left",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Left"})]}),e.jsxs("div",{className:"radio-option d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",name:"alignment",id:"center",onChange:()=>z("center"),defaultChecked:((F=a==null?void 0:a.position)==null?void 0:F.value)==="center"}),e.jsx("label",{htmlFor:"center",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Center"})]}),e.jsxs("div",{className:"radio-option d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",name:"alignment",id:"right",onChange:()=>z("right"),defaultChecked:((y=a==null?void 0:a.position)==null?void 0:y.value)==="right"}),e.jsx("label",{htmlFor:"right",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Right"})]})]})]})})]})]})]}),e.jsxs("li",{className:"group-block",children:[e.jsx("label",{className:"group-label form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Effects"}),e.jsx("ul",{children:e.jsx("li",{children:e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"content checkbox d-flex align-items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control shadow-none m-0",onChange:C,checked:a==null?void 0:a.blur}),e.jsx("p",{className:"mb-0",children:"Interactive blur"})]})})})})]})]})})]})})}function P0({selectedBlockSettings:c,pageData:m}){const{embedCode:s,id:x}=c,{templateDetails:w}=bt(h=>h.DrawerReducer);d.useRef(null);const P=wt(),p=h=>{let l;clearTimeout(l),l=setTimeout(()=>{console.log(h,"check input after debounce");const a={...w,project_structure:{...w.project_structure,pages:w.project_structure.pages.map(n=>({...n,blocks:n.blocks.map(i=>i.id===x?{...i,embedCode:h}:i)}))}};console.log("_data",a),P(T(a))},500)};return console.log(s,"embedCodedsds"),e.jsx("div",{className:"panel-wrap",children:e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"video"}),e.jsx("div",{className:"content textarea-youtubevideo",children:e.jsx("textarea",{onChange:h=>p(h.target.value),rows:"5",defaultValue:s&&s,className:"form-control theme-control"})})]})})}function F0({selectedBlockSettings:c,pageData:m}){console.log(c,"selectedBlocsddkSettingsselectedBlockSettings");const{bc:s,brad:x,href:w,id:P,pulse:p}=c,[h,l]=d.useState(p),[a,n]=d.useState(!1),[i,v]=d.useState(s),{templateDetails:b}=bt(E=>E.DrawerReducer),g=d.useRef(null),N=wt(),u=(E,M)=>{l(E.target.checked);const S={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===M?{...y,pulse:E.target.checked}:y)}))}};N(T(S))},_=(E,M)=>{v(E.hex);const S={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===M?{...y,bc:E.hex}:y)}))}};N(T(S))},j=E=>{let M;clearTimeout(M),M=setTimeout(()=>{const S={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===P?{...y,href:E}:y)}))}};N(T(S))},500)},C=(E,M)=>{v(E);const S={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===M?{...y,bc:E}:y)}))}};N(T(S))},z=E=>{let M;clearTimeout(M),M=setTimeout(()=>{const S={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===P?{...y,brad:E}:y)}))}};N(T(S))},500)};return d.useEffect(()=>{c&&l(p)},[c]),d.useEffect(()=>{const E=M=>{g.current&&!g.current.contains(M.target)&&n(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]),e.jsx("div",{className:"panel-wrap",children:e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Button"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Link"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:w,onChange:E=>j(E.target.value)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Border radius"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:x,max:100,onChange:E=>z(E.target.value)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{className:"",ref:g,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${i}`},role:"button",onClick:()=>n(!a)}),e.jsx("input",{className:"colorInput form-control theme-control w-100",type:"text",value:i,onChange:E=>C(E.target.value,P)})]}),a&&e.jsx(Ut,{color:i,onChange:E=>_(E,P)})]})]}),e.jsxs("label",{htmlFor:"background",className:"d-flex align-items-center gap-2 font-sm fw-medium mb-3 user-select-none cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"background",onChange:E=>u(E,P),className:"form-check-input theme-control shadow-none m-0",checked:h}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Pulse"})]})]})})}function z0({selectedBlockSettings:c,pageData:m,handleChangeMedia:s}){var S,F,y;console.log(c,"checkblockSetings");const{url:x,blur:w,width:P,id:p,position:h,imageSize:l}=c,[a,n]=d.useState({}),[i,v]=d.useState({}),[b,g]=d.useState({top:a==null?void 0:a.top,left:a==null?void 0:a.left,bottom:a==null?void 0:a.bottom,right:a==null?void 0:a.right});d.useState(!1);const{templateDetails:N}=bt(A=>A.DrawerReducer);d.useRef(null);const u=wt(),[_,j]=d.useState(w),C=A=>{const U={label:(A==null?void 0:A.charAt(0).toUpperCase())+A.slice(1).toLowerCase(),value:A};console.log(U,"checkvsndjadajdad");const ee={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(oe=>({...oe,blocks:oe.blocks.map(we=>we.id===p?{...we,position:U}:we)}))}};u(T(ee))},z=(A,U)=>{console.log(A,U,"checktypoeof rthisss");let ee;U==="top"&&(g({...b,top:A}),clearTimeout(ee),ee=setTimeout(()=>{const oe={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(we=>({...we,blocks:we.blocks.map($=>$.id===p?{...$,top:A}:$)}))}};u(T(oe))},500)),U==="left"&&(g({...b,left:A}),clearTimeout(ee),ee=setTimeout(()=>{const oe={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(we=>({...we,blocks:we.blocks.map($=>$.id===p?{...$,left:A}:$)}))}};u(T(oe))},500)),U==="bottom"&&(g({...b,bottom:A}),clearTimeout(ee),ee=setTimeout(()=>{const oe={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(we=>({...we,blocks:we.blocks.map($=>$.id===p?{...$,bottom:A}:$)}))}};u(T(oe))},500)),U==="right"&&(g({...b,right:A}),clearTimeout(ee),ee=setTimeout(()=>{const oe={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(we=>({...we,blocks:we.blocks.map($=>$.id===p?{...$,right:A}:$)}))}};u(T(oe))},500))},E=A=>{const U={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(ee=>({...ee,blocks:ee.blocks.map(oe=>oe.id===p?{...oe,width:A}:oe)}))}};console.log(U,"widthData"),u(T(U))},M=A=>{const U={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(ee=>({...ee,blocks:ee.blocks.map(oe=>oe.id===p?{...oe,link:A}:oe)}))}};console.log(U,"widthData"),u(T(U))};return d.useEffect(()=>{c&&j(w)},[c]),d.useEffect(()=>{var A,U;if(m){const ee=m.blocks.find(oe=>oe.id===p);console.log(ee,"checkzBLock"),n(ee)}v({label:(A=a==null?void 0:a.imageSize)==null?void 0:A.label,value:(U=a==null?void 0:a.imageSize)==null?void 0:U.value})},[m,N]),console.log(a,"blockValuesdddblockValues"),e.jsx("div",{className:"panel-wrap",children:e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Logo"}),e.jsx("div",{className:"sidebar__wrapper",children:e.jsx("ul",{className:"list",children:e.jsx("li",{className:"group-block",children:e.jsxs("ul",{className:"list-style-none",children:[e.jsx("li",{children:e.jsxs("div",{className:"upload-button",children:[e.jsx("label",{className:"upload-button__label form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Image"}),e.jsxs("div",{className:"content upload",children:[e.jsx("img",{className:"upload-button__img-preview",style:{height:44,width:44,borderRadius:8},src:x}),e.jsx("button",{className:"button button-primary border-0 w-100",onClick:()=>s("logo",p),children:"Change"})]})]})}),e.jsx("li",{children:e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"label form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Scale (%)"}),e.jsx("div",{className:"content select",children:e.jsx("div",{className:"control-box",children:e.jsx("input",{className:"text form-control theme-control",type:"number",onChange:A=>E(A.target.value),defaultValue:a==null?void 0:a.width,min:"0",maxLength:"100",max:100})})})]})}),e.jsx("li",{children:e.jsxs("div",{className:"control-box",children:[e.jsx("p",{className:"label",children:"Padding"}),e.jsx("div",{className:"content select",children:e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"d-flex gap-2 align-items-cen",children:[e.jsx("input",{className:"text form-control theme-control",type:"number",onChange:A=>z(A.target.value,"top"),defaultValue:a==null?void 0:a.top,min:"0",max:"100"}),e.jsx("input",{className:"text form-control theme-control",type:"number",onChange:A=>z(A.target.value,"right"),defaultValue:a==null?void 0:a.right,min:"0",max:"100"})," ",e.jsx("input",{className:"text form-control theme-control",type:"number",onChange:A=>z(A.target.value,"bottom"),defaultValue:a==null?void 0:a.bottom,min:"0",max:"100"})," ",e.jsx("input",{className:"text form-control theme-control",type:"number",onChange:A=>z(A.target.value,"left"),defaultValue:a==null?void 0:a.left,min:"0",max:"100"})]})})})]})}),e.jsx("li",{children:e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"label form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Position"}),e.jsxs("div",{className:"content radio",style:{flexDirection:"row"},children:[e.jsxs("div",{className:"radio-option is-checked d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",id:"left",name:"alignment",defaultChecked:((S=a==null?void 0:a.position)==null?void 0:S.value)==="left",onChange:A=>C("left")}),e.jsx("label",{htmlFor:"left",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Left"})]}),e.jsxs("div",{className:"radio-option d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",name:"alignment",id:"center",defaultChecked:((F=a==null?void 0:a.position)==null?void 0:F.value)==="center",onChange:()=>C("center")}),e.jsx("label",{htmlFor:"center",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Center"})]}),e.jsxs("div",{className:"radio-option d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",name:"alignment",id:"right",defaultChecked:((y=a==null?void 0:a.position)==null?void 0:y.value)==="right",onChange:()=>C("right")}),e.jsx("label",{htmlFor:"right",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Right"})]})]})]})}),e.jsx("li",{children:e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Link"}),e.jsx("div",{className:"content select",children:e.jsx("div",{className:"control-box",children:e.jsx("input",{className:"text theme-control form-control",type:"text",onChange:A=>M(A.target.value),defaultValue:a==null?void 0:a.link})})})]})})]})})})})]})})}var Ii={},B0=cs;Object.defineProperty(Ii,"__esModule",{value:!0});var $d=Ii.default=void 0,H0=B0(os()),M0=e;$d=Ii.default=(0,H0.default)((0,M0.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 11h-3v3.75c0 1.24-1.01 2.25-2.25 2.25S8.5 17.99 8.5 16.75s1.01-2.25 2.25-2.25c.46 0 .89.14 1.25.38V11h4zm-3-4V3.5L18.5 9z"}),"AudioFile");function $0({selectedBlockSettings:c,pageData:m,handleChangeMedia:s}){console.log(c,"selectedBlockSettings");const{url:x,blur:w,width:P,id:p,position:h,imageSize:l}=c,[a,n]=d.useState({}),[i,v]=d.useState({});d.useState(!1);const{templateDetails:b}=bt(j=>j.DrawerReducer);d.useRef(null);const g=wt(),[N,u]=d.useState(w),_=j=>{const C={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(z=>({...z,blocks:z.blocks.map(E=>E.id===p?{...E,blur:j.target.checked}:E)}))}};g(T(C))};return d.useEffect(()=>{c&&u(w)},[c]),d.useEffect(()=>{var j,C;if(m){const z=m.blocks.find(E=>E.id===p);console.log(z,"checkzBLock"),n(z)}v({label:(j=a==null?void 0:a.imageSize)==null?void 0:j.label,value:(C=a==null?void 0:a.imageSize)==null?void 0:C.value})},[m,b]),console.log(a,"ssdsdsdssdsds"),e.jsx("div",{className:"panel-wrap",children:e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Audio"}),e.jsx("div",{className:"sidebar__wrapper",children:e.jsx("ul",{className:"list",children:e.jsx("li",{className:"group-block",children:e.jsxs("ul",{className:"list-style-none",children:[e.jsx("li",{children:e.jsxs("div",{className:"upload-button",children:[e.jsx("label",{className:"upload-button__label form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:(a==null?void 0:a.name)||"Audio File"}),e.jsxs("div",{className:"content upload align-items-center gap-1",children:[e.jsx("div",{className:"content_audio_icon",children:e.jsx($d,{})}),e.jsx("button",{className:"button button-primary w-100 border-0",onClick:()=>s("audio",a==null?void 0:a.id),children:"Change"})]})]})}),e.jsx("li",{children:e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"content checkbox d-flex align-items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control shadow-none m-0",onChange:_,checked:a==null?void 0:a.blur}),e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Loop"})]})})}),e.jsx("li",{children:e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"content checkbox d-flex align-items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control shadow-none m-0",onChange:_,checked:a==null?void 0:a.blur}),e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Auto play"})]})})})]})})})})]})})}function O0({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x}){console.log(m,"dshsvsdkjskjfdvskjfvskfvskkkfsf");const{id:w,imageUrl:P}=s,[p,h]=d.useState({});d.useState({});const[l,a]=d.useState(!1),{templateDetails:n}=bt(y=>y.DrawerReducer),i=d.useRef(null),v=wt(),b=[{value:"1:1",label:"1:1"},{value:"5.4",label:"5.4"},{value:"4:3",label:"4:3"},{value:"3:2",label:"3:2"},{value:"16:9",label:"16:9"}],g=y=>{console.log(y,"checkselect");const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===w?{...ee,imageProportions:y.value}:ee)}))}};v(T(A))},N=y=>{const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===w?{...ee,darkenBackground:y}:ee)}))}};v(T(A))},u=y=>{const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===w?{...ee,buttonBackgroundColor:y}:ee)}))}};v(T(A))},_=y=>{const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===w?{...ee,isShowLogotype:y.target.checked}:ee)}))}};v(T(A))},j=y=>{const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===w?{...ee,logotypeScale:y}:ee)}))}};v(T(A))},C=y=>{const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===w?{...ee,logotypePosition:y}:ee)}))}};v(T(A))},z=y=>{const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===w?{...ee,isShowButton:y}:ee)}))}};v(T(A))},E=y=>{const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===w?{...ee,buttonUrl:y}:ee)}))}};v(T(A))},M=y=>{const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===w?{...ee,buttonBackgroundColor:y}:ee)}))}};v(T(A))},S=y=>{const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===w?{...ee,buttonBorderRadius:y}:ee)}))}};v(T(A))},F=y=>{const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===w?{...ee,buttonPosition:y}:ee)}))}};v(T(A))};return d.useEffect(()=>{if(x){const y=x.blocks.find(A=>A.id===w);console.log(y,"checkzBLock"),h(y)}},[x,n]),d.useEffect(()=>{const y=A=>{i.current&&!i.current.contains(A.target)&&a(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Cover"}),e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Image size"}),e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",options:b,onChange:y=>g(y)})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("div",{className:"upload-button",children:[e.jsx("label",{className:"upload-button__label form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Image"}),e.jsxs("div",{className:"content upload",children:[e.jsx("img",{className:"upload-button__img-preview",style:{height:44,width:44,borderRadius:8},src:p==null?void 0:p.imageUrl}),e.jsx("button",{className:"button button-primary w-100 border-0",onClick:()=>c("cover",w),children:"Change"})]})]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Darken background, %"}),e.jsx("input",{className:"text form-control theme-control",type:"number",onChange:y=>N(y.target.value),defaultValue:p==null?void 0:p.darkenBackground,min:"0",max:"100"})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer gap-2 mb-0",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control shadow-none m-0",onChange:_,defaultChecked:!(p!=null&&p.isShowLogotype)}),"Logo"]}),(p==null?void 0:p.isShowLogotype)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"my-3",children:e.jsxs("div",{className:"upload-button",children:[e.jsx("label",{className:"upload-button__label form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Logo"}),e.jsxs("div",{className:"content upload",children:[e.jsx("img",{className:"upload-button__img-preview",style:{height:44,width:44,borderRadius:8},src:p==null?void 0:p.logotypeUrl}),e.jsx("button",{className:"button button-primary border-0 w-100",onClick:()=>c("logo",w,"cover"),children:"Change"})]})]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Scale, %"}),e.jsx("input",{className:"text form-control theme-control",type:"number",onChange:y=>j(y.target.value),defaultValue:p==null?void 0:p.logotypeScale,min:"0",max:"100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Position"}),e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsxs("div",{className:"radio-option is-checked d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",id:"left",name:"alignment",onChange:()=>C("left"),checked:(p==null?void 0:p.logotypePosition)==="left"}),e.jsx("label",{htmlFor:"left",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Left"})]}),e.jsxs("div",{className:"radio-option d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",name:"alignment",id:"center",onChange:()=>C("center"),checked:(p==null?void 0:p.logotypePosition)==="center"}),e.jsx("label",{htmlFor:"center",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Center"})]}),e.jsxs("div",{className:"radio-option d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",name:"alignment",id:"right",onChange:()=>C("right"),checked:(p==null?void 0:p.logotypePosition)==="right"}),e.jsx("label",{htmlFor:"right",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Right"})]})]})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("div",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",children:[e.jsx("input",{type:"checkbox",id:"showButton",className:"form-check-input theme-control shadow-none m-0",onChange:y=>z(y.target.checked),defaultChecked:!(m!=null&&m.isShowButton)}),"Button"]}),(p==null?void 0:p.isShowButton)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"label form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Link"}),e.jsx("input",{className:"text form-control theme-control",type:"text",defaultValue:p==null?void 0:p.buttonUrl,onChange:y=>E(y.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Background color"}),e.jsxs("div",{ref:i,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${p==null?void 0:p.buttonBackgroundColor}`},role:"button",onClick:()=>a(!l)}),e.jsx("input",{className:"colorInput form-control theme-control w-100",type:"text",defaultValue:p==null?void 0:p.buttonBackgroundColor,onChange:y=>u(y.target.value)})]}),l&&e.jsx(Ut,{color:m==null?void 0:m.buttonBackgroundColor,onChange:y=>M(y.hex)})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Border radius, px"}),e.jsx("input",{className:"text theme-control form-control",type:"text",onChange:y=>S(y.target.value),defaultValue:p==null?void 0:p.buttonBorderRadius})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Position"}),e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsxs("div",{className:"radio-option is-checked d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",id:"leftbutton",name:"alignment",onChange:()=>F("left"),defaultChecked:(p==null?void 0:p.buttonPosition)==="left"}),e.jsx("label",{htmlFor:"leftbutton",className:"user-select-none form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Left"})]}),e.jsxs("div",{className:"radio-option d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",name:"alignment",id:"centerbutton",onChange:()=>F("center"),defaultChecked:(p==null?void 0:p.buttonPosition)==="center"}),e.jsx("label",{htmlFor:"centerbutton",className:"user-select-none form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Center"})]}),e.jsxs("div",{className:"radio-option d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",name:"alignment",id:"rightbutton",onChange:()=>F("right"),defaultChecked:(p==null?void 0:p.buttonPosition)==="right"}),e.jsx("label",{htmlFor:"rightbutton",className:"user-select-none form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Right"})]})]})]})]})]})]})}function W0({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x}){console.log(s,"dshsvdkjskjfdvskjfvskfvskkkfsf");const{id:w,imageUrl:P}=s,[p,h]=d.useState({});d.useState({});const[l,a]=d.useState(!1),{templateDetails:n}=bt(M=>M.DrawerReducer),i=d.useRef(null),v=wt(),b=M=>{const S={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===w?{...y,isTransparentBackground:M.target.checked}:y)}))}};v(T(S))},g=M=>{const S={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===w?{...y,backgroundColor:M}:y)}))}};v(T(S))},N=M=>{const S={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===w?{...y,backgroundColor:M.hex}:y)}))}};v(T(S))},u=M=>{const S={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===w?{...y,buttonBackgroundColor:M}:y)}))}};v(T(S))},_=M=>{const S={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===w?{...y,textPosition:M}:y)}))}};v(T(S))},j=M=>{const S={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===w?{...y,isShowButton:M}:y)}))}};v(T(S))},C=M=>{const S={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===w?{...y,buttonUrl:M}:y)}))}};v(T(S))},z=M=>{const S={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===w?{...y,buttonBackgroundColor:M.hex}:y)}))}};v(T(S))},E=M=>{const S={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===w?{...y,buttonBorderRadius:M}:y)}))}};v(T(S))};return d.useEffect(()=>{if(x){const M=x.blocks.find(S=>S.id===w);console.log(M,"checkzBLock"),h(M)}},[x,n]),d.useEffect(()=>{const M=S=>{i.current&&!i.current.contains(S.target)&&a(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]),console.log(p,"blockValuesblockValuesblockValues"),e.jsx("div",{className:"panel-wrap",children:e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Text and image"}),e.jsx("div",{className:"sidebar__wrapper",children:e.jsx("ul",{className:"list",children:e.jsx("li",{className:"group-block",children:e.jsxs("ul",{className:"list-style-none",children:[e.jsxs("label",{htmlFor:"background",className:"d-flex align-items-center gap-2 font-sm fw-medium mb-3 user-select-none cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"background",onChange:M=>b(M),className:"form-check-input theme-control shadow-none m-0",checked:!(p!=null&&p.isTransparentBackground)}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Transparent background"})]}),!(p!=null&&p.isTransparentBackground)&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Background color"}),e.jsxs("div",{ref:i,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${p==null?void 0:p.backgroundColor}`},role:"button",onClick:()=>a(!l)}),e.jsx("input",{className:"colorInput theme-control form-control w-100",type:"text",defaultValue:p==null?void 0:p.backgroundColor,onChange:M=>g(M.target.value)})]}),l&&e.jsx(Ut,{color:p==null?void 0:p.backgroundColor,onChange:M=>N(M)})]})]}),e.jsx("li",{children:e.jsxs("div",{className:"upload-button",children:[e.jsx("label",{className:"upload-button__label form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Image"}),e.jsxs("div",{className:"content upload",children:[e.jsx("img",{className:"upload-button__img-preview",style:{height:44,width:44,borderRadius:8},src:p==null?void 0:p.imageUrl}),e.jsx("button",{className:"button button-primary border-0 w-100",onClick:()=>c("text-image",w),children:"Change"})]})]})}),e.jsx("li",{children:e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"label form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Text position"}),e.jsxs("div",{className:"content radio",style:{flexDirection:"row"},children:[e.jsxs("div",{className:"radio-option is-checked d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",id:"leftbutton",name:"alignment",onChange:()=>_("left"),checked:(p==null?void 0:p.buttonPosition)==="left"}),e.jsx("label",{htmlFor:"leftbutton",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Left"})]}),e.jsxs("div",{className:"radio-option d-flex align-items-center gap-1",children:[e.jsx("input",{type:"radio",name:"alignment",id:"rightBtn",onChange:()=>_("right"),checked:(p==null?void 0:p.buttonPosition)==="right"}),e.jsx("label",{htmlFor:"rightBtn",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"right"})]})]})]})}),e.jsx("li",{children:e.jsx("div",{className:"upload-button",children:e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"content checkbox d-flex align-items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showButton",className:"form-check-input theme-control shadow-none m-0",onChange:M=>j(M.target.checked),checked:p==null?void 0:p.isShowButton}),e.jsx("label",{htmlFor:"showButton",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",role:"button",children:"Button"})]})})})}),(p==null?void 0:p.isShowButton)&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"label form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Link"}),e.jsx("input",{className:"text form-control theme-control",type:"text",onChange:M=>C(M.target.value),defaultValue:p==null?void 0:p.buttonUrl})]})})}),e.jsxs("li",{children:[e.jsx("p",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Background color"}),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${p==null?void 0:p.buttonBackgroundColor}`},role:"button",onClick:()=>a(!l)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:p==null?void 0:p.buttonBackgroundColor,onChange:M=>u(M.target.value)})]}),l&&e.jsx(Ut,{color:p==null?void 0:p.buttonBackgroundColor,onChange:M=>z(M)})]})]}),e.jsx("li",{children:e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"label form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Border radius, px"}),e.jsx("input",{className:"text form-control theme-control",type:"text",onChange:M=>E(M.target.value),defaultValue:p==null?void 0:p.buttonBorderRadius})]})})})]})]})})})})]})})}function U0({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x}){var C,z,E,M,S,F,y,A,U,ee,oe,we,$,L,k,q,V,Y,se,Pe,Se,_e;console.log(s,"dshsvdkjskjfdvskjfvskfvskkkfsf");const[w,P]=d.useState(!1),{templateDetails:p}=bt(G=>G.DrawerReducer);console.log(p,"TEMPPPPPP");const[h,l]=d.useState(((z=(C=p==null?void 0:p.project_structure)==null?void 0:C.app)==null?void 0:z.maxWidth)||"");console.log(p,"templateDetailstemplateDetailstemplateDetailstemplateDetailstemplateDetailstemplateDetails");const a=d.useRef(null),n=wt(),i=G=>{const{value:le}=G,ae={...p.project_structure.app,maxWidth:le},ye={...p,project_structure:{...p.project_structure,app:ae}};n(T(ye))},v=G=>{const{value:le}=G;let ae;le<350?(ae={...p.project_structure.app,maxWidth:350},G.value=350):le>4320?(ae={...p.project_structure.app,maxWidth:4320},G.value=4320):ae={...p.project_structure.app,maxWidth:le};const ye={...p,project_structure:{...p.project_structure,app:ae}};n(T(ye))},b=G=>{const le={...p.project_structure.app,isTransparentBackground:G},ae={...p,project_structure:{...p.project_structure,app:le}};n(T(ae))},g=G=>{const le={...p.project_structure.app,colorTheme:G},ae={...p,project_structure:{...p.project_structure,app:le}};n(T(ae))},N=G=>{const le={...p.project_structure.app,colorTheme:G},ae={...p,project_structure:{...p.project_structure,app:le}};n(T(ae))},u=()=>{const G={...p.project_structure.app,backgroundImage:""},le={...p,project_structure:{...p.project_structure,app:G}};n(T(le))},_=G=>{const le={...p.project_structure.app,isOpenLinksInNewTab:G},ae={...p,project_structure:{...p.project_structure,app:le}};n(T(ae))},j=G=>{const le={...p.project_structure.app,isPresentationMode:G},ae={...p,project_structure:{...p.project_structure,app:le}};n(T(ae))};return d.useEffect(()=>{const G=le=>{a.current&&!a.current.contains(le.target)&&P(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[]),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold",children:"Project settings"}),e.jsxs("label",{className:"d-flex align-items-center gap-2 font-sm fw-medium",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control",role:"button",onChange:G=>j(G.target.checked),checked:(M=(E=p==null?void 0:p.project_structure)==null?void 0:E.app)==null?void 0:M.isPresentationMode}),"Show page navigation"]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Max width"}),e.jsx("input",{type:"text",onInput:G=>{G.target.value<350?l(350):l(G.target.value)},className:"form-control theme-control input-md",onChange:G=>i(G.target),onBlur:G=>v(G.target),defaultValue:h})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"d-flex align-items-center gap-2 font-sm fw-medium mb-3",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control",role:"button",onChange:G=>b(G.target.checked),checked:(F=(S=p==null?void 0:p.project_structure)==null?void 0:S.app)==null?void 0:F.isTransparentBackground}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Transparent background"})]}),!((A=(y=p==null?void 0:p.project_structure)==null?void 0:y.app)!=null&&A.isTransparentBackground)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Background color"}),e.jsxs("div",{ref:a,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(ee=(U=p==null?void 0:p.project_structure)==null?void 0:U.app)==null?void 0:ee.colorTheme}`},role:"button",onClick:()=>P(!w)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(we=(oe=p==null?void 0:p.project_structure)==null?void 0:oe.app)==null?void 0:we.colorTheme,onChange:G=>g(G.target.value)})]}),w&&e.jsx(Ut,{color:(L=($=p==null?void 0:p.project_structure)==null?void 0:$.app)==null?void 0:L.colorTheme,onChange:G=>N(G.hex)})]})]}),e.jsxs("div",{className:"upload-button mt-3",children:[e.jsx("label",{className:"upload-button__label form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Image"}),e.jsxs("div",{className:"content upload",children:[((q=(k=p==null?void 0:p.project_structure)==null?void 0:k.app)==null?void 0:q.backgroundImage)&&e.jsx("img",{className:"upload-button__img-preview",src:(Y=(V=p==null?void 0:p.project_structure)==null?void 0:V.app)==null?void 0:Y.backgroundImage}),e.jsx("button",{className:"button button-primary border-0 w-100",onClick:()=>c("project"),children:"Upload"}),((Pe=(se=p==null?void 0:p.project_structure)==null?void 0:se.app)==null?void 0:Pe.backgroundImage)&&e.jsx("button",{onClick:()=>u(),className:"button ml-2",children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"d-flex align-items-center gap-2 font-sm fw-medium",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control",role:"button",onChange:G=>_(G.target.checked),defaultValue:(_e=(Se=p==null?void 0:p.project_structure)==null?void 0:Se.app)==null?void 0:_e.isOpenLinksInNewTab}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Open external link in new tab"})]})})]})}function cd({selectedBlockSettings:c,pageData:m,handleOpenFormFields:s}){var $,L,k,q,V,Y,se,Pe,Se,_e,G,le,ae,ye,Te,Oe,Q,ne,ge,J,he,Ie,Ge;console.log(c,"dshsvdkjskjfdvskjfvskfvskkkfsf");const{id:x}=c,[w,P]=d.useState({}),[p,h]=d.useState(!1),[l,a]=d.useState(!1),{templateDetails:n}=bt(xe=>xe.DrawerReducer),i=d.useRef(null),v=d.useRef(null),b=wt(),g=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,colorTheme:xe}}:R)}))}};b(T(D))},N=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,colorTheme:xe.hex}}:R)}))}};b(T(D))},u=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,progressBar:xe}}:R)}))}};b(T(D))},_=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,shuffleQuestions:xe}}:R)}))}};b(T(D))},j=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,showScores:xe}}:R)}))}};b(T(D))},C=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,shuffleAnswers:xe}}:R)}))}};b(T(D))},z=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,notMarkCorrectAnswers:xe}}:R)}))}};b(T(D))},E=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,isHideRestartButton:xe}}:R)}))}};b(T(D))},M=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,isRedirectEnabled:xe}}:R)}))}};b(T(D))},S=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,isShowLeadForm:xe}}:R)}))}};b(T(D))},F=xe=>{console.log(xe,"cjheckvalueewewe");const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,callToActionEnabled:xe}}:R)}))}};b(T(D))},y=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,redirectTargetLink:xe}}:R)}))}};b(T(D))},A=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,redirectTimeout:xe}}:R)}))}};b(T(D))},U=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,callToActionText:xe}}:R)}))}};b(T(D))},ee=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,leadFormBackgroundColor:xe}}:R)}))}};b(T(D))},oe=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,leadFormBackgroundColor:xe}}:R)}))}};b(T(D))},we=xe=>{const D={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===x?{...R,struct:{...R.struct,callToActionLink:xe}}:R)}))}};b(T(D))};return d.useEffect(()=>{if(m){const xe=m.blocks.find(D=>D.id===x);P(xe)}},[m,n]),d.useEffect(()=>{const xe=D=>{i.current&&!i.current.contains(D.target)&&h(!1)};return document.addEventListener("mousedown",xe),()=>{document.removeEventListener("mousedown",xe)}},[]),d.useEffect(()=>{const xe=D=>{v.current&&!v.current.contains(D.target)&&a(!1)};return document.addEventListener("mousedown",xe),()=>{document.removeEventListener("mousedown",xe)}},[]),console.log(w,"blockValuesblockValtrtrtruesblockValues"),e.jsx("div",{className:"panel-wrap",children:w&&e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Quiz settings"}),e.jsx("div",{className:"sidebar__wrapper",children:e.jsx("ul",{className:"list",children:e.jsx("li",{className:"group-block",children:e.jsxs("ul",{className:"list-style-none",children:[e.jsxs("li",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Color theme"}),e.jsxs("div",{ref:i,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${($=w==null?void 0:w.struct)==null?void 0:$.colorTheme}`},role:"button",onClick:()=>h(!p)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(L=w==null?void 0:w.struct)==null?void 0:L.colorTheme,onChange:xe=>g(xe.target.value)})]}),p&&e.jsx(Ut,{color:(k=w==null?void 0:w.struct)==null?void 0:k.colorTheme,onChange:xe=>N(xe)})]})]}),e.jsx("li",{children:e.jsxs("label",{htmlFor:"progressButton",role:"button",className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",children:[e.jsx("input",{type:"checkbox",id:"progressButton",className:"form-check-input theme-control shadow-none m-0",onChange:xe=>u(xe.target.checked),defaultChecked:(q=w==null?void 0:w.struct)==null?void 0:q.progressBar}),"Progress bar"]})}),e.jsx("li",{children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:[e.jsx("input",{type:"checkbox",id:"showScores",className:"form-check-input theme-control shadow-none m-0",onChange:xe=>j(xe.target.checked),defaultChecked:(V=w==null?void 0:w.struct)==null?void 0:V.showScores}),"Show score on final screen"]})}),e.jsx("li",{children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:[e.jsx("input",{type:"checkbox",id:"shuffleQuestions",className:"form-check-input theme-control shadow-none m-0",onChange:xe=>_(xe.target.checked),defaultChecked:(Y=w==null?void 0:w.struct)==null?void 0:Y.shuffleQuestions}),"Shuffle questions"]})}),e.jsx("li",{children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:[e.jsx("input",{type:"checkbox",id:"shuffleQuestions",className:"form-check-input theme-control shadow-none m-0",onChange:xe=>C(xe.target.checked),defaultChecked:(se=w==null?void 0:w.struct)==null?void 0:se.shuffleAnswers}),"Shuffle Answers"]})}),e.jsx("li",{children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:[e.jsx("input",{type:"checkbox",id:"markcorrect",className:"form-check-input theme-control shadow-none m-0",onChange:xe=>z(xe.target.checked),defaultChecked:(Pe=w==null?void 0:w.struct)==null?void 0:Pe.notMarkCorrectAnswers}),"Do not mark correct answers"]})}),e.jsx("li",{children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:xe=>E(xe.target.checked),defaultChecked:(Se=w==null?void 0:w.struct)==null?void 0:Se.isHideRestartButton}),"Hide restart button"]})}),e.jsx("li",{children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:xe=>M(xe.target.checked),defaultChecked:(_e=w==null?void 0:w.struct)==null?void 0:_e.isRedirectEnabled}),"Redirect from result screen"]})}),((G=w==null?void 0:w.struct)==null?void 0:G.isRedirectEnabled)&&e.jsxs("li",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(le=w==null?void 0:w.struct)==null?void 0:le.redirectTargetLink,onChange:xe=>y(xe.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(ae=w==null?void 0:w.struct)==null?void 0:ae.callToActionLink,onChange:xe=>A(xe.target.value)})]})]}),e.jsx("li",{children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:[e.jsx("input",{type:"checkbox",id:"showleadform",className:"form-check-input theme-control shadow-none m-0",onChange:xe=>S(xe.target.checked),defaultChecked:(ye=w==null?void 0:w.struct)==null?void 0:ye.isShowLeadForm}),"Show lead form"]})}),((Te=w==null?void 0:w.struct)==null?void 0:Te.isShowLeadForm)&&e.jsxs("li",{children:[e.jsx("button",{onClick:()=>s(x),className:"button py-2 px-3 button-primary outline mb-3",children:"Customize"}),e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:v,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(Oe=w==null?void 0:w.struct)==null?void 0:Oe.leadFormBackgroundColor}`},role:"button",onClick:()=>a(!l)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Q=w==null?void 0:w.struct)==null?void 0:Q.leadFormBackgroundColor,onChange:xe=>ee(xe.target.value)})]}),l&&e.jsx(Ut,{color:(ne=w==null?void 0:w.struct)==null?void 0:ne.leadFormBackgroundColor,onChange:xe=>oe(xe)})]})]}),e.jsx("li",{children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",checked:(ge=w==null?void 0:w.struct)==null?void 0:ge.callToActionEnabled,onChange:xe=>F(xe.target.checked)}),"Call to action button"]})}),console.log((J=w==null?void 0:w.struct)==null?void 0:J.callToActionEnabled,"ojojjojo"),((he=w==null?void 0:w.struct)==null?void 0:he.callToActionEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("li",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button Text"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Ie=w==null?void 0:w.struct)==null?void 0:Ie.callToActionText,onChange:xe=>U(xe.target.value)})]}),e.jsxs("li",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Link"}),e.jsx("input",{type:"text",className:"colorInput form-control theme-control",defaultValue:(Ge=w==null?void 0:w.struct)==null?void 0:Ge.callToActionLink,onChange:xe=>we(xe.target.value)})]})]})]})})})})]})})}function q0({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P,handleOpenFormFields:p}){var we,$,L,k,q,V,Y,se,Pe,Se,_e,G,le,ae,ye,Te,Oe;console.log(s,"seledfctedBlockSettings");const{id:h}=s,[l,a]=d.useState({});d.useState({});const[n,i]=d.useState(!1),[v,b]=d.useState(!1),{templateDetails:g}=bt(Q=>Q.DrawerReducer),N=d.useRef(null),u=d.useRef(null),_=wt(),j=Q=>{const ne={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===h?{...J,struct:{...J.struct,colorTheme:Q}}:J)}))}};_(T(ne))},C=Q=>{const ne={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===h?{...J,struct:{...J.struct,colorTheme:Q.hex}}:J)}))}};_(T(ne))},z=Q=>{const ne={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===h?{...J,struct:{...J.struct,isHideRestartButton:Q}}:J)}))}};_(T(ne))},E=Q=>{const ne={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===h?{...J,struct:{...J.struct,isRedirectEnabled:Q}}:J)}))}};_(T(ne))},M=Q=>{const ne={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===h?{...J,struct:{...J.struct,isShowLeadForm:Q}}:J)}))}};_(T(ne))},S=Q=>{const ne={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===h?{...J,struct:{...J.struct,callToActionEnabled:Q}}:J)}))}};_(T(ne))},F=Q=>{const ne={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===h?{...J,struct:{...J.struct,redirectTargetLink:Q}}:J)}))}};_(T(ne))},y=Q=>{const ne={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===h?{...J,struct:{...J.struct,redirectTimeout:Q}}:J)}))}};_(T(ne))},A=Q=>{const ne={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===h?{...J,struct:{...J.struct,callToActionText:Q}}:J)}))}};_(T(ne))},U=Q=>{const ne={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===h?{...J,struct:{...J.struct,leadFormBackgroundColor:Q}}:J)}))}};_(T(ne))},ee=Q=>{const ne={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===h?{...J,struct:{...J.struct,leadFormBackgroundColor:Q}}:J)}))}};_(T(ne))},oe=Q=>{const ne={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===h?{...J,struct:{...J.struct,callToActionLink:Q}}:J)}))}};_(T(ne))};return d.useEffect(()=>{if(x){const Q=x.blocks.find(ne=>ne.id===h);console.log(Q,"checkzBLock"),a(Q)}},[x,g]),d.useEffect(()=>{const Q=ne=>{N.current&&!N.current.contains(ne.target)&&i(!1)};return document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[]),d.useEffect(()=>{const Q=ne=>{u.current&&!u.current.contains(ne.target)&&b(!1)};return document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[]),console.log(l,"blockValuesblockValuesblockValues"),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Treasure hunt settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Color theme"}),e.jsxs("div",{ref:N,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(we=l==null?void 0:l.struct)==null?void 0:we.colorTheme}`},role:"button",onClick:()=>i(!n)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:($=l==null?void 0:l.struct)==null?void 0:$.colorTheme,onChange:Q=>j(Q.target.value)})]}),n&&e.jsx(Ut,{color:(L=l==null?void 0:l.struct)==null?void 0:L.colorTheme,onChange:Q=>C(Q)})]})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:Q=>z(Q.target.checked),checked:(k=l==null?void 0:l.struct)==null?void 0:k.isHideRestartButton}),"Hide restart button"]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:Q=>E(Q.target.checked),checked:(q=l==null?void 0:l.struct)==null?void 0:q.isRedirectEnabled}),"Redirect from result screen"]}),((V=l==null?void 0:l.struct)==null?void 0:V.isRedirectEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Y=l==null?void 0:l.struct)==null?void 0:Y.redirectTargetLink,onChange:Q=>F(Q.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(se=l==null?void 0:l.struct)==null?void 0:se.callToActionLink,onChange:Q=>y(Q.target.value)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"showleadform",className:"form-check-input theme-control shadow-none m-0",onChange:Q=>M(Q.target.checked),checked:(Pe=l==null?void 0:l.struct)==null?void 0:Pe.isShowLeadForm}),"Show lead form"]}),((Se=l==null?void 0:l.struct)==null?void 0:Se.isShowLeadForm)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(h),className:"button button-primary outline px-3 py-2 font-sm my-2",children:"Customize"}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:u,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(_e=l==null?void 0:l.struct)==null?void 0:_e.leadFormBackgroundColor}`},role:"button",onClick:()=>b(!v)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(G=l==null?void 0:l.struct)==null?void 0:G.leadFormBackgroundColor,onChange:Q=>U(Q.target.value)})]}),v&&e.jsx(Ut,{color:(le=l==null?void 0:l.struct)==null?void 0:le.leadFormBackgroundColor,onChange:Q=>ee(Q)})]})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",onChange:Q=>S(Q.target.checked),checked:(ae=l==null?void 0:l.struct)==null?void 0:ae.callToActionEnabled}),"Call to action button"]}),((ye=l==null?void 0:l.struct)==null?void 0:ye.callToActionEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button Text"}),e.jsx("input",{className:"colorInput",type:"text",defaultValue:(Te=l==null?void 0:l.struct)==null?void 0:Te.callToActionText,onChange:Q=>A(Q.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Link"}),e.jsx("input",{type:"text",className:"colorInput",defaultValue:(Oe=l==null?void 0:l.struct)==null?void 0:Oe.callToActionLink,onChange:Q=>oe(Q.target.value),dddd:!0})]})]})]})]})}function G0({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P,handleOpenFormFields:p}){console.log(s,"dshsvdkjskjfdvskjfvskfvskkkfsf");const{id:h}=s,[l,a]=d.useState({});d.useState({});const[n,i]=d.useState(!1),[v,b]=d.useState(!1),{templateDetails:g}=bt(z=>z.DrawerReducer),N=d.useRef(null),u=d.useRef(null),_=wt(),j=[{value:"1/1",label:"1:1"},{value:"5/4",label:"5.4"},{value:"4/3",label:"4:3"},{value:"3/2",label:"3:2"},{value:"16/9",label:"16:9"}];d.useEffect(()=>{if(x){const z=x.blocks.find(E=>E.id===h);console.log(z,"checkzBLock"),a(z)}},[x,g]),d.useEffect(()=>{const z=E=>{N.current&&!N.current.contains(E.target)&&i(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]),d.useEffect(()=>{const z=E=>{u.current&&!u.current.contains(E.target)&&b(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]);const C=z=>{const E={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(M=>({...M,blocks:M.blocks.map(S=>S.id===h?{...S,imageProportions:{...S.imageProportions,value:z.value,label:z.label}}:S)}))}};_(T(E))};return console.log(l,"checkblocvsdsdsds"),e.jsx("div",{className:"panel-wrap",children:e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Then & Now"}),e.jsx("div",{className:"sidebar__wrapper",children:e.jsx("ul",{className:"list",children:e.jsx("li",{className:"group-block",children:e.jsxs("ul",{className:"list-style-none",children:[e.jsxs("li",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Image proportions"}),e.jsx("div",{ref:N,children:e.jsx("div",{className:"",children:e.jsx(bs,{options:j,className:"theme-select",classNamePrefix:"react-select",value:(l==null?void 0:l.imageProportions)&&(l==null?void 0:l.imageProportions),onChange:z=>C(z)})})})]}),e.jsxs("li",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Left image"}),e.jsxs("div",{className:"content upload d-flex align-items-center gap-2",children:[e.jsx("img",{className:"upload-button__img-preview m-0",src:(l==null?void 0:l.leftSrc)||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0 w-100",onClick:()=>c("thennow-left",h),children:l!=null&&l.leftSrc?"Change":"Upload"})]})]}),e.jsxs("li",{children:[e.jsx("label",{className:"w-100 form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Right image"}),e.jsxs("div",{className:"content upload d-flex align-items-center gap-2",children:[e.jsx("img",{className:"upload-button__img-preview m-0",src:(l==null?void 0:l.rightSrc)||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271147/Group_1_pqlyak.png",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0 w-100",onClick:()=>c("thennow-right",h),children:l!=null&&l.rightSrc?"Change":"Upload"})]})]})]})})})})]})})}function Q0({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P,handleOpenFormFields:p}){var y,A,U,ee,oe,we,$,L,k;console.log(s,"seledfctedBlockSettings");const{id:h}=s,[l,a]=d.useState({});d.useState({});const[n,i]=d.useState(!1),[v,b]=d.useState(!1),{templateDetails:g}=bt(q=>q.DrawerReducer),N=d.useRef(null),u=d.useRef(null),_=wt(),j=q=>{const V={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(Y=>({...Y,blocks:Y.blocks.map(se=>se.id===h?{...se,struct:{...se.struct,colorTheme:q}}:se)}))}};_(T(V))},C=q=>{const V={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(Y=>({...Y,blocks:Y.blocks.map(se=>se.id===h?{...se,struct:{...se.struct,colorTheme:q.hex}}:se)}))}};_(T(V))},z=q=>{const V={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(Y=>({...Y,blocks:Y.blocks.map(se=>se.id===h?{...se,struct:{...se.struct,isOneTimeVote:q}}:se)}))}};_(T(V))},E=q=>{const V={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(Y=>({...Y,blocks:Y.blocks.map(se=>se.id===h?{...se,struct:{...se.struct,isHideScoreBeforeVote:q}}:se)}))}};_(T(V))},M=q=>{const V={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(Y=>({...Y,blocks:Y.blocks.map(se=>se.id===h?{...se,struct:{...se.struct,isRedirectEnabled:q}}:se)}))}};_(T(V))},S=q=>{const V={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(Y=>({...Y,blocks:Y.blocks.map(se=>se.id===h?{...se,struct:{...se.struct,redirectTargetLink:q}}:se)}))}};_(T(V))},F=q=>{const V={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(Y=>({...Y,blocks:Y.blocks.map(se=>se.id===h?{...se,struct:{...se.struct,redirectTimeout:q}}:se)}))}};_(T(V))};return d.useEffect(()=>{if(x){const q=x.blocks.find(V=>V.id===h);console.log(q,"checkzBLock"),a(q)}},[x,g]),d.useEffect(()=>{const q=V=>{N.current&&!N.current.contains(V.target)&&i(!1)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]),d.useEffect(()=>{const q=V=>{u.current&&!u.current.contains(V.target)&&b(!1)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]),console.log(l,"blockValuesbldfockValuesblockValues"),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Rank Battle"}),e.jsx("div",{className:"sidebar__wrapper",children:e.jsx("ul",{className:"list",children:e.jsx("li",{className:"group-block",children:e.jsxs("ul",{className:"list-style-none",children:[e.jsxs("li",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Color theme"}),e.jsxs("div",{ref:N,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(y=l==null?void 0:l.struct)==null?void 0:y.colorTheme}`},role:"button",onClick:()=>i(!n)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(A=l==null?void 0:l.struct)==null?void 0:A.colorTheme,onChange:q=>j(q.target.value)})]}),n&&e.jsx(Ut,{color:(U=l==null?void 0:l.struct)==null?void 0:U.colorTheme,onChange:q=>C(q)})]})]}),e.jsx("li",{children:e.jsxs("div",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"onetimeVote",className:"form-check-input theme-control shadow-none m-0",onChange:q=>z(q.target.checked),defaultChecked:(ee=l==null?void 0:l.struct)==null?void 0:ee.isOneTimeVote}),"User can vote one time only"]})}),e.jsx("li",{children:e.jsxs("div",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"hideresult",className:"form-check-input theme-control shadow-none m-0",onChange:q=>E(q.target.checked),defaultChecked:(oe=l==null?void 0:l.struct)==null?void 0:oe.isHideScoreBeforeVote}),"Hide total score before voting"]})})]})})})})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:q=>M(q.target.checked),defaultChecked:(we=l==null?void 0:l.struct)==null?void 0:we.isRedirectEnabled}),"Redirect after voting"]}),(($=l==null?void 0:l.struct)==null?void 0:$.isRedirectEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(L=l==null?void 0:l.struct)==null?void 0:L.redirectTargetLink,onChange:q=>S(q.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(k=l==null?void 0:l.struct)==null?void 0:k.callToActionLink,onChange:q=>F(q.target.value)})]})]})]})]})}function Y0({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P,handleOpenFormFields:p,setIsOpenLinkModal:h,handleOpenLinkModal:l}){var q,V,Y,se,Pe,Se,_e,G,le,ae,ye,Te,Oe,Q,ne,ge,J,he,Ie,Ge,xe,D;console.log(s,"dshsvdkjskjfdvskjfvskfvskkkfsf");const{id:a}=s,[n,i]=d.useState({});d.useState({});const[v,b]=d.useState(!1),[g,N]=d.useState(!1),{templateDetails:u}=bt(Z=>Z.DrawerReducer),_=d.useRef(null),j=d.useRef(null),C=wt(),z=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,colorTheme:Z}}:te)}))}};C(T(R))},E=()=>{const Z={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(R=>({...R,blocks:R.blocks.map(ce=>ce.id===a?{...ce,struct:{...ce.struct,backgroundImage:""}}:ce)}))}};C(T(Z))},M=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,colorTheme:Z.hex}}:te)}))}};C(T(R))},S=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,isTransparentBackground:Z}}:te)}))}};C(T(R))},F=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,isHideRestartButton:Z}}:te)}))}};C(T(R))},y=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,isRedirectEnabled:Z}}:te)}))}};C(T(R))},A=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,isShowLeadForm:Z}}:te)}))}};C(T(R))},U=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,callToActionEnabled:Z}}:te)}))}};C(T(R))},ee=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,redirectTargetLink:Z}}:te)}))}};C(T(R))},oe=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,redirectTimeout:Z}}:te)}))}};C(T(R))},we=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,callToActionText:Z}}:te)}))}};C(T(R))},$=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,leadFormBackgroundColor:Z}}:te)}))}};C(T(R))},L=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,leadFormBackgroundColor:Z}}:te)}))}};C(T(R))},k=Z=>{const R={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===a?{...te,struct:{...te.struct,callToActionLink:Z}}:te)}))}};C(T(R))};return d.useEffect(()=>{if(x){const Z=x.blocks.find(R=>R.id===a);console.log(Z,"checkzBLock"),i(Z)}},[x,u]),d.useEffect(()=>{const Z=R=>{_.current&&!_.current.contains(R.target)&&b(!1)};return document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[]),d.useEffect(()=>{const Z=R=>{j.current&&!j.current.contains(R.target)&&N(!1)};return document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[]),console.log(n,"blockValuesblockValuesblockValues"),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Horoscope"}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Color theme"}),e.jsxs("div",{ref:_,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(q=n==null?void 0:n.struct)==null?void 0:q.colorTheme}`},role:"button",onClick:()=>b(!v)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(V=n==null?void 0:n.struct)==null?void 0:V.colorTheme,onChange:Z=>z(Z.target.value)})]}),v&&e.jsx(Ut,{color:(Y=n==null?void 0:n.struct)==null?void 0:Y.colorTheme,onChange:Z=>M(Z)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"d-flex align-items-center gap-2 font-sm fw-medium mb-0",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control m-0",role:"button",onChange:Z=>S(Z.target.checked),defaultChecked:(se=n==null?void 0:n.struct)==null?void 0:se.isTransparentBackground}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Transparent background"})]}),!((Pe=n==null?void 0:n.struct)!=null&&Pe.isTransparentBackground)&&e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"upload-button",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Background image"}),e.jsxs("div",{className:"content upload",children:[((Se=n==null?void 0:n.struct)==null?void 0:Se.backgroundImage)&&e.jsx("img",{className:"upload-button__img-preview",src:(_e=n==null?void 0:n.struct)==null?void 0:_e.backgroundImage,alt:"background",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0 sm w-100",onClick:()=>c("horoscope-image-settings",n==null?void 0:n.id),children:"Upload"}),((G=n==null?void 0:n.struct)==null?void 0:G.backgroundImage)&&e.jsx("button",{onClick:()=>E(),className:"button button-secondary px-3 border-0",children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:Z=>F(Z.target.checked),defaultChecked:(le=n==null?void 0:n.struct)==null?void 0:le.isHideRestartButton}),"Hide back button"]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:Z=>y(Z.target.checked),defaultChecked:(ae=n==null?void 0:n.struct)==null?void 0:ae.isRedirectEnabled}),"Redirect from result screen"]}),((ye=n==null?void 0:n.struct)==null?void 0:ye.isRedirectEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Te=n==null?void 0:n.struct)==null?void 0:Te.redirectTargetLink,onChange:Z=>ee(Z.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(Oe=n==null?void 0:n.struct)==null?void 0:Oe.callToActionLink,onChange:Z=>oe(Z.target.value)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"showleadform",className:"form-check-input theme-control shadow-none m-0",onChange:Z=>A(Z.target.checked),defaultChecked:(Q=n==null?void 0:n.struct)==null?void 0:Q.isShowLeadForm}),"Show lead form"]}),((ne=n==null?void 0:n.struct)==null?void 0:ne.isShowLeadForm)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(a),className:"button button-primary outline px-3 py-2 font-sm mt-2 mb-2",children:"Customize"}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:j,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(ge=n==null?void 0:n.struct)==null?void 0:ge.leadFormBackgroundColor}`},role:"button",onClick:()=>N(!g)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(J=n==null?void 0:n.struct)==null?void 0:J.leadFormBackgroundColor,onChange:Z=>$(Z.target.value)})]}),g&&e.jsx(Ut,{color:(he=n==null?void 0:n.struct)==null?void 0:he.leadFormBackgroundColor,onChange:Z=>L(Z)})]})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",onChange:Z=>U(Z.target.checked),defaultChecked:(Ie=n==null?void 0:n.struct)==null?void 0:Ie.callToActionEnabled}),"Call to action button"]}),((Ge=n==null?void 0:n.struct)==null?void 0:Ge.callToActionEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button Text"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(xe=n==null?void 0:n.struct)==null?void 0:xe.callToActionText,onChange:Z=>we(Z.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center justify-content-between gap-2 cursor-pointer",role:"button",children:["Link",e.jsx("button",{className:"btn ",style:{color:"#20a2b8"},onClick:()=>l(a,"callToAction"),children:"Internal Page"})]}),e.jsx("input",{type:"text",className:"colorInput form-control theme-control",defaultValue:(D=n==null?void 0:n.struct)==null?void 0:D.callToActionLink,onChange:Z=>k(Z.target.value)})]})]})]})]})}function Z0({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P,handleOpenFormFields:p,handleOpenLinkModal:h}){var q,V,Y,se,Pe,Se,_e,G,le,ae,ye,Te,Oe,Q,ne,ge,J,he,Ie,Ge,xe,D,Z;console.log(s,"dshsvdkjskjfdvskjfvskfvskkkfsf");const{id:l}=s,[a,n]=d.useState({});d.useState({});const[i,v]=d.useState(!1),[b,g]=d.useState(!1),{templateDetails:N}=bt(R=>R.DrawerReducer),u=d.useRef(null),_=d.useRef(null),j=wt(),C=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,colorTheme:R}}:me)}))}};j(T(ce))},z=()=>{const R={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(ce=>({...ce,blocks:ce.blocks.map(te=>te.id===l?{...te,struct:{...te.struct,backgroundImage:""}}:te)}))}};j(T(R))},E=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,colorTheme:R.hex}}:me)}))}};j(T(ce))},M=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,isTransparentBackground:R}}:me)}))}};j(T(ce))},S=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,isHideRestartButton:R}}:me)}))}};j(T(ce))},F=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,isShowLeadForm:R}}:me)}))}};j(T(ce))},y=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,isRedirectEnabled:R}}:me)}))}};j(T(ce))},A=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,callToActionEnabled:R}}:me)}))}};j(T(ce))},U=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,redirectTargetLink:R}}:me)}))}};j(T(ce))},ee=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,redirectTimeout:R}}:me)}))}};j(T(ce))},oe=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,callToActionText:R}}:me)}))}};j(T(ce))},we=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,leadFormBackgroundColor:R}}:me)}))}};j(T(ce))},$=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,leadFormBackgroundColor:R}}:me)}))}};j(T(ce))},L=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,callToActionLink:R}}:me)}))}};j(T(ce))},k=R=>{const ce={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===l?{...me,struct:{...me.struct,shuffleCards:R}}:me)}))}};j(T(ce))};return d.useEffect(()=>{if(x){const R=x.blocks.find(ce=>ce.id===l);console.log(R,"checkzBLock"),n(R)}},[x,N,a]),d.useEffect(()=>{const R=ce=>{u.current&&!u.current.contains(ce.target)&&v(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]),d.useEffect(()=>{const R=ce=>{_.current&&!_.current.contains(ce.target)&&g(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]),console.log(a,"blockValuesblockValuesblockValues"),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Cookies"}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Color theme"}),e.jsxs("div",{ref:u,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(q=a==null?void 0:a.struct)==null?void 0:q.colorTheme}`},role:"button",onClick:()=>v(!i)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(V=a==null?void 0:a.struct)==null?void 0:V.colorTheme,onChange:R=>C(R.target.value)})]}),i&&e.jsx(Ut,{color:(Y=a==null?void 0:a.struct)==null?void 0:Y.colorTheme,onChange:R=>E(R)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"d-flex align-items-center gap-2 font-sm fw-medium mb-0",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control m-0",role:"button",onChange:R=>M(R.target.checked),defaultChecked:(se=a==null?void 0:a.struct)==null?void 0:se.isTransparentBackground}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Transparent background"})]}),!((Pe=a==null?void 0:a.struct)!=null&&Pe.isTransparentBackground)&&e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"upload-button",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Background image"}),e.jsxs("div",{className:"content upload d-flex align-items-center gap-2",children:[((Se=a==null?void 0:a.struct)==null?void 0:Se.backgroundImage)&&e.jsx("img",{className:"upload-button__img-preview m-0",src:(_e=a==null?void 0:a.struct)==null?void 0:_e.backgroundImage,alt:"background",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0 sm w-100",onClick:()=>c("horoscope-image-settings",a==null?void 0:a.id),children:"Upload"}),((G=a==null?void 0:a.struct)==null?void 0:G.backgroundImage)&&e.jsx("button",{onClick:()=>z(),className:"button button-secondary px-3 border-0",children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:R=>k(R.target.checked),defaultChecked:(le=a==null?void 0:a.struct)==null?void 0:le.shuffleCards}),"Shuffle cards"]})}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:R=>S(R.target.checked),defaultChecked:(ae=a==null?void 0:a.struct)==null?void 0:ae.isHideRestartButton}),"Hide back button"]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:R=>y(R.target.checked),defaultChecked:(ye=a==null?void 0:a.struct)==null?void 0:ye.isRedirectEnabled}),"Redirect from result screen"]}),((Te=a==null?void 0:a.struct)==null?void 0:Te.isRedirectEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Oe=a==null?void 0:a.struct)==null?void 0:Oe.redirectTargetLink,onChange:R=>U(R.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(Q=a==null?void 0:a.struct)==null?void 0:Q.callToActionLink,onChange:R=>ee(R.target.value)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"showleadform",className:"form-check-input theme-control shadow-none m-0",onChange:R=>F(R.target.checked),defaultChecked:(ne=a==null?void 0:a.struct)==null?void 0:ne.isShowLeadForm}),"Show lead form"]}),((ge=a==null?void 0:a.struct)==null?void 0:ge.isShowLeadForm)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(l),className:"button button-primary outline px-3 py-2 font-sm mt-2 mb-2",children:"Customize"}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:_,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(J=a==null?void 0:a.struct)==null?void 0:J.leadFormBackgroundColor}`},role:"button",onClick:()=>g(!b)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(he=a==null?void 0:a.struct)==null?void 0:he.leadFormBackgroundColor,onChange:R=>we(R.target.value)})]}),b&&e.jsx(Ut,{color:(Ie=a==null?void 0:a.struct)==null?void 0:Ie.leadFormBackgroundColor,onChange:R=>$(R)})]})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",onChange:R=>A(R.target.checked),defaultChecked:(Ge=a==null?void 0:a.struct)==null?void 0:Ge.callToActionEnabled}),"Call to action button"]}),((xe=a==null?void 0:a.struct)==null?void 0:xe.callToActionEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button Text"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(D=a==null?void 0:a.struct)==null?void 0:D.callToActionText,onChange:R=>oe(R.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:["Link",e.jsx("button",{className:"btn ",style:{color:"#20a2b8"},onClick:()=>h(l,"callToAction"),children:"Internal Page"})]}),e.jsx("input",{type:"text",className:"colorInput form-control theme-control",defaultValue:(Z=a==null?void 0:a.struct)==null?void 0:Z.callToActionLink,onChange:R=>L(R.target.value)})]})]})]})]})}function J0({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x}){console.log(s,"dshsvdkjskjfdvskjfvskfvskkkfsf");const{id:w,imageUrl:P}=s,[p,h]=d.useState({}),[l,a]=d.useState(!1),[n,i]=d.useState(!1),{templateDetails:v}=bt(S=>S.DrawerReducer),b=d.useRef(null),g=d.useRef(null),N=wt(),u=[{value:"1:1",label:"1:1"},{value:"5.4",label:"5.4"},{value:"4:3",label:"4:3"},{value:"3:2",label:"3:2"},{value:"16:9",label:"16:9"}],_=S=>{console.log(S,"checkselect");const F={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(y=>({...y,blocks:y.blocks.map(A=>A.id===w?{...A,imageProportions:S}:A)}))}};N(T(F))},j=S=>{const F={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(y=>({...y,blocks:y.blocks.map(A=>A.id===w?{...A,frontColor:S}:A)}))}};N(T(F))},C=S=>{const F={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(y=>({...y,blocks:y.blocks.map(A=>A.id===w?{...A,frontColor:S}:A)}))}};N(T(F))},z=S=>{const F={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(y=>({...y,blocks:y.blocks.map(A=>A.id===w?{...A,backColor:S}:A)}))}};N(T(F))},E=S=>{const F={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(y=>({...y,blocks:y.blocks.map(A=>A.id===w?{...A,backColor:S}:A)}))}};N(T(F))},M=S=>{if(S==="front"){const F={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(y=>({...y,blocks:y.blocks.map(A=>A.id===w?{...A,frontSrc:""}:A)}))}};N(T(F))}if(S==="back"){const F={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(y=>({...y,blocks:y.blocks.map(A=>A.id===w?{...A,backSrc:""}:A)}))}};N(T(F))}};return d.useEffect(()=>{if(x){const S=x.blocks.find(F=>F.id===w);console.log(S,"checkzBLock"),h(S)}},[x,v]),d.useEffect(()=>{const S=F=>{b.current&&!b.current.contains(F.target)&&a(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]),d.useEffect(()=>{const S=F=>{g.current&&!g.current.contains(F.target)&&i(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]),console.log(p==null?void 0:p.imageProportions,"checkblockValues"),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Flip Card"}),e.jsx("div",{className:"sidebar__wrapper",children:e.jsx("ul",{className:"list",children:e.jsx("li",{className:"group-block",children:e.jsx("ul",{className:"list-style-none",children:e.jsx("li",{children:e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Image proportions"}),e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",options:u,value:(p==null?void 0:p.imageProportions)&&(p==null?void 0:p.imageProportions),onChange:S=>_(S)})]})})})})})})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("div",{className:"upload-button mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Front Image"}),e.jsxs("div",{className:"content upload d-flex align-items-center gap-2",children:[(p==null?void 0:p.frontSrc)&&e.jsx("img",{className:"m-0 upload-button__img-preview",src:p==null?void 0:p.frontSrc,alt:"front",style:{height:44,width:44,borderRadius:8}}),e.jsx("button",{className:"button button-primary border-0 w-100",onClick:()=>c("flip-front",w),children:p!=null&&p.frontSrc?"Upload":"Change"}),(p==null?void 0:p.frontSrc)&&e.jsx("button",{className:"button button-secondary px-3 border-0 text-muted",onClick:()=>M("front"),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]}),e.jsxs("div",{className:"upload-button",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Back Image"}),e.jsxs("div",{className:"content upload d-flex align-items-center gap-2",children:[(p==null?void 0:p.backSrc)&&e.jsx("img",{className:"upload-button__img-preview m-0",src:p==null?void 0:p.backSrc,alt:"front",style:{height:44,width:44,borderRadius:8}}),e.jsx("button",{className:"button button-primary border-0 w-100",onClick:()=>c("flip-back",w),children:p!=null&&p.backSrc?"Upload":"Change"}),(p==null?void 0:p.backSrc)&&e.jsx("button",{className:"button button-secondary px-3 border-0 text-muted",onClick:()=>M("back"),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Front color"}),e.jsxs("div",{ref:b,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${p==null?void 0:p.frontColor}`},role:"button",onClick:()=>a(!l)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:p==null?void 0:p.frontColor,onChange:S=>j(S.target.value)})]}),l&&e.jsx(Ut,{color:p==null?void 0:p.frontColor,onChange:S=>C(S.hex)})]})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Back color"}),e.jsxs("div",{ref:g,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${p==null?void 0:p.backColor}`},role:"button",onClick:()=>i(!l)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:p==null?void 0:p.backColor,onChange:S=>z(S.target.value)})]}),n&&e.jsx(Ut,{color:p==null?void 0:p.backColor,onChange:S=>E(S.hex)})]})]})]})]})}function X0({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x}){var y,A,U,ee,oe,we,$,L,k,q,V,Y,se,Pe;console.log(s,"dshsvdkjskjfdvskjfvskfvskkkfsf");const{id:w,imageUrl:P}=s,[p,h]=d.useState({}),[l,a]=d.useState(!1),[n,i]=d.useState(!1),{templateDetails:v}=bt(Se=>Se.DrawerReducer),b=d.useRef(null),g=d.useRef(null),N=wt(),u=Se=>{const _e={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(G=>({...G,blocks:G.blocks.map(le=>le.id===w?{...le,struct:{...le.struct,colorTheme:Se}}:le)}))}};N(T(_e))},_=Se=>{const _e={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(G=>({...G,blocks:G.blocks.map(le=>le.id===w?{...le,struct:{...le.struct,backgroundColor:Se}}:le)}))}};N(T(_e))},j=Se=>{const _e={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(G=>({...G,blocks:G.blocks.map(le=>le.id===w?{...le,struct:{...le.struct,backgroundColor:Se}}:le)}))}};N(T(_e))},C=Se=>{const _e={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(G=>({...G,blocks:G.blocks.map(le=>le.id===w?{...le,struct:{...le.struct,isRedirectEnabled:Se}}:le)}))}};N(T(_e))},z=Se=>{const _e={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(G=>({...G,blocks:G.blocks.map(le=>le.id===w?{...le,struct:{...le.struct,callToActionLink:Se}}:le)}))}};N(T(_e))},E=Se=>{const _e={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(G=>({...G,blocks:G.blocks.map(le=>le.id===w?{...le,struct:{...le.struct,callToActionEnabled:Se}}:le)}))}};N(T(_e))},M=Se=>{const _e={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(G=>({...G,blocks:G.blocks.map(le=>le.id===w?{...le,struct:{...le.struct,redirectTargetLink:Se}}:le)}))}};N(T(_e))},S=Se=>{const _e={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(G=>({...G,blocks:G.blocks.map(le=>le.id===w?{...le,struct:{...le.struct,redirectTimeout:Se}}:le)}))}};N(T(_e))},F=Se=>{const _e={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(G=>({...G,blocks:G.blocks.map(le=>le.id===w?{...le,struct:{...le.struct,callToActionText:Se}}:le)}))}};N(T(_e))};return d.useEffect(()=>{if(x){const Se=x.blocks.find(_e=>_e.id===w);console.log(Se,"checkzBLock"),h(Se)}},[x,v]),d.useEffect(()=>{const Se=_e=>{b.current&&!b.current.contains(_e.target)&&a(!1)};return document.addEventListener("mousedown",Se),()=>{document.removeEventListener("mousedown",Se)}},[]),d.useEffect(()=>{const Se=_e=>{g.current&&!g.current.contains(_e.target)&&i(!1)};return document.addEventListener("mousedown",Se),()=>{document.removeEventListener("mousedown",Se)}},[]),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Lead form"}),e.jsx("div",{className:"sidebar__wrapper",children:e.jsx("ul",{className:"list",children:e.jsx("li",{className:"group-block",children:e.jsxs("ul",{className:"list-style-none",children:[e.jsxs("li",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Color theme"}),e.jsxs("div",{ref:b,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(y=p==null?void 0:p.struct)==null?void 0:y.colorTheme}`},role:"button",onClick:()=>a(!l)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(A=p==null?void 0:p.struct)==null?void 0:A.colorTheme,onChange:Se=>u(Se.target.value)})]}),l&&e.jsx(Ut,{color:(U=p==null?void 0:p.struct)==null?void 0:U.colorTheme,onChange:Se=>handleChangeColorTextImage(Se)})]})]}),e.jsxs("li",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:g,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(ee=p==null?void 0:p.struct)==null?void 0:ee.backgroundColor}`},role:"button",onClick:()=>i(!n)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(oe=p==null?void 0:p.struct)==null?void 0:oe.backgroundColor,onChange:Se=>_(Se.target.value)})]}),n&&e.jsx(Ut,{color:(we=p==null?void 0:p.struct)==null?void 0:we.backgroundColor,onChange:Se=>j(Se.hex)})]})]})]})})})})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:Se=>C(Se.target.checked),defaultChecked:($=p==null?void 0:p.struct)==null?void 0:$.isRedirectEnabled}),"Redirect from thankyou screen"]}),((L=p==null?void 0:p.struct)==null?void 0:L.isRedirectEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(k=p==null?void 0:p.struct)==null?void 0:k.redirectTargetLink,onChange:Se=>M(Se.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(q=p==null?void 0:p.struct)==null?void 0:q.callToActionLink,onChange:Se=>S(Se.target.value)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",onChange:Se=>E(Se.target.checked),defaultChecked:(V=p==null?void 0:p.struct)==null?void 0:V.callToActionEnabled}),"Call to action button"]}),((Y=p==null?void 0:p.struct)==null?void 0:Y.callToActionEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button Text"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(se=p==null?void 0:p.struct)==null?void 0:se.callToActionText,onChange:Se=>F(Se.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Link"}),e.jsx("input",{type:"text",className:"colorInput form-control theme-control",defaultValue:(Pe=p==null?void 0:p.struct)==null?void 0:Pe.callToActionLink,onChange:Se=>z(Se.target.value)})]})]})]})]})}function K0({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P,handleOpenFormFields:p}){var q,V,Y,se,Pe,Se,_e,G,le,ae,ye,Te,Oe,Q,ne,ge,J,he,Ie,Ge,xe,D,Z;const{id:h}=s,[l,a]=d.useState({});d.useState({});const[n,i]=d.useState(!1),[v,b]=d.useState(!1),{templateDetails:g}=bt(R=>R.DrawerReducer),N=d.useRef(null),u=d.useRef(null),_=wt(),j=[{value:"MONOCHROMATIC",label:"Monochromatic"},{value:"ANALOGOUS",label:"Analogous"},{value:"TRIADIC",label:"Tradic"},{value:"SPLIT COMPLEMENTARY",label:"Split Complementary"}],C=[{value:"no",label:"No"},{value:"confetti",label:"Confetti"},{value:"fireworks",label:"Fireworks"},{value:"stars",label:"Stars"}],z=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,colorTheme:R}}:me)}))}};_(T(ce))},E=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,colorTheme:R}}:me)}))}};_(T(ce))},M=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,colorScheme:R.value}}:me)}))}};_(T(ce))},S=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,animation:R.value}}:me)}))}};_(T(ce))},F=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,isHideRestartButton:R}}:me)}))}};_(T(ce))},y=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,isRedirectEnabled:R}}:me)}))}};_(T(ce))},A=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,isShowLeadForm:R}}:me)}))}};_(T(ce))},U=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,callToActionEnabled:R}}:me)}))}};_(T(ce))},ee=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,redirectTargetLink:R}}:me)}))}};_(T(ce))},oe=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,redirectTimeout:R}}:me)}))}};_(T(ce))},we=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,callToActionText:R}}:me)}))}};_(T(ce))},$=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,leadFormBackgroundColor:R}}:me)}))}};_(T(ce))},L=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,leadFormBackgroundColor:R}}:me)}))}};_(T(ce))},k=R=>{const ce={...g,project_structure:{...g.project_structure,pages:g.project_structure.pages.map(te=>({...te,blocks:te.blocks.map(me=>me.id===h?{...me,struct:{...me.struct,callToActionLink:R}}:me)}))}};_(T(ce))};return d.useEffect(()=>{if(x){const R=x.blocks.find(ce=>ce.id===h);console.log(R,"checkzBLock"),a(R)}},[x,g]),d.useEffect(()=>{const R=ce=>{N.current&&!N.current.contains(ce.target)&&i(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]),d.useEffect(()=>{const R=ce=>{u.current&&!u.current.contains(ce.target)&&b(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]),console.log(l,"blockValuesblockValuesblockValues"),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Wheel settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Color theme"}),e.jsxs("div",{ref:N,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(q=l==null?void 0:l.struct)==null?void 0:q.colorTheme}`},role:"button",onClick:()=>i(!n)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(V=l==null?void 0:l.struct)==null?void 0:V.colorTheme,onChange:R=>z(R.target.value)})]}),n&&e.jsx(Ut,{color:(Y=l==null?void 0:l.struct)==null?void 0:Y.colorTheme,onChange:R=>E(R.hex)})]})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Color scheme"}),e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",options:j,defaultValue:(se=l==null?void 0:l.struct)!=null&&se.colorScheme?{label:(Pe=l==null?void 0:l.struct)==null?void 0:Pe.colorScheme,value:(Se=l==null?void 0:l.struct)==null?void 0:Se.colorScheme}:null,onChange:R=>M(R)})]})}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("div",{className:"control-box",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Animation"}),e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",options:C,defaultValue:(_e=l==null?void 0:l.struct)!=null&&_e.animation?{label:(G=l==null?void 0:l.struct)==null?void 0:G.animation,value:(le=l==null?void 0:l.struct)==null?void 0:le.animation}:null,onChange:R=>S(R)})]})}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:R=>F(R.target.checked),checked:(ae=l==null?void 0:l.struct)==null?void 0:ae.isHideRestartButton}),"Hide restart button"]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:R=>y(R.target.checked),checked:(ye=l==null?void 0:l.struct)==null?void 0:ye.isRedirectEnabled}),"Redirect from result screen"]}),((Te=l==null?void 0:l.struct)==null?void 0:Te.isRedirectEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Oe=l==null?void 0:l.struct)==null?void 0:Oe.redirectTargetLink,onChange:R=>ee(R.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(Q=l==null?void 0:l.struct)==null?void 0:Q.callToActionLink,onChange:R=>oe(R.target.value)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"showleadform",className:"form-check-input theme-control shadow-none m-0",onChange:R=>A(R.target.checked),checked:(ne=l==null?void 0:l.struct)==null?void 0:ne.isShowLeadForm}),"Show lead form"]}),((ge=l==null?void 0:l.struct)==null?void 0:ge.isShowLeadForm)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(h),className:"button button-primary outline px-3 py-2 font-sm my-2",children:"Customize"}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:u,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(J=l==null?void 0:l.struct)==null?void 0:J.leadFormBackgroundColor}`},role:"button",onClick:()=>b(!v)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(he=l==null?void 0:l.struct)==null?void 0:he.leadFormBackgroundColor,onChange:R=>$(R.target.value)})]}),v&&e.jsx(Ut,{color:(Ie=l==null?void 0:l.struct)==null?void 0:Ie.leadFormBackgroundColor,onChange:R=>L(R)})]})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",onChange:R=>U(R.target.checked),defaultChecked:(Ge=l==null?void 0:l.struct)==null?void 0:Ge.callToActionEnabled}),"Call to action button"]}),((xe=l==null?void 0:l.struct)==null?void 0:xe.callToActionEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button Text"}),e.jsx("input",{className:"colorInput",type:"text",defaultValue:(D=l==null?void 0:l.struct)==null?void 0:D.callToActionText,onChange:R=>we(R.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Link"}),e.jsx("input",{type:"text",className:"colorInput",defaultValue:(Z=l==null?void 0:l.struct)==null?void 0:Z.callToActionLink,onChange:R=>k(R.target.value)})]})]})]})]})}function V0({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P,handleOpenFormFields:p,handleOpenPasswordModal:h,handleTimeUpPage:l}){var _e,G,le,ae,ye,Te,Oe,Q,ne,ge,J,he,Ie,Ge,xe,D,Z,R,ce,te,me,Lt,Pt,Qe,ft,xt,dt,_t,De,ut,Le,ot,B,rt,vt,Nt,$t;const{id:a}=s,[n,i]=d.useState({});d.useState({});const[v,b]=d.useState(!1),[g,N]=d.useState(!1),{templateDetails:u}=bt(We=>We.DrawerReducer),_=d.useRef(null),j=d.useRef(null),C=wt(),z=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,colorTheme:We}}:Ne)}))}};C(T(mt))},E=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,colorTheme:We}}:Ne)}))}};C(T(mt))},M=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,isHideRestartButton:We}}:Ne)}))}};C(T(mt))},S=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,numberOfAttempts:We}}:Ne)}))}};C(T(mt))},F=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,legalStatement:We}}:Ne)}))}};C(T(mt))},y=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,isEnableRating:We}}:Ne)}))}};C(T(mt))},A=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,isHideLeaderboard:We}}:Ne)}))}};C(T(mt))},U=(We,mt)=>{console.log(We,mt,"checklabel");const fe={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(Ne=>({...Ne,blocks:Ne.blocks.map(et=>et.id===a?{...et,struct:{...et.struct,timerType:{...et.struct.timerType,value:"countdown",label:mt}}}:et)}))}};C(T(fe))},ee=(We,mt)=>{console.log(We,mt,"checklabel");const fe={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(Ne=>({...Ne,blocks:Ne.blocks.map(et=>et.id===a?{...et,struct:{...et.struct,timerType:{...et.struct.timerType,value:"stopwatch",label:mt}}}:et)}))}};C(T(fe))},oe=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,enableTimer:We}}:Ne)}))}};C(T(mt))},we=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,isRedirectEnabled:We}}:Ne)}))}};C(T(mt))},$=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,isShowLeadForm:We}}:Ne)}))}};C(T(mt))},L=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,callToActionEnabled:We}}:Ne)}))}};C(T(mt))},k=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,countdownTime:We}}:Ne)}))}};C(T(mt))},q=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,redirectTargetLink:We}}:Ne)}))}};C(T(mt))},V=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,redirectTimeout:We}}:Ne)}))}};C(T(mt))},Y=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,callToActionText:We}}:Ne)}))}};C(T(mt))},se=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,leadFormBackgroundColor:We}}:Ne)}))}};C(T(mt))},Pe=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,leadFormBackgroundColor:We}}:Ne)}))}};C(T(mt))},Se=We=>{const mt={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(fe=>({...fe,blocks:fe.blocks.map(Ne=>Ne.id===a?{...Ne,struct:{...Ne.struct,callToActionLink:We}}:Ne)}))}};C(T(mt))};return d.useEffect(()=>{if(x){const We=x.blocks.find(mt=>mt.id===a);console.log(We,"checkzBLock"),i(We)}},[x,u]),d.useEffect(()=>{const We=mt=>{_.current&&!_.current.contains(mt.target)&&b(!1)};return document.addEventListener("mousedown",We),()=>{document.removeEventListener("mousedown",We)}},[]),d.useEffect(()=>{const We=mt=>{j.current&&!j.current.contains(mt.target)&&N(!1)};return document.addEventListener("mousedown",We),()=>{document.removeEventListener("mousedown",We)}},[]),console.log(n==null?void 0:n.struct,"blockValuesbddddlockVdddtuoophgfgaluesblockValuesdsdsd"),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Puzzle settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Color theme"}),e.jsxs("div",{ref:_,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(_e=n==null?void 0:n.struct)==null?void 0:_e.colorTheme}`},role:"button",onClick:()=>b(!v)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(G=n==null?void 0:n.struct)==null?void 0:G.colorTheme,onChange:We=>z(We.target.value)})]}),v&&e.jsx(Ut,{color:(le=n==null?void 0:n.struct)==null?void 0:le.colorTheme,onChange:We=>E(We.hex)})]})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"d-flex justify-content-between form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:[e.jsx("label",{className:"mb-0",children:"Privacy"}),e.jsx("div",{children:((ye=(ae=n==null?void 0:n.struct)==null?void 0:ae.passwordList)==null?void 0:ye.length)===0?e.jsxs("p",{className:"mb-0 d-flex gap-2 align-items-center px-3 py-2 button button-primary",role:"button",onClick:()=>h(n),children:[e.jsx("i",{class:"fa-solid fa-lock-open"})," No restrictions"]}):e.jsxs("p",{className:"mb-0 d-flex gap-2 align-items-center px-3 py-2 button button-primary",role:"button",onClick:()=>h(n),children:[e.jsx("i",{class:"fa-solid fa-lock"})," Password access"]})})]})})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:[e.jsx("p",{children:"Gamification"}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:We=>y(We.target.checked),checked:(Te=n==null?void 0:n.struct)==null?void 0:Te.isEnableRating}),"Enable player ratings"]})]})}),((Oe=n==null?void 0:n.struct)==null?void 0:Oe.isEnableRating)&&e.jsxs("div",{className:"control-box",children:[e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:We=>A(We.target.checked),checked:(Q=n==null?void 0:n.struct)==null?void 0:Q.isHideLeaderboard}),"Hide leaderboard from users"]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer",role:"button",children:"Number of attempts"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(ne=n==null?void 0:n.struct)==null?void 0:ne.numberOfAttempts,onChange:We=>S(We.target.value),min:"0"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer",role:"button",children:"Links to service policies (html)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(ge=n==null?void 0:n.struct)==null?void 0:ge.legalStatement,onChange:We=>F(We.target.value),min:"0"})]}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:We=>A(We.target.checked),checked:(J=n==null?void 0:n.struct)==null?void 0:J.isHideLeaderboard}),"Ask user email"]})})]}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:`${((he=n==null?void 0:n.struct)==null?void 0:he.isEnableRating)===!0?"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0 disabled":"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0"} `,role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:We=>oe(We.target.checked),checked:(Ie=n==null?void 0:n.struct)!=null&&Ie.isEnableRating?!0:(Ge=n==null?void 0:n.struct)==null?void 0:Ge.enableTimer,disabled:((xe=n==null?void 0:n.struct)==null?void 0:xe.isEnableRating)===!0}),"Enable timer"]})}),((D=n==null?void 0:n.struct)==null?void 0:D.enableTimer)&&e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer d-flex justify-content-start gap-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"classicTimer",name:"timerType",className:"",onChange:We=>ee(We.target.checked,"Classic timer"),checked:((R=(Z=n==null?void 0:n.struct)==null?void 0:Z.timerType)==null?void 0:R.value)==="stopwatch"}),"Classic timer"]}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"countdownTimer",name:"timerType",className:"",onChange:We=>U(We.target.checked,"Countdown"),checked:((te=(ce=n==null?void 0:n.struct)==null?void 0:ce.timerType)==null?void 0:te.value)==="countdown"}),"Countdown"]})]})}),((Lt=(me=n==null?void 0:n.struct)==null?void 0:me.timerType)==null?void 0:Lt.value)==="countdown"&&e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Value in seconds"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",min:0,defaultValue:(Pt=n==null?void 0:n.struct)==null?void 0:Pt.countdownTime,onChange:We=>k(We.target.value)})]}),e.jsx("div",{children:e.jsx("p",{style:{color:"#20a2b8"},className:"mb-0 font-sm fw-medium",role:"button",onClick:()=>l(m),children:"Customize the “Time is up” page"})})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:We=>M(We.target.checked),checked:(Qe=n==null?void 0:n.struct)==null?void 0:Qe.isHideRestartButton}),"Hide restart button"]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:We=>we(We.target.checked),checked:(ft=n==null?void 0:n.struct)==null?void 0:ft.isRedirectEnabled}),"Redirect from result screen"]}),((xt=n==null?void 0:n.struct)==null?void 0:xt.isRedirectEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(dt=n==null?void 0:n.struct)==null?void 0:dt.redirectTargetLink,onChange:We=>q(We.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(_t=n==null?void 0:n.struct)==null?void 0:_t.callToActionLink,onChange:We=>V(We.target.value)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"showleadform",className:"form-check-input theme-control shadow-none m-0",onChange:We=>$(We.target.checked),checked:(De=n==null?void 0:n.struct)==null?void 0:De.isShowLeadForm}),"Show lead form"]}),((ut=n==null?void 0:n.struct)==null?void 0:ut.isShowLeadForm)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(a),className:"button button-primary outline px-3 py-2 font-sm my-2",children:"Customize"}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:j,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(Le=n==null?void 0:n.struct)==null?void 0:Le.leadFormBackgroundColor}`},role:"button",onClick:()=>N(!g)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(ot=n==null?void 0:n.struct)==null?void 0:ot.leadFormBackgroundColor,onChange:We=>se(We.target.value)})]}),g&&e.jsx(Ut,{color:(B=n==null?void 0:n.struct)==null?void 0:B.leadFormBackgroundColor,onChange:We=>Pe(We)})]})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",onChange:We=>L(We.target.checked),checked:(rt=n==null?void 0:n.struct)==null?void 0:rt.callToActionEnabled}),"Call to action button"]}),((vt=n==null?void 0:n.struct)==null?void 0:vt.callToActionEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button Text"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Nt=n==null?void 0:n.struct)==null?void 0:Nt.callToActionText,onChange:We=>Y(We.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Link"}),e.jsx("input",{type:"text",className:"colorInput form-control theme-control",defaultValue:($t=n==null?void 0:n.struct)==null?void 0:$t.callToActionLink,onChange:We=>Se(We.target.value)})]})]})]})]})}function D0({data:c,selectedBlockSettings:m,pageData:s,handleOpenFormFields:x,handleOpenPasswordModal:w,handleTimeUpPage:P}){var ye,Te,Oe,Q,ne,ge,J,he,Ie,Ge,xe,D,Z,R,ce,te,me,Lt,Pt,Qe,ft,xt,dt,_t,De,ut,Le,ot,B,rt,vt,Nt,$t,We,mt,fe,Ne,et,Be,Ft,Kt,Qt,Vt,He,lt,Ke,st,it,be,re,Ee,pe,Re,St;const{id:p}=m,[h,l]=d.useState({}),[a,n]=d.useState(!1),[i,v]=d.useState(!1),{templateDetails:b}=bt(ie=>ie.DrawerReducer),g=d.useRef(null),N=d.useRef(null),u=wt();console.log(h,"blockValuesblockValues");const _=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,colorTheme:ie}}:ke)}))}};u(T(Me))},j=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,colorTheme:ie}}:ke)}))}};u(T(Me))},C=ie=>{console.log(ie,"qsqsqsqq");const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,isHideRestartButton:ie}}:ke)}))}};u(T(Me))},z=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,numberedCardBacks:ie}}:ke)}))}};u(T(Me))},E=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,showToMemorize:ie}}:ke)}))}};u(T(Me))},M=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,showToMemorizeTime:ie}}:ke)}))}};u(T(Me))},S=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,timeoutClosingCards:ie}}:ke)}))}};u(T(Me))},F=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,numberOfAttempts:ie}}:ke)}))}};u(T(Me))},y=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,legalStatement:ie}}:ke)}))}};u(T(Me))},A=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,isEnableRating:ie}}:ke)}))}};u(T(Me))},U=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,isHideLeaderboard:ie}}:ke)}))}};u(T(Me))},ee=(ie,Me)=>{console.log(ie,Me,"checklabel");const Ue={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(ke=>({...ke,blocks:ke.blocks.map(Ht=>Ht.id===p?{...Ht,struct:{...Ht.struct,timerType:{...Ht.struct.timerType,value:"countdown",label:Me}}}:Ht)}))}};u(T(Ue))},oe=(ie,Me)=>{console.log(ie,Me,"checklabel");const Ue={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(ke=>({...ke,blocks:ke.blocks.map(Ht=>Ht.id===p?{...Ht,struct:{...Ht.struct,timerType:{...Ht.struct.timerType,value:"stopwatch",label:Me}}}:Ht)}))}};u(T(Ue))},we=(ie,Me)=>{console.log(ie,Me,"checklabel");const Ue={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(ke=>({...ke,blocks:ke.blocks.map(Ht=>Ht.id===p?{...Ht,struct:{...Ht.struct,numberedCardBacksType:{...Ht.struct.numberedCardBacksType,value:ie,label:Me}}}:Ht)}))}};u(T(Ue))},$=(ie,Me)=>{console.log(ie,Me,"checklabel");const Ue={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(ke=>({...ke,blocks:ke.blocks.map(Ht=>Ht.id===p?{...Ht,struct:{...Ht.struct,numberedCardBacksType:{...Ht.struct.numberedCardBacksType,value:ie,label:Me}}}:Ht)}))}};u(T(Ue))},L=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,enableTimer:ie}}:ke)}))}};u(T(Me))},k=ie=>{console.log(ie,"sdscsc");const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,enableStars:ie}}:ke)}))}};u(T(Me))},q=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,isRedirectEnabled:ie}}:ke)}))}};u(T(Me))},V=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,isShowLeadForm:ie}}:ke)}))}};u(T(Me))},Y=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,callToActionEnabled:ie}}:ke)}))}};u(T(Me))},se=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,countdownTime:ie}}:ke)}))}};u(T(Me))},Pe=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,redirectTargetLink:ie}}:ke)}))}};u(T(Me))},Se=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,redirectTimeout:ie}}:ke)}))}};u(T(Me))},_e=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,callToActionText:ie}}:ke)}))}};u(T(Me))},G=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,leadFormBackgroundColor:ie}}:ke)}))}};u(T(Me))},le=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,leadFormBackgroundColor:ie}}:ke)}))}};u(T(Me))},ae=ie=>{const Me={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map(Ue=>({...Ue,blocks:Ue.blocks.map(ke=>ke.id===p?{...ke,struct:{...ke.struct,callToActionLink:ie}}:ke)}))}};u(T(Me))};return d.useEffect(()=>{if(s){const ie=s.blocks.find(Me=>Me.id===p);console.log(ie,"checkzBLock"),l(ie)}},[s,b]),d.useEffect(()=>{const ie=Me=>{g.current&&!g.current.contains(Me.target)&&n(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]),d.useEffect(()=>{const ie=Me=>{N.current&&!N.current.contains(Me.target)&&v(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]),console.log(h,"blockValuesbddddlockVdddddtuoophgfgaluesblockValuesdsdsd"),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Memory settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Color theme"}),e.jsxs("div",{ref:g,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(ye=h==null?void 0:h.struct)==null?void 0:ye.colorTheme}`},role:"button",onClick:()=>n(!a)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Te=h==null?void 0:h.struct)==null?void 0:Te.colorTheme,onChange:ie=>_(ie.target.value)})]}),a&&e.jsx(Ut,{color:(Oe=h==null?void 0:h.struct)==null?void 0:Oe.colorTheme,onChange:ie=>j(ie.hex)})]})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:ie=>z(ie.target.checked),checked:(Q=h==null?void 0:h.struct)==null?void 0:Q.numberedCardBacks}),"Number card backs"]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[((ne=h==null?void 0:h.struct)==null?void 0:ne.numberedCardBacks)&&e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer d-flex justify-content-start gap-3 mb-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"classicTimer",name:"good",className:"",onChange:()=>we("option_1","Option 1"),checked:((J=(ge=h==null?void 0:h.struct)==null?void 0:ge.numberedCardBacksType)==null?void 0:J.value)==="option_1"}),"Option 1"]}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"countdownTimer",name:"good",className:"",onChange:()=>$("option_2","Option 2"),checked:((Ie=(he=h==null?void 0:h.struct)==null?void 0:he.numberedCardBacksType)==null?void 0:Ie.value)==="option_2"}),"Option 2"]})]})}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:ie=>E(ie.target.checked),checked:(Ge=h==null?void 0:h.struct)==null?void 0:Ge.showToMemorize}),"Show cards before the game start"]}),((xe=h==null?void 0:h.struct)==null?void 0:xe.showToMemorize)&&e.jsxs("div",{className:"control-box mt-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Time to memorize (in seconds)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(D=h==null?void 0:h.struct)==null?void 0:D.showToMemorizeTime,onChange:ie=>M(ie.target.value),min:"0"})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:ie=>C(ie.target.checked),checked:(Z=h==null?void 0:h.struct)==null?void 0:Z.isHideRestartButton}),"Hide restart button"]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Delay before flipping cards (in seconds)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(R=h==null?void 0:h.struct)==null?void 0:R.timeoutClosingCards,onChange:ie=>S(ie.target.value),min:"0"})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"d-flex justify-content-between form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:[e.jsx("label",{className:"mb-0",children:"Privacy"}),e.jsx("div",{children:((te=(ce=h==null?void 0:h.struct)==null?void 0:ce.passwordList)==null?void 0:te.length)===0?e.jsxs("p",{role:"button",className:"mb-0 d-flex gap-2 align-items-center px-3 py-2 button button-primary",onClick:()=>w(h),children:[e.jsx("i",{class:"fa-solid fa-lock-open"})," No restrictions"]}):e.jsxs("p",{role:"button",className:"mb-0 d-flex gap-2 align-items-center px-3 py-2 button button-primary",onClick:()=>w(h),children:[e.jsx("i",{class:"fa-solid fa-lock"})," Password access"]})})]})})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:[e.jsx("p",{children:"Gamification"}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:ie=>A(ie.target.checked),checked:(me=h==null?void 0:h.struct)==null?void 0:me.isEnableRating}),"Enable player ratings"]})]})}),((Lt=h==null?void 0:h.struct)==null?void 0:Lt.isEnableRating)&&e.jsxs("div",{className:"control-box",children:[e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:ie=>U(ie.target.checked),checked:(Pt=h==null?void 0:h.struct)==null?void 0:Pt.isHideLeaderboard}),"Hide leaderboard from users"]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Number of attempts"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(Qe=h==null?void 0:h.struct)==null?void 0:Qe.numberOfAttempts,onChange:ie=>F(ie.target.value),min:"0"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Links to service policies (html)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(ft=h==null?void 0:h.struct)==null?void 0:ft.legalStatement,onChange:ie=>y(ie.target.value),min:"0"})]}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:ie=>U(ie.target.checked),checked:(xt=h==null?void 0:h.struct)==null?void 0:xt.isHideLeaderboard}),"Ask user email"]})})]}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:`${((dt=h==null?void 0:h.struct)==null?void 0:dt.isEnableRating)===!0?"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0 disabled":"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0"} `,role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:ie=>L(ie.target.checked),checked:(_t=h==null?void 0:h.struct)!=null&&_t.isEnableRating?!0:(De=h==null?void 0:h.struct)==null?void 0:De.enableTimer,disabled:((ut=h==null?void 0:h.struct)==null?void 0:ut.isEnableRating)===!0}),"Enable timer"]})}),console.log((Le=h==null?void 0:h.struct)==null?void 0:Le.enableStars,"blockValuesblockValues"),((ot=h==null?void 0:h.struct)==null?void 0:ot.enableTimer)&&e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"d-flex justify-content-start gap-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"classicTimer",name:"timerType",className:"",onChange:ie=>oe(ie.target.checked,"Classic timer"),checked:((rt=(B=h==null?void 0:h.struct)==null?void 0:B.timerType)==null?void 0:rt.value)==="stopwatch"}),"Classic timer"]}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"countdownTimer",name:"timerType",className:"",onChange:ie=>ee(ie.target.checked,"Countdown"),checked:((Nt=(vt=h==null?void 0:h.struct)==null?void 0:vt.timerType)==null?void 0:Nt.value)==="countdown"}),"Countdown"]})]})}),(($t=h==null?void 0:h.struct)==null?void 0:$t.enableTimer)&&((mt=(We=h==null?void 0:h.struct)==null?void 0:We.timerType)==null?void 0:mt.value)==="stopwatch"&&e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:ie=>k(ie.target.checked),checked:(fe=h==null?void 0:h.struct)==null?void 0:fe.enableStars}),"Enable player ratings"]})}),console.log((et=(Ne=h==null?void 0:h.struct)==null?void 0:Ne.timerType)==null?void 0:et.value,"dvdvdvdvdd"),((Ft=(Be=h==null?void 0:h.struct)==null?void 0:Be.timerType)==null?void 0:Ft.value)==="countdown"&&e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Value in seconds"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",min:0,defaultValue:(Kt=h==null?void 0:h.struct)==null?void 0:Kt.countdownTime,onChange:ie=>se(ie.target.value)})]}),e.jsx("div",{children:e.jsx("p",{style:{color:"#20a2b8"},role:"button",className:"mb-0 font-sm fw-medium",onClick:()=>P(h),children:"Customize the “Time is up” page"})})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:ie=>q(ie.target.checked),checked:(Qt=h==null?void 0:h.struct)==null?void 0:Qt.isRedirectEnabled}),"Redirect from result screen"]}),((Vt=h==null?void 0:h.struct)==null?void 0:Vt.isRedirectEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(He=h==null?void 0:h.struct)==null?void 0:He.redirectTargetLink,onChange:ie=>Pe(ie.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(lt=h==null?void 0:h.struct)==null?void 0:lt.callToActionLink,onChange:ie=>Se(ie.target.value)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"showleadform",className:"form-check-input theme-control shadow-none m-0",onChange:ie=>V(ie.target.checked),checked:(Ke=h==null?void 0:h.struct)==null?void 0:Ke.isShowLeadForm}),"Show lead form"]}),((st=h==null?void 0:h.struct)==null?void 0:st.isShowLeadForm)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>x(p),className:"button button-primary outline px-3 py-2 font-sm my-2",children:"Customize"}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:N,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(it=h==null?void 0:h.struct)==null?void 0:it.leadFormBackgroundColor}`},role:"button",onClick:()=>v(!i)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(be=h==null?void 0:h.struct)==null?void 0:be.leadFormBackgroundColor,onChange:ie=>G(ie.target.value)})]}),i&&e.jsx(Ut,{color:(re=h==null?void 0:h.struct)==null?void 0:re.leadFormBackgroundColor,onChange:ie=>le(ie)})]})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",onChange:ie=>Y(ie.target.checked),checked:(Ee=h==null?void 0:h.struct)==null?void 0:Ee.callToActionEnabled}),"Call to action button"]}),((pe=h==null?void 0:h.struct)==null?void 0:pe.callToActionEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button Text"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Re=h==null?void 0:h.struct)==null?void 0:Re.callToActionText,onChange:ie=>_e(ie.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Link"}),e.jsx("input",{type:"text",className:"colorInput form-control theme-control",defaultValue:(St=h==null?void 0:h.struct)==null?void 0:St.callToActionLink,onChange:ie=>ae(ie.target.value)})]})]})]})]})}function eb({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P,handleOpenFormFields:p,handleOpenPasswordModal:h,handleTimeUpPage:l}){var Oe,Q,ne,ge,J,he,Ie,Ge,xe,D,Z,R,ce,te,me,Lt,Pt,Qe,ft,xt,dt,_t,De,ut,Le,ot,B,rt,vt,Nt,$t,We,mt,fe,Ne,et,Be,Ft,Kt,Qt,Vt,He,lt,Ke,st,it,be;const{id:a}=s,[n,i]=d.useState({}),[v,b]=d.useState(!1),[g,N]=d.useState(!1),{templateDetails:u}=bt(re=>re.DrawerReducer),_=d.useRef(null),j=d.useRef(null),C=wt(),z=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,colorTheme:re}}:Re)}))}};C(T(Ee))},E=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,colorTheme:re}}:Re)}))}};C(T(Ee))},M=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,isHideRestartButton:re}}:Re)}))}};C(T(Ee))},S=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,numberedCardBacks:re}}:Re)}))}};C(T(Ee))},F=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,showToMemorize:re}}:Re)}))}};C(T(Ee))},y=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,showToMemorizeTime:re}}:Re)}))}};C(T(Ee))},A=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,timeoutClosingCards:re}}:Re)}))}};C(T(Ee))},U=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,numberOfAttempts:re}}:Re)}))}};C(T(Ee))},ee=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,legalStatement:re}}:Re)}))}};C(T(Ee))},oe=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,isEnableRating:re}}:Re)}))}};C(T(Ee))},we=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,isHideLeaderboard:re}}:Re)}))}};C(T(Ee))},$=(re,Ee)=>{console.log(re,Ee,"checklabel");const pe={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(Re=>({...Re,blocks:Re.blocks.map(St=>St.id===a?{...St,struct:{...St.struct,timerType:{...St.struct.timerType,value:"countdown",label:Ee}}}:St)}))}};C(T(pe))},L=(re,Ee)=>{console.log(re,Ee,"checklabel");const pe={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(Re=>({...Re,blocks:Re.blocks.map(St=>St.id===a?{...St,struct:{...St.struct,timerType:{...St.struct.timerType,value:"stopwatch",label:Ee}}}:St)}))}};C(T(pe))},k=(re,Ee)=>{console.log(re,Ee,"checklabel");const pe={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(Re=>({...Re,blocks:Re.blocks.map(St=>St.id===a?{...St,struct:{...St.struct,numberedCardBacksType:{...St.struct.numberedCardBacksType,value:re,label:Ee}}}:St)}))}};C(T(pe))},q=(re,Ee)=>{console.log(re,Ee,"checklabel");const pe={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(Re=>({...Re,blocks:Re.blocks.map(St=>St.id===a?{...St,struct:{...St.struct,numberedCardBacksType:{...St.struct.numberedCardBacksType,value:re,label:Ee}}}:St)}))}};C(T(pe))},V=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,enableTimer:re}}:Re)}))}};C(T(Ee))},Y=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,isRedirectEnabled:re}}:Re)}))}};C(T(Ee))},se=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,isShowLeadForm:re}}:Re)}))}};C(T(Ee))},Pe=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,callToActionEnabled:re}}:Re)}))}};C(T(Ee))},Se=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,countdownTime:re}}:Re)}))}};C(T(Ee))},_e=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,redirectTargetLink:re}}:Re)}))}};C(T(Ee))},G=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,redirectTimeout:re}}:Re)}))}};C(T(Ee))},le=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,callToActionText:re}}:Re)}))}};C(T(Ee))},ae=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,leadFormBackgroundColor:re}}:Re)}))}};C(T(Ee))},ye=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,leadFormBackgroundColor:re}}:Re)}))}};C(T(Ee))},Te=re=>{const Ee={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,callToActionLink:re}}:Re)}))}};C(T(Ee))};return d.useEffect(()=>{if(x){const re=x.blocks.find(Ee=>Ee.id===a);console.log(re,"checkzBLock"),i(re)}},[x,u]),d.useEffect(()=>{const re=Ee=>{_.current&&!_.current.contains(Ee.target)&&b(!1)};return document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[]),d.useEffect(()=>{const re=Ee=>{j.current&&!j.current.contains(Ee.target)&&N(!1)};return document.addEventListener("mousedown",re),()=>{document.removeEventListener("mousedown",re)}},[]),console.log(n,"blockValuesbddddlockVdddddtuoophgfgaluesblockValuesdsdsd"),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Find One Pair settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Color theme"}),e.jsxs("div",{ref:_,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(Oe=n==null?void 0:n.struct)==null?void 0:Oe.colorTheme}`},role:"button",onClick:()=>b(!v)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Q=n==null?void 0:n.struct)==null?void 0:Q.colorTheme,onChange:re=>z(re.target.value)})]}),v&&e.jsx(Ut,{color:(ne=n==null?void 0:n.struct)==null?void 0:ne.colorTheme,onChange:re=>E(re.hex)})]})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:re=>S(re.target.checked),checked:(ge=n==null?void 0:n.struct)==null?void 0:ge.numberedCardBacks}),"Number card backs"]})}),((J=n==null?void 0:n.struct)==null?void 0:J.numberedCardBacks)&&e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer d-flex justify-content-start gap-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"classicTimer",name:"good",className:"",onChange:()=>k("option_1","Option 1"),checked:((Ie=(he=n==null?void 0:n.struct)==null?void 0:he.numberedCardBacksType)==null?void 0:Ie.value)==="option_1"}),"Option 1"]}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"countdownTimer",name:"good",className:"",onChange:()=>q("option_2","Option 2"),checked:((xe=(Ge=n==null?void 0:n.struct)==null?void 0:Ge.numberedCardBacksType)==null?void 0:xe.value)==="option_2"}),"Option 2"]})]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:re=>F(re.target.checked),checked:(D=n==null?void 0:n.struct)==null?void 0:D.showToMemorize}),"Show cards before the game start"]}),((Z=n==null?void 0:n.struct)==null?void 0:Z.showToMemorize)&&e.jsx("div",{className:"control-box mt-3",children:e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("p",{children:"Time to memorize (in seconds)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(R=n==null?void 0:n.struct)==null?void 0:R.showToMemorizeTime,onChange:re=>y(re.target.value),min:"0"})]})})})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("p",{children:"Delay before flipping cards (in seconds)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(ce=n==null?void 0:n.struct)==null?void 0:ce.timeoutClosingCards,onChange:re=>A(re.target.value),min:"0"})]})})}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"d-flex justify-content-between form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:[e.jsx("label",{className:"mb-0",children:"Privacy"}),e.jsx("div",{children:((me=(te=n==null?void 0:n.struct)==null?void 0:te.passwordList)==null?void 0:me.length)===0?e.jsxs("p",{role:"button",className:"mb-0 d-flex gap-2 align-items-center px-3 py-2 button button-primary",onClick:()=>h(n),children:[e.jsx("i",{class:"fa-solid fa-lock-open"})," No restrictions"]}):e.jsxs("p",{role:"button",className:"mb-0 d-flex gap-2 align-items-center px-3 py-2 button button-primary",onClick:()=>h(n),children:[e.jsx("i",{class:"fa-solid fa-lock"})," Password access"]})})]})})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:[e.jsx("p",{children:"Gamification"}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:re=>oe(re.target.checked),checked:(Lt=n==null?void 0:n.struct)==null?void 0:Lt.isEnableRating}),"Enable player ratings"]})]})}),((Pt=n==null?void 0:n.struct)==null?void 0:Pt.isEnableRating)&&e.jsxs("div",{className:"control-box",children:[e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:re=>we(re.target.checked),checked:(Qe=n==null?void 0:n.struct)==null?void 0:Qe.isHideLeaderboard}),"Hide leaderboard from users"]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer",role:"button",children:"Number of attempts"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(ft=n==null?void 0:n.struct)==null?void 0:ft.numberOfAttempts,onChange:re=>U(re.target.value),min:"0"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer",role:"button",children:"Links to service policies (html)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(xt=n==null?void 0:n.struct)==null?void 0:xt.legalStatement,onChange:re=>ee(re.target.value),min:"0"})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:re=>we(re.target.checked),checked:(dt=n==null?void 0:n.struct)==null?void 0:dt.isHideLeaderboard}),"Ask user email"]})})]}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:`${((_t=n==null?void 0:n.struct)==null?void 0:_t.isEnableRating)===!0?"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0 disabled":"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0"} `,role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:re=>V(re.target.checked),checked:(De=n==null?void 0:n.struct)!=null&&De.isEnableRating?!0:(ut=n==null?void 0:n.struct)==null?void 0:ut.enableTimer,disabled:((Le=n==null?void 0:n.struct)==null?void 0:Le.isEnableRating)===!0}),"Enable timer"]})}),((ot=n==null?void 0:n.struct)==null?void 0:ot.enableTimer)&&e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer d-flex justify-content-start gap-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"classicTimer",name:"timerType",className:"",onChange:re=>L(re.target.checked,"Classic timer"),checked:((rt=(B=n==null?void 0:n.struct)==null?void 0:B.timerType)==null?void 0:rt.value)==="stopwatch"}),"Classic timer"]}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"countdownTimer",name:"timerType",className:"",onChange:re=>$(re.target.checked,"Countdown"),checked:((Nt=(vt=n==null?void 0:n.struct)==null?void 0:vt.timerType)==null?void 0:Nt.value)==="countdown"}),"Countdown"]})]})}),((We=($t=n==null?void 0:n.struct)==null?void 0:$t.timerType)==null?void 0:We.value)==="countdown"&&e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Value in seconds"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",min:0,defaultValue:(mt=n==null?void 0:n.struct)==null?void 0:mt.countdownTime,onChange:re=>Se(re.target.value)})]}),e.jsx("div",{children:e.jsx("p",{style:{color:"#20a2b8"},role:"button",className:"mb-0 font-sm fw-medium",onClick:()=>l(m),children:"Customize the “Time is up” page"})})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:re=>M(re.target.checked),checked:(fe=n==null?void 0:n.struct)==null?void 0:fe.isHideRestartButton}),"Hide restart button"]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:re=>Y(re.target.checked),checked:(Ne=n==null?void 0:n.struct)==null?void 0:Ne.isRedirectEnabled}),"Redirect from result screen"]}),((et=n==null?void 0:n.struct)==null?void 0:et.isRedirectEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Be=n==null?void 0:n.struct)==null?void 0:Be.redirectTargetLink,onChange:re=>_e(re.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(Ft=n==null?void 0:n.struct)==null?void 0:Ft.callToActionLink,onChange:re=>G(re.target.value)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"showleadform",className:"form-check-input theme-control shadow-none m-0",onChange:re=>se(re.target.checked),checked:(Kt=n==null?void 0:n.struct)==null?void 0:Kt.isShowLeadForm}),"Show lead form"]}),((Qt=n==null?void 0:n.struct)==null?void 0:Qt.isShowLeadForm)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(a),className:"button button-primary outline px-3 py-2 font-sm my-2",children:"Customize"}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:j,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(Vt=n==null?void 0:n.struct)==null?void 0:Vt.leadFormBackgroundColor}`},role:"button",onClick:()=>N(!g)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(He=n==null?void 0:n.struct)==null?void 0:He.leadFormBackgroundColor,onChange:re=>ae(re.target.value)})]}),g&&e.jsx(Ut,{color:(lt=n==null?void 0:n.struct)==null?void 0:lt.leadFormBackgroundColor,onChange:re=>ye(re)})]})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",onChange:re=>Pe(re.target.checked),checked:(Ke=n==null?void 0:n.struct)==null?void 0:Ke.callToActionEnabled}),"Call to action button"]}),((st=n==null?void 0:n.struct)==null?void 0:st.callToActionEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button Text"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(it=n==null?void 0:n.struct)==null?void 0:it.callToActionText,onChange:re=>le(re.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Link"}),e.jsx("input",{type:"text",className:"colorInput form-control theme-control",defaultValue:(be=n==null?void 0:n.struct)==null?void 0:be.callToActionLink,onChange:re=>Te(re.target.value)})]})]})]})]})}function tb({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P,handleOpenFormFields:p,handleOpenPasswordModal:h,handleTimeUpPage:l}){var G,le,ae,ye,Te,Oe,Q,ne,ge,J,he,Ie,Ge,xe,D,Z,R,ce,te,me,Lt,Pt,Qe,ft,xt,dt,_t,De,ut,Le,ot,B,rt,vt,Nt,$t,We,mt;const{id:a}=s,[n,i]=d.useState({}),[v,b]=d.useState(!1),[g,N]=d.useState(!1),{templateDetails:u}=bt(fe=>fe.DrawerReducer),_=d.useRef(null),j=d.useRef(null),C=wt(),z=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,colorTheme:fe}}:Be)}))}};C(T(Ne))},E=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,colorTheme:fe}}:Be)}))}};C(T(Ne))},M=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,isHideRestartButton:fe}}:Be)}))}};C(T(Ne))},S=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,numberedCardBacks:fe}}:Be)}))}};C(T(Ne))},F=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,numberOfAttempts:fe}}:Be)}))}};C(T(Ne))},y=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,legalStatement:fe}}:Be)}))}};C(T(Ne))},A=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,isEnableRating:fe}}:Be)}))}};C(T(Ne))},U=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,isHideLeaderboard:fe}}:Be)}))}};C(T(Ne))},ee=(fe,Ne)=>{console.log(fe,Ne,"checklabel");const et={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(Be=>({...Be,blocks:Be.blocks.map(Ft=>Ft.id===a?{...Ft,struct:{...Ft.struct,timerType:{...Ft.struct.timerType,value:"countdown",label:Ne}}}:Ft)}))}};C(T(et))},oe=(fe,Ne)=>{console.log(fe,Ne,"checklabel");const et={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(Be=>({...Be,blocks:Be.blocks.map(Ft=>Ft.id===a?{...Ft,struct:{...Ft.struct,timerType:{...Ft.struct.timerType,value:"stopwatch",label:Ne}}}:Ft)}))}};C(T(et))},we=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,enableTimer:fe}}:Be)}))}};C(T(Ne))},$=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,isRedirectEnabled:fe}}:Be)}))}};C(T(Ne))},L=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,isShowLeadForm:fe}}:Be)}))}};C(T(Ne))},k=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,callToActionEnabled:fe}}:Be)}))}};C(T(Ne))},q=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,countdownTime:fe}}:Be)}))}};C(T(Ne))},V=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,redirectTargetLink:fe}}:Be)}))}};C(T(Ne))},Y=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,redirectTimeout:fe}}:Be)}))}};C(T(Ne))},se=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,callToActionText:fe}}:Be)}))}};C(T(Ne))},Pe=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,leadFormBackgroundColor:fe}}:Be)}))}};C(T(Ne))},Se=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,leadFormBackgroundColor:fe}}:Be)}))}};C(T(Ne))},_e=fe=>{const Ne={...u,project_structure:{...u.project_structure,pages:u.project_structure.pages.map(et=>({...et,blocks:et.blocks.map(Be=>Be.id===a?{...Be,struct:{...Be.struct,callToActionLink:fe}}:Be)}))}};C(T(Ne))};return d.useEffect(()=>{if(x){const fe=x.blocks.find(Ne=>Ne.id===a);console.log(fe,"checkzBLock"),i(fe)}},[x,u]),d.useEffect(()=>{const fe=Ne=>{_.current&&!_.current.contains(Ne.target)&&b(!1)};return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[]),d.useEffect(()=>{const fe=Ne=>{j.current&&!j.current.contains(Ne.target)&&N(!1)};return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[]),console.log(n,"blockValuesbddddlockVdddddtuoophgfgaluesblockValuesdsdsd"),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Match Up settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Color theme"}),e.jsxs("div",{ref:_,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(G=n==null?void 0:n.struct)==null?void 0:G.colorTheme}`},role:"button",onClick:()=>b(!v)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(le=n==null?void 0:n.struct)==null?void 0:le.colorTheme,onChange:fe=>z(fe.target.value)})]}),v&&e.jsx(Ut,{color:(ae=n==null?void 0:n.struct)==null?void 0:ae.colorTheme,onChange:fe=>E(fe.hex)})]})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:fe=>S(fe.target.checked),checked:(ye=n==null?void 0:n.struct)==null?void 0:ye.numberedCardBacks}),"Shuffle cards"]})}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"d-flex justify-content-between form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:[e.jsx("label",{className:"mb-0",children:"Privacy"}),e.jsx("div",{children:((Oe=(Te=n==null?void 0:n.struct)==null?void 0:Te.passwordList)==null?void 0:Oe.length)===0?e.jsxs("p",{role:"button",className:"mb-0 d-flex gap-2 align-items-center px-3 py-2 button button-primary",onClick:()=>h(n),children:[e.jsx("i",{class:"fa-solid fa-lock-open"})," No restrictions"]}):e.jsxs("p",{role:"button",className:"mb-0 d-flex gap-2 align-items-center px-3 py-2 button button-primary",onClick:()=>h(n),children:[e.jsx("i",{class:"fa-solid fa-lock"})," Password access"]})})]})})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:[e.jsx("p",{children:"Gamification"}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:fe=>A(fe.target.checked),checked:(Q=n==null?void 0:n.struct)==null?void 0:Q.isEnableRating}),"Enable player ratings"]})]})}),((ne=n==null?void 0:n.struct)==null?void 0:ne.isEnableRating)&&e.jsxs("div",{className:"control-box",children:[e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:fe=>U(fe.target.checked),checked:(ge=n==null?void 0:n.struct)==null?void 0:ge.isHideLeaderboard}),"Hide leaderboard from users"]})}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("p",{children:"Number of attempts"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(J=n==null?void 0:n.struct)==null?void 0:J.numberOfAttempts,onChange:fe=>F(fe.target.value),min:"0"})]})}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("p",{children:"Links to service policies (html)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(he=n==null?void 0:n.struct)==null?void 0:he.legalStatement,onChange:fe=>y(fe.target.value),min:"0"})]})}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:fe=>U(fe.target.checked),checked:(Ie=n==null?void 0:n.struct)==null?void 0:Ie.isHideLeaderboard}),"Ask user email"]})})]}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:`${((Ge=n==null?void 0:n.struct)==null?void 0:Ge.isEnableRating)===!0?"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0 disabled":"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0"} `,role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:fe=>we(fe.target.checked),checked:(xe=n==null?void 0:n.struct)!=null&&xe.isEnableRating?!0:(D=n==null?void 0:n.struct)==null?void 0:D.enableTimer,disabled:((Z=n==null?void 0:n.struct)==null?void 0:Z.isEnableRating)===!0}),"Enable timer"]})}),((R=n==null?void 0:n.struct)==null?void 0:R.enableTimer)&&e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer d-flex justify-content-start gap-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"classicTimer",name:"timerType",className:"",onChange:fe=>oe(fe.target.checked,"Classic timer"),checked:((te=(ce=n==null?void 0:n.struct)==null?void 0:ce.timerType)==null?void 0:te.value)==="stopwatch"}),"Classic timer"]}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"countdownTimer",name:"timerType",className:"",onChange:fe=>ee(fe.target.checked,"Countdown"),checked:((Lt=(me=n==null?void 0:n.struct)==null?void 0:me.timerType)==null?void 0:Lt.value)==="countdown"}),"Countdown"]})]})}),((Qe=(Pt=n==null?void 0:n.struct)==null?void 0:Pt.timerType)==null?void 0:Qe.value)==="countdown"&&e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Value in seconds"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",min:0,defaultValue:(ft=n==null?void 0:n.struct)==null?void 0:ft.countdownTime,onChange:fe=>q(fe.target.value)})]}),e.jsx("div",{children:e.jsx("p",{style:{color:"#20a2b8"},role:"button",className:"mb-0 font-sm fw-medium",onClick:()=>l(m),children:"Customize the “Time is up” page"})})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:fe=>M(fe.target.checked),checked:(xt=n==null?void 0:n.struct)==null?void 0:xt.isHideRestartButton}),"Hide restart button"]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:fe=>$(fe.target.checked),checked:(dt=n==null?void 0:n.struct)==null?void 0:dt.isRedirectEnabled}),"Redirect from result screen"]}),((_t=n==null?void 0:n.struct)==null?void 0:_t.isRedirectEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(De=n==null?void 0:n.struct)==null?void 0:De.redirectTargetLink,onChange:fe=>V(fe.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(ut=n==null?void 0:n.struct)==null?void 0:ut.callToActionLink,onChange:fe=>Y(fe.target.value)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"showleadform",className:"form-check-input theme-control shadow-none m-0",onChange:fe=>L(fe.target.checked),checked:(Le=n==null?void 0:n.struct)==null?void 0:Le.isShowLeadForm}),"Show lead form"]}),((ot=n==null?void 0:n.struct)==null?void 0:ot.isShowLeadForm)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(a),className:"button button-primary outline px-3 py-2 font-sm my-2",children:"Customize"}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:j,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(B=n==null?void 0:n.struct)==null?void 0:B.leadFormBackgroundColor}`},role:"button",onClick:()=>N(!g)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(rt=n==null?void 0:n.struct)==null?void 0:rt.leadFormBackgroundColor,onChange:fe=>Pe(fe.target.value)})]}),g&&e.jsx(Ut,{color:(vt=n==null?void 0:n.struct)==null?void 0:vt.leadFormBackgroundColor,onChange:fe=>Se(fe)})]})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",onChange:fe=>k(fe.target.checked),checked:(Nt=n==null?void 0:n.struct)==null?void 0:Nt.callToActionEnabled}),"Call to action button"]}),(($t=n==null?void 0:n.struct)==null?void 0:$t.callToActionEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button Text"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(We=n==null?void 0:n.struct)==null?void 0:We.callToActionText,onChange:fe=>se(fe.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Link"}),e.jsx("input",{type:"text",className:"colorInput form-control theme-control",defaultValue:(mt=n==null?void 0:n.struct)==null?void 0:mt.callToActionLink,onChange:fe=>_e(fe.target.value)})]})]})]})]})}function sb({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P}){console.log(s,"dshsvdkjskjfdvskjfvskfvskkkfsf");const{id:p,imageUrl:h}=s,[l,a]=d.useState({});d.useState({});const[n,i]=d.useState(!1),{templateDetails:v}=bt(j=>j.DrawerReducer),b=d.useRef(null),g=wt(),N=j=>{const C={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(z=>({...z,blocks:z.blocks.map(E=>E.id===p?{...E,isTransparentBackground:j.target.checked}:E)}))}};g(T(C))},u=j=>{const C={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(z=>({...z,blocks:z.blocks.map(E=>E.id===p?{...E,wP_bg:j}:E)}))}};g(T(C))},_=j=>{const C={...v,project_structure:{...v.project_structure,pages:v.project_structure.pages.map(z=>({...z,blocks:z.blocks.map(E=>E.id===p?{...E,wP_bg:j.hex}:E)}))}};g(T(C))};return d.useEffect(()=>{if(x){const j=x.blocks.find(C=>C.id===p);console.log(j,"checkzBLock"),a(j)}},[x,v]),d.useEffect(()=>{const j=C=>{b.current&&!b.current.contains(C.target)&&i(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]),console.log(l,"blockValuetimsblockValuesblockValues"),e.jsx("div",{className:"panel-wrap",children:e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"TimeLine Settings"}),e.jsx("div",{className:"sidebar__wrapper",children:e.jsx("ul",{className:"list",children:e.jsx("li",{className:"group-block",children:e.jsxs("ul",{className:"list-style-none",children:[e.jsxs("label",{htmlFor:"background",className:"d-flex align-items-center gap-2 font-sm fw-medium mb-3 user-select-none cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"background",onChange:j=>N(j),className:"form-check-input theme-control shadow-none m-0",checked:l==null?void 0:l.isTransparentBackground}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Transparent background"})]}),!(l!=null&&l.isTransparentBackground)&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Background color"}),e.jsxs("div",{ref:b,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${l==null?void 0:l.wP_bg}`},role:"button",onClick:()=>i(!n)}),e.jsx("input",{className:"colorInput theme-control form-control w-100",type:"text",defaultValue:l==null?void 0:l.wP_bg,onChange:j=>u(j.target.value)})]}),n&&e.jsx(Ut,{color:l==null?void 0:l.backgroundColor,onChange:j=>_(j)})]})]}),e.jsx("li",{children:e.jsxs("div",{className:"upload-button",children:[e.jsx("label",{className:"upload-button__label form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Image"}),e.jsxs("div",{className:"content upload",children:[(l==null?void 0:l.imageUrl)&&e.jsx("img",{className:"upload-button__img-preview",style:{height:44,width:44,borderRadius:8},src:l==null?void 0:l.imageUrl}),e.jsx("button",{className:"button button-primary border-0 w-100",onClick:()=>c("timeline-image",p),children:l!=null&&l.imageUrl?"Change":"Upload"})]})]})})]})})})})]})})}function rb({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P,handleOpenFormFields:p,handleOpenPasswordModal:h,handleTimeUpPage:l}){var Q,ne,ge,J,he,Ie,Ge,xe,D,Z,R,ce,te,me,Lt,Pt,Qe,ft,xt,dt,_t,De,ut,Le,ot,B,rt,vt,Nt,$t,We,mt,fe,Ne,et,Be,Ft,Kt,Qt,Vt,He,lt,Ke,st,it;const{id:a}=s;console.log(x,"sqsqsqsqsqs");const[n,i]=d.useState({});d.useState({});const[v,b]=d.useState(!1),[g,N]=d.useState(!1),[u,_]=d.useState(!1);console.log(m,"datadata");const{templateDetails:j}=bt(be=>be.DrawerReducer),C=(Q=j==null?void 0:j.project_structure)==null?void 0:Q.pages.map(be=>be==null?void 0:be.blocks).filter(be=>be).flat().filter(be=>be!=null).map(be=>{var re;return(re=be==null?void 0:be.struct)==null?void 0:re.passwordList}).filter(be=>be);console.log(C,"wedws");const z=d.useRef(null),E=d.useRef(null),M=d.useRef(null),S=wt(),F=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,colorTheme:be}}:pe)}))}};S(T(re))},y=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,correctColor:be}}:pe)}))}};S(T(re))},A=be=>{console.log("HITTEDTDTTTD");const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,colorTheme:be}}:pe)}))}};S(T(re))},U=be=>{console.log("esdwddw",be);const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,isHideRestartButton:be}}:pe)}))}};console.log(re,"wowoqrwqori328903928"),S(T(re))},ee=be=>{console.log(be,"eeeeeeeeeee");const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,isShowShuffleButton:be}}:pe)}))}};S(T(re))},oe=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,numberOfAttempts:be}}:pe)}))}};S(T(re))},we=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,legalStatement:be}}:pe)}))}};S(T(re))},$=be=>{console.log(be,"jiji");const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,isEnableRating:be}}:pe)}))}};S(T(re))};console.log(j,"templateDetailstemplateDetails");const L=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,isHighlightCorrect:be}}:pe)}))}};S(T(re))},k=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,isHideLeaderboard:be}}:pe)}))}};S(T(re))},q=(be,re)=>{console.log(be,re,"checklabel");const Ee={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,timerType:{...Re.struct.timerType,value:"countdown",label:re}}}:Re)}))}};S(T(Ee))},V=(be,re)=>{console.log(be,re,"checklabel");const Ee={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(pe=>({...pe,blocks:pe.blocks.map(Re=>Re.id===a?{...Re,struct:{...Re.struct,timerType:{...Re.struct.timerType,value:"stopwatch",label:re}}}:Re)}))}};S(T(Ee))},Y=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,enableTimer:be}}:pe)}))}};S(T(re))},se=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,isRedirectEnabled:be}}:pe)}))}};S(T(re))},Pe=be=>{console.log(be,"sAS");const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,isShowLeadForm:be}}:pe)}))}};S(T(re))},Se=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,callToActionEnabled:be}}:pe)}))}};S(T(re))},_e=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,countdownTime:be}}:pe)}))}};S(T(re))},G=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,redirectTargetLink:be}}:pe)}))}};S(T(re))},le=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,redirectTimeout:be}}:pe)}))}};S(T(re))},ae=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,callToActionText:be}}:pe)}))}};S(T(re))},ye=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,leadFormBackgroundColor:be}}:pe)}))}};S(T(re))},Te=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,leadFormBackgroundColor:be}}:pe)}))}};S(T(re))},Oe=be=>{const re={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ee=>({...Ee,blocks:Ee.blocks.map(pe=>pe.id===a?{...pe,struct:{...pe.struct,callToActionLink:be}}:pe)}))}};S(T(re))};return d.useEffect(()=>{if(x){const be=x.blocks.find(re=>re.id===a);console.log(be,"checkzBLock"),i(be)}},[x,j]),d.useEffect(()=>{const be=re=>{(M.current&&!M.current.contains(re.target)||E.current&&!E.current.contains(re.target))&&(_(!1),N(!1))};return document.addEventListener("mousedown",be),()=>{document.removeEventListener("mousedown",be)}},[]),console.log(n==null?void 0:n.struct,"blockValuesbddddlockVdddtuoophgfgaluesblockValuesdsdsd"),e.jsxs("div",{className:"panel-wrap",children:[e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Sliding Puzzle settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Color theme"}),e.jsxs("div",{ref:z,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(ne=n==null?void 0:n.struct)==null?void 0:ne.colorTheme}`},role:"button",onClick:()=>b(!v)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(ge=n==null?void 0:n.struct)==null?void 0:ge.colorTheme,onChange:be=>F(be.target.value)})]}),v&&e.jsx(Ut,{color:(J=n==null?void 0:n.struct)==null?void 0:J.colorTheme,onChange:be=>A(be.hex)})]})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("div",{className:"control-box",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-3",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:be=>L(be.target.checked),checked:(he=n==null?void 0:n.struct)==null?void 0:he.isHighlightCorrect}),"Mark Correct Tiles"]}),((Ie=n==null?void 0:n.struct)==null?void 0:Ie.isHighlightCorrect)===!0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Correct Tile Color"}),e.jsxs("div",{ref:E,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(Ge=n==null?void 0:n.struct)==null?void 0:Ge.correctColor}`},role:"button",onClick:()=>_(!u)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(xe=n==null?void 0:n.struct)==null?void 0:xe.correctColor,onChange:be=>y(be.target.value)})]}),u&&e.jsx(Ut,{color:(D=n==null?void 0:n.struct)==null?void 0:D.correctColor,onChange:be=>y(be.hex)})]})]}),e.jsxs("div",{className:"d-flex justify-content-between form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:[e.jsx("label",{className:"mb-0",children:"Privacy"}),console.log((Z=n==null?void 0:n.struct)==null?void 0:Z.passwordList.length,"uiouiou"),e.jsx("div",{children:((ce=(R=n==null?void 0:n.struct)==null?void 0:R.passwordList)==null?void 0:ce.length)===0?e.jsxs("p",{className:"mb-0 d-flex gap-2 align-items-center px-3 py-2 button button-primary",role:"button",onClick:()=>h(n),children:[e.jsx("i",{class:"fa-solid fa-lock-open"})," No restrictions"]}):e.jsxs("p",{className:"mb-0 d-flex gap-2 align-items-center px-3 py-2 button button-primary",role:"button",onClick:()=>h(n),children:[e.jsx("i",{class:"fa-solid fa-lock"})," Password access"]})})]})]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:[e.jsx("p",{children:"Gamification"}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:be=>$(be.target.checked),checked:(te=n==null?void 0:n.struct)==null?void 0:te.isEnableRating}),"Enable player ratings"]})]})}),((me=n==null?void 0:n.struct)==null?void 0:me.isEnableRating)&&e.jsxs("div",{className:"control-box",children:[e.jsx("div",{className:"mb-3",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:be=>k(be.target.checked),checked:(Lt=n==null?void 0:n.struct)==null?void 0:Lt.isHideLeaderboard}),"Hide leaderboard from users"]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Number of attempts"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(Pt=n==null?void 0:n.struct)==null?void 0:Pt.numberOfAttempts,onChange:be=>oe(be.target.value),min:"0"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Links to service policies (html)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Qe=n==null?void 0:n.struct)==null?void 0:Qe.legalStatement,onChange:be=>we(be.target.value),min:"0"})]}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:be=>k(be.target.checked),checked:(ft=n==null?void 0:n.struct)==null?void 0:ft.isHideLeaderboard}),"Ask user email"]})})]}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:`${((xt=n==null?void 0:n.struct)==null?void 0:xt.isEnableRating)===!0?"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0 disabled":"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0"} `,role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:be=>Y(be.target.checked),checked:(dt=n==null?void 0:n.struct)!=null&&dt.isEnableRating?!0:(_t=n==null?void 0:n.struct)==null?void 0:_t.enableTimer,disabled:((De=n==null?void 0:n.struct)==null?void 0:De.isEnableRating)===!0}),"Enable timer"]})}),((ut=n==null?void 0:n.struct)==null?void 0:ut.enableTimer)&&e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer d-flex justify-content-start gap-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"classicTimer",name:"timerType",className:"",onChange:be=>V(be.target.checked,"Classic timer"),checked:((ot=(Le=n==null?void 0:n.struct)==null?void 0:Le.timerType)==null?void 0:ot.value)==="stopwatch"}),"Classic timer"]}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"countdownTimer",name:"timerType",className:"",onChange:be=>q(be.target.checked,"Countdown"),checked:((rt=(B=n==null?void 0:n.struct)==null?void 0:B.timerType)==null?void 0:rt.value)==="countdown"}),"Countdown"]})]})}),((Nt=(vt=n==null?void 0:n.struct)==null?void 0:vt.timerType)==null?void 0:Nt.value)==="countdown"&&e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Value in seconds"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",min:0,defaultValue:($t=n==null?void 0:n.struct)==null?void 0:$t.countdownTime,onChange:be=>_e(be.target.value)})]}),e.jsxs("div",{children:[console.log(x==null?void 0:x.blocks,"pageData?.blocks"),e.jsx("p",{className:"mb-0 font-sm fw-medium",style:{color:"#20a2b8"},role:"button",onClick:()=>l(n),children:"Customize the “Time is up” page"})]})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:be=>U(be.target.checked),checked:(We=n==null?void 0:n.struct)==null?void 0:We.isHideRestartButton}),"Hide restart button"]})}),console.log(n==null?void 0:n.struct,"blockValues?.struct"),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:be=>ee(be.target.checked),checked:(mt=n==null?void 0:n.struct)==null?void 0:mt.isShowShuffleButton}),"Hide Shuffle button"]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:be=>se(be.target.checked),checked:(fe=n==null?void 0:n.struct)==null?void 0:fe.isRedirectEnabled}),"Redirect from result screen"]}),((Ne=n==null?void 0:n.struct)==null?void 0:Ne.isRedirectEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(et=n==null?void 0:n.struct)==null?void 0:et.redirectTargetLink,onChange:be=>G(be.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(Be=n==null?void 0:n.struct)==null?void 0:Be.callToActionLink,onChange:be=>le(be.target.value)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"showleadform",className:"form-check-input theme-control shadow-none m-0",onChange:be=>Pe(be.target.checked),checked:(Ft=n==null?void 0:n.struct)==null?void 0:Ft.isShowLeadForm}),"Show lead form"]}),((Kt=n==null?void 0:n.struct)==null?void 0:Kt.isShowLeadForm)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(a),className:"button button-primary outline px-3 py-2 font-sm my-2",children:"Customize"}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:M,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(Qt=n==null?void 0:n.struct)==null?void 0:Qt.leadFormBackgroundColor}`},role:"button",onClick:()=>N(!g)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Vt=n==null?void 0:n.struct)==null?void 0:Vt.leadFormBackgroundColor,onChange:be=>ye(be.target.value)})]}),g&&e.jsx(Ut,{color:(He=n==null?void 0:n.struct)==null?void 0:He.leadFormBackgroundColor,onChange:be=>Te(be)})]})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",onChange:be=>Se(be.target.checked),checked:(lt=n==null?void 0:n.struct)==null?void 0:lt.callToActionEnabled}),"Call to action button"]}),((Ke=n==null?void 0:n.struct)==null?void 0:Ke.callToActionEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button Text"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(st=n==null?void 0:n.struct)==null?void 0:st.callToActionText,onChange:be=>ae(be.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Link"}),e.jsx("input",{type:"text",className:"colorInput form-control theme-control",defaultValue:(it=n==null?void 0:n.struct)==null?void 0:it.callToActionLink,onChange:be=>Oe(be.target.value)})]})]})]})]})}function nb({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P,handleOpenFormFields:p,handleOpenPasswordModal:h,handleTimeUpPage:l}){var Ie,Ge,xe,D,Z,R,ce,te,me,Lt,Pt,Qe,ft,xt,dt,_t,De,ut,Le,ot,B,rt,vt,Nt,$t,We,mt,fe,Ne,et,Be,Ft,Kt,Qt,Vt,He,lt,Ke,st,it,be,re,Ee,pe,Re,St,ie,Me,Ue,ke,Ht,vs;const{id:a}=s,[n,i]=d.useState({}),[v,b]=d.useState(!1),[g,N]=d.useState(!1),[u,_]=d.useState(!1),{templateDetails:j}=bt(Fe=>Fe.DrawerReducer),C=d.useRef(null),z=d.useRef(null),E=d.useRef(null),M=wt(),S=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,pcl:Fe}}:Ae)}))}};M(T(ht))},F=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,btcolor:Fe}}:Ae)}))}};M(T(ht))},y=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,btcolor:Fe}}:Ae)}))}};M(T(ht))},A=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,pcl:Fe}}:Ae)}))}};M(T(ht))},U=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,isHideRestartButton:Fe}}:Ae)}))}};M(T(ht))},ee=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,count:Fe}}:Ae)}))}};M(T(ht))},oe=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,psize:Fe}}:Ae)}))}};M(T(ht))},we=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,coverHeader:Fe}}:Ae)}))}};M(T(ht))},$=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,suct:Fe}}:Ae)}))}};M(T(ht))},L=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,sucd:Fe}}:Ae)}))}};M(T(ht))},k=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,coverBtnText:Fe}}:Ae)}))}};M(T(ht))},q=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,isShowCover:Fe}}:Ae)}))}};M(T(ht))},V=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,numberOfAttempts:Fe}}:Ae)}))}};M(T(ht))},Y=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,legalStatement:Fe}}:Ae)}))}};M(T(ht))},se=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,isEnableRating:Fe}}:Ae)}))}};M(T(ht))},Pe=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,isHideLeaderboard:Fe}}:Ae)}))}};M(T(ht))},Se=(Fe,ht)=>{const nt={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ae=>({...Ae,blocks:Ae.blocks.map(us=>us.id===a?{...us,struct:{...us.struct,timerType:{...us.struct.timerType,value:"countdown",label:ht}}}:us)}))}};M(T(nt))},_e=(Fe,ht)=>{console.log(ht,Fe,"uueueueueeu");const nt={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ae=>({...Ae,blocks:Ae.blocks.map(us=>us.id===a?{...us,struct:{...us.struct,timerType:{...us.struct.timerType,value:"stopwatch",label:ht}}}:us)}))}};M(T(nt))},G=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,enableTimer:Fe}}:Ae)}))}};M(T(ht))},le=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,isRedirectEnabled:Fe}}:Ae)}))}};M(T(ht))},ae=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,isShowLeadForm:Fe}}:Ae)}))}};M(T(ht))},ye=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,callToActionEnabled:Fe}}:Ae)}))}};M(T(ht))},Te=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,countdownTime:Fe}}:Ae)}))}};M(T(ht))},Oe=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,redirectTargetLink:Fe}}:Ae)}))}};M(T(ht))},Q=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,redirectTimeout:Fe}}:Ae)}))}};M(T(ht))},ne=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,callToActionText:Fe}}:Ae)}))}};M(T(ht))},ge=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,leadFormBackgroundColor:Fe}}:Ae)}))}};M(T(ht))},J=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,leadFormBackgroundColor:Fe}}:Ae)}))}};M(T(ht))},he=Fe=>{const ht={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(nt=>({...nt,blocks:nt.blocks.map(Ae=>Ae.id===a?{...Ae,struct:{...Ae.struct,callToActionLink:Fe}}:Ae)}))}};M(T(ht))};return d.useEffect(()=>{if(x){const Fe=x.blocks.find(ht=>ht.id===a);console.log(Fe,"checkzBLock"),i(Fe)}},[x,j]),d.useEffect(()=>{const Fe=ht=>{C.current&&!C.current.contains(ht.target)&&b(!1)};return document.addEventListener("mousedown",Fe),()=>{document.removeEventListener("mousedown",Fe)}},[]),d.useEffect(()=>{const Fe=ht=>{z.current&&!z.current.contains(ht.target)&&_(!1)};return document.addEventListener("mousedown",Fe),()=>{document.removeEventListener("mousedown",Fe)}},[]),d.useEffect(()=>{const Fe=ht=>{E.current&&!E.current.contains(ht.target)&&N(!1)};return document.addEventListener("mousedown",Fe),()=>{document.removeEventListener("mousedown",Fe)}},[]),console.log(n,"blockValuesvbddddlocksdfgbhnVddddddtuoophgfgaluesblockValuesdsdsd"),e.jsxs("div",{className:"panel-wrap",children:[e.jsx("div",{className:"setting-block border-bottom",children:e.jsx("h6",{className:"fw-semibold mb-4",children:"Hidden Objects settings"})}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("div",{className:"upload-button",children:[e.jsx("label",{className:"upload-button__label form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Image"}),e.jsxs("div",{className:"content upload",children:[e.jsx("img",{className:"upload-button__img-preview",style:{height:44,width:44,borderRadius:8},src:(Ie=n==null?void 0:n.struct)==null?void 0:Ie.bimg}),e.jsx("button",{className:"button button-primary w-100 border-0",onClick:()=>c("hidden-object",a),children:"Change"})]})]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer mb-0 w-100",role:"button",children:"Number of hidden tags"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(Ge=n==null?void 0:n.struct)==null?void 0:Ge.count,onChange:Fe=>ee(Fe.target.value),min:"0"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer w-100",role:"button",children:"Hidden tag size"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(xe=n==null?void 0:n.struct)==null?void 0:xe.psize,onChange:Fe=>oe(Fe.target.value),min:"0"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"upload-button__label form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Tag image"}),e.jsxs("div",{className:"content upload d-flex align-items-center",children:[e.jsx("img",{className:"upload-button__img-preview",style:{height:44,width:44,borderRadius:8},src:(D=n==null?void 0:n.struct)==null?void 0:D.sucImg}),e.jsx("button",{className:"button button-primary w-100 border-0",onClick:()=>c("hidden-object-tag",a),children:"Change"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Tag/Button color"}),e.jsxs("div",{ref:C,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(Z=n==null?void 0:n.struct)==null?void 0:Z.pcl}`},role:"button",onClick:()=>b(!v)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(R=n==null?void 0:n.struct)==null?void 0:R.pcl,onChange:Fe=>S(Fe.target.value)})]}),v&&e.jsx(Ut,{color:(ce=n==null?void 0:n.struct)==null?void 0:ce.pcl,onChange:Fe=>A(Fe.hex)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button text color"}),e.jsxs("div",{ref:E,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(te=n==null?void 0:n.struct)==null?void 0:te.btcolor}`},role:"button",onClick:()=>N(!g)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(me=n==null?void 0:n.struct)==null?void 0:me.btcolor,onChange:Fe=>F(Fe.target.value)})]}),g&&e.jsx(Ut,{color:(Lt=n==null?void 0:n.struct)==null?void 0:Lt.btcolor,onChange:Fe=>y(Fe.hex)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:Fe=>q(Fe.target.checked),checked:(Pt=n==null?void 0:n.struct)==null?void 0:Pt.isShowCover}),"Show cover"]}),((Qe=n==null?void 0:n.struct)==null?void 0:Qe.isShowCover)&&e.jsxs("div",{className:"control-box",children:[e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer mb-0 w-100",role:"button",children:[e.jsx("p",{children:"Header"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(ft=n==null?void 0:n.struct)==null?void 0:ft.coverHeader,onChange:Fe=>we(Fe.target.value)})]})}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer mb-0 w-100",role:"button",children:[e.jsx("p",{children:"Button text"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(xt=n==null?void 0:n.struct)==null?void 0:xt.coverBtnText,onChange:Fe=>k(Fe.target.value)})]})})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("div",{className:"control-box",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer w-100",role:"button",children:"Header text in the final message"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(dt=n==null?void 0:n.struct)==null?void 0:dt.suct,onChange:Fe=>$(Fe.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer w-100",role:"button",children:"The main body of the final message"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(_t=n==null?void 0:n.struct)==null?void 0:_t.sucd,onChange:Fe=>L(Fe.target.value)})]}),e.jsxs("div",{className:"upload-button",children:[e.jsx("label",{className:"upload-button__label form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Image of the final message"}),e.jsxs("div",{className:"content upload",children:[e.jsx("img",{className:"upload-button__img-preview",style:{height:44,width:44,borderRadius:8},src:(De=n==null?void 0:n.struct)==null?void 0:De.bimg}),e.jsx("button",{className:"button button-primary w-100 border-0",onClick:()=>c("hidden-object",a),children:"Change"})]})]})]})}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"d-flex justify-content-between form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:[e.jsx("label",{className:"mb-0",children:"Privacy"}),e.jsx("div",{children:((Le=(ut=n==null?void 0:n.struct)==null?void 0:ut.passwordList)==null?void 0:Le.length)===0?e.jsxs("p",{role:"button",className:"mb-0 d-flex gap-2 align-items-center px-3 py-2 button button-primary",onClick:()=>h(n),children:[e.jsx("i",{class:"fa-solid fa-lock-open"})," No restrictions"]}):e.jsxs("p",{role:"button",className:"mb-0 d-flex gap-2 align-items-center px-3 py-2 button button-primary",onClick:()=>h(n),children:[e.jsx("i",{class:"fa-solid fa-lock"})," Password access"]})})]})})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:[e.jsx("p",{children:"Gamification"}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:Fe=>se(Fe.target.checked),checked:(ot=n==null?void 0:n.struct)==null?void 0:ot.isEnableRating}),"Enable player ratings"]})]})}),((B=n==null?void 0:n.struct)==null?void 0:B.isEnableRating)&&e.jsxs("div",{className:"control-box",children:[e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:Fe=>Pe(Fe.target.checked),checked:(rt=n==null?void 0:n.struct)==null?void 0:rt.isHideLeaderboard}),"Hide leaderboard from users"]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium gap-2 cursor-pointer mb-0",role:"button",children:"Number of attempts"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(vt=n==null?void 0:n.struct)==null?void 0:vt.numberOfAttempts,onChange:Fe=>V(Fe.target.value),min:"0"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium  gap-2 cursor-pointer mb-0",role:"button",children:"Links to service policies (html)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Nt=n==null?void 0:n.struct)==null?void 0:Nt.legalStatement,onChange:Fe=>Y(Fe.target.value),min:"0"})]}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:Fe=>Pe(Fe.target.checked),checked:($t=n==null?void 0:n.struct)==null?void 0:$t.isHideLeaderboard}),"Ask user email"]})})]}),e.jsx("div",{className:"form-label font-sm fw-medium  cursor-pointer",children:e.jsxs("label",{className:`${((We=n==null?void 0:n.struct)==null?void 0:We.isEnableRating)===!0?"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0 disabled":"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0"} `,role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:Fe=>G(Fe.target.checked),checked:(mt=n==null?void 0:n.struct)!=null&&mt.isEnableRating?!0:(fe=n==null?void 0:n.struct)==null?void 0:fe.enableTimer,disabled:((Ne=n==null?void 0:n.struct)==null?void 0:Ne.isEnableRating)===!0}),"Enable timer"]})}),console.log((et=n==null?void 0:n.struct)==null?void 0:et.enableTimer,"ddcdcdc"),((Be=n==null?void 0:n.struct)==null?void 0:Be.enableTimer)&&e.jsx("div",{className:"control-box",children:e.jsxs("div",{className:"form-label font-sm fw-medium  cursor-pointer d-flex justify-content-start gap-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"classicTimer",name:"timerType",className:"",onChange:Fe=>_e(Fe.target.checked,"Classic timer"),checked:((Kt=(Ft=n==null?void 0:n.struct)==null?void 0:Ft.timerType)==null?void 0:Kt.value)==="stopwatch"}),"Classic timer"]}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"radio",id:"countdownTimer",name:"timerType",className:"",onChange:Fe=>Se(Fe.target.checked,"Countdown"),checked:((Vt=(Qt=n==null?void 0:n.struct)==null?void 0:Qt.timerType)==null?void 0:Vt.value)==="countdown"}),"Countdown"]})]})}),((lt=(He=n==null?void 0:n.struct)==null?void 0:He.timerType)==null?void 0:lt.value)==="countdown"&&e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Value in seconds"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",min:0,defaultValue:(Ke=n==null?void 0:n.struct)==null?void 0:Ke.countdownTime,onChange:Fe=>Te(Fe.target.value)})]}),e.jsx("div",{children:e.jsx("p",{style:{color:"#20a2b8"},role:"button",className:"mb-0 font-sm fw-medium",onClick:()=>l(m),children:"Customize the “Time is up” page"})})]})]}),e.jsx("div",{className:"setting-block border-bottom",children:e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"restartbutton",className:"form-check-input theme-control shadow-none m-0",onChange:Fe=>U(Fe.target.checked),checked:(st=n==null?void 0:n.struct)==null?void 0:st.isHideRestartButton}),"Hide restart button"]})}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"redirectresultscreen",className:"form-check-input theme-control shadow-none m-0",onChange:Fe=>le(Fe.target.checked),checked:(it=n==null?void 0:n.struct)==null?void 0:it.isRedirectEnabled}),"Redirect from result screen"]}),((be=n==null?void 0:n.struct)==null?void 0:be.isRedirectEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Redirect to (link)"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(re=n==null?void 0:n.struct)==null?void 0:re.redirectTargetLink,onChange:Fe=>Oe(Fe.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Seconds before redirect"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"number",defaultValue:(Ee=n==null?void 0:n.struct)==null?void 0:Ee.callToActionLink,onChange:Fe=>Q(Fe.target.value)})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"showleadform",className:"form-check-input theme-control shadow-none m-0",onChange:Fe=>ae(Fe.target.checked),checked:(pe=n==null?void 0:n.struct)==null?void 0:pe.isShowLeadForm}),"Show lead form"]}),((Re=n==null?void 0:n.struct)==null?void 0:Re.isShowLeadForm)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>p(a),className:"button button-primary outline px-3 py-2 font-sm my-2",children:"Customize"}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:z,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(St=n==null?void 0:n.struct)==null?void 0:St.leadFormBackgroundColor}`},role:"button",onClick:()=>_(!u)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(ie=n==null?void 0:n.struct)==null?void 0:ie.leadFormBackgroundColor,onChange:Fe=>ge(Fe.target.value)})]}),u&&e.jsx(Ut,{color:(Me=n==null?void 0:n.struct)==null?void 0:Me.leadFormBackgroundColor,onChange:Fe=>J(Fe)})]})]})]})]}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer mb-0",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",onChange:Fe=>ye(Fe.target.checked),checked:(Ue=n==null?void 0:n.struct)==null?void 0:Ue.callToActionEnabled}),"Call to action button"]}),((ke=n==null?void 0:n.struct)==null?void 0:ke.callToActionEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button Text"}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(Ht=n==null?void 0:n.struct)==null?void 0:Ht.callToActionText,onChange:Fe=>ne(Fe.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Link"}),e.jsx("input",{type:"text",className:"colorInput form-control theme-control",defaultValue:(vs=n==null?void 0:n.struct)==null?void 0:vs.callToActionLink,onChange:Fe=>he(Fe.target.value)})]})]})]})]})}function cb({handleChangeMedia:c,data:m,selectedBlockSettings:s,pageData:x,type:w,handleChangePositionTextImage:P,handleOpenFormFields:p,handleOpenLinkModal:h}){var F,y,A,U,ee,oe,we,$;console.log(s,"dshsvdkjskjfdvskjfvskfvskkkfsf");const{id:l}=s,[a,n]=d.useState({});d.useState({});const[i,v]=d.useState(!1),[b,g]=d.useState(!1),{templateDetails:N}=bt(L=>L.DrawerReducer),u=d.useRef(null),_=d.useRef(null),j=wt(),C=L=>{const k={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(q=>({...q,blocks:q.blocks.map(V=>V.id===l?{...V,struct:{...V.struct,colorTheme:L}}:V)}))}};j(T(k))},z=L=>{const k={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(q=>({...q,blocks:q.blocks.map(V=>V.id===l?{...V,struct:{...V.struct,colorTheme:L.hex}}:V)}))}};j(T(k))},E=L=>{const k={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(q=>({...q,blocks:q.blocks.map(V=>V.id===l?{...V,struct:{...V.struct,textColor:L}}:V)}))}};j(T(k))},M=L=>{const k={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(q=>({...q,blocks:q.blocks.map(V=>V.id===l?{...V,struct:{...V.struct,textColor:L.hex}}:V)}))}};j(T(k))},S=L=>{const k={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(q=>({...q,blocks:q.blocks.map(V=>V.id===l?{...V,struct:{...V.struct,isTransparentBackground:L}}:V)}))}};j(T(k))};return d.useEffect(()=>{if(x){const L=x.blocks.find(k=>k.id===l);console.log(L,"checkzBLock"),n(L)}},[x,N,a]),d.useEffect(()=>{const L=k=>{u.current&&!u.current.contains(k.target)&&v(!1)};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[]),d.useEffect(()=>{const L=k=>{_.current&&!_.current.contains(k.target)&&g(!1)};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[]),console.log(a,"blockValuesbddlockValuesblockValues"),e.jsx("div",{className:"panel-wrap",children:e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsx("h6",{className:"fw-semibold mb-4",children:"Slideshow"}),e.jsxs("div",{className:"setting-block border-bottom",children:[e.jsxs("label",{className:"d-flex align-items-center gap-2 font-sm fw-medium mb-0",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control m-0",role:"button",onChange:L=>S(L.target.checked),checked:(F=a==null?void 0:a.struct)==null?void 0:F.isTransparentBackground}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Transparent background"})]}),!((y=a==null?void 0:a.struct)!=null&&y.isTransparentBackground)&&e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Background color"}),e.jsxs("div",{ref:u,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(A=a==null?void 0:a.struct)==null?void 0:A.colorTheme}`},role:"button",onClick:()=>v(!i)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(U=a==null?void 0:a.struct)==null?void 0:U.colorTheme,onChange:L=>C(L.target.value)})]}),i&&e.jsx(Ut,{color:(ee=a==null?void 0:a.struct)==null?void 0:ee.colorTheme,onChange:L=>z(L)})]})]})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Text color"}),e.jsxs("div",{ref:u,children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"color-picker-color",style:{backgroundColor:`${(oe=a==null?void 0:a.struct)==null?void 0:oe.textColor}`},role:"button",onClick:()=>g(!b)}),e.jsx("input",{className:"colorInput form-control theme-control",type:"text",defaultValue:(we=a==null?void 0:a.struct)==null?void 0:we.textColor,onChange:L=>E(L.target.value)})]}),b&&e.jsx(Ut,{color:($=a==null?void 0:a.struct)==null?void 0:$.textColor,onChange:L=>M(L)})]})]})]})})}function ob({selectedBlock:c,pageData:m,selectedBlockSettings:s,handleChangeMedia:x,handleChangeMediaAudio:w,handleOpenFormFields:P,handleOpenPasswordModal:p,handleTimeUpPage:h,setIsOpenLinkModal:l,handleOpenLinkModal:a}){return console.log(s,"selectedBlockSettingsselectedBlockSetdsdsdtings"),e.jsxs("div",{className:"dash-right",children:[e.jsx("div",{className:"toggle-panel toggle-settings",role:"button",children:"Toggle Settings"}),c==="project"&&e.jsx(U0,{pageData:m,selectedBlockSettings:s,handleChangeMedia:x}),c==="text"&&e.jsx(E0,{pageData:m,selectedBlockSettings:s}),c==="image"&&e.jsx(A0,{pageData:m,selectedBlockSettings:s,handleChangeMedia:x,handleOpenLinkModal:a}),c==="logo"&&e.jsx(z0,{pageData:m,selectedBlockSettings:s,handleChangeMedia:x,handleOpenLinkModal:a}),c==="youtubeVideo"&&e.jsx(P0,{pageData:m,selectedBlockSettings:s,handleOpenLinkModal:a}),c==="button"&&e.jsx(F0,{pageData:m,selectedBlockSettings:s,handleOpenLinkModal:a}),c==="audio"&&e.jsx($0,{pageData:m,handleChangeMedia:w,selectedBlockSettings:s,handleOpenLinkModal:a}),c==="cover"&&e.jsx(O0,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenLinkModal:a}),c==="text-image"&&e.jsx(W0,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenLinkModal:a}),c==="timeline"&&e.jsx(sb,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenLinkModal:a}),c==="quiz"&&e.jsx(cd,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenLinkModal:a}),c==="personality-quiz"&&e.jsx(cd,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenLinkModal:a}),c==="treasure-hunt"&&e.jsx(q0,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenLinkModal:a}),c==="rank-battle"&&e.jsx(Q0,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenLinkModal:a}),c==="horoscope"&&e.jsx(Y0,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,setIsOpenLinkModal:l,handleOpenLinkModal:a}),c==="cookies"&&e.jsx(Z0,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenLinkModal:a}),c==="flip-card"&&e.jsx(J0,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenLinkModal:a}),c==="form"&&e.jsx(X0,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenLinkModal:a}),c==="then-now"&&e.jsx(G0,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenLinkModal:a}),c==="spin-wheel"&&e.jsx(K0,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenLinkModal:a}),c==="puzzle"&&e.jsx(V0,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenPasswordModal:p,handleTimeUpPage:h,handleOpenLinkModal:a}),c==="sliding-puzzle"&&e.jsx(rb,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenPasswordModal:p,handleTimeUpPage:h,handleOpenLinkModal:a}),c==="memory"&&e.jsx(D0,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenPasswordModal:p,handleTimeUpPage:h,handleOpenLinkModal:a}),c==="findPair"&&e.jsx(eb,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenPasswordModal:p,handleTimeUpPage:h,handleOpenLinkModal:a}),c==="matchup"&&e.jsx(tb,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenPasswordModal:p,handleTimeUpPage:h,handleOpenLinkModal:a}),c==="hidden-objects"&&e.jsx(nb,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenPasswordModal:p,handleTimeUpPage:h,handleOpenLinkModal:a}),c==="slide-show"&&e.jsx(cb,{pageData:m,handleChangeMedia:x,selectedBlockSettings:s,handleOpenFormFields:P,handleOpenPasswordModal:p,handleTimeUpPage:h,handleOpenLinkModal:a})]})}function ib({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleMoveDown:w,handleMoveUp:P,cloneblock:p,handleAddBlockFromBlock:h}){return console.log(c,"checkdatatata"),e.jsxs("div",{className:m?"block-builder selected":"block-builder",onClick:()=>s("audio",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsx("div",{className:"main-block block-6",children:e.jsx("div",{className:"",children:e.jsx(sj,{autoPlay:!0,src:c==null?void 0:c.url,className:"rounded-3",onPlay:l=>console.log("onPlay")})})}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>P(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>w(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function lb({isSelected:c,handleSelectBlock:m,data:s,handleDeleteBlock:x,cloneblock:w,handleMoveDown:P,handleMoveUp:p,handleAddBlockFromBlock:h}){console.log(s,"data?.textdata?.textdata?.text");const[l,a]=d.useState(),{templateDetails:n}=bt(u=>u.DrawerReducer),[i,v]=d.useState(`${s==null?void 0:s.text}`),b=u=>{v(u)},g=wt(),N=()=>{const u={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(_=>({..._,blocks:_.blocks.map(j=>j.id===(s==null?void 0:s.id)?{...j,text:i}:j)}))}};a(u)};return d.useEffect(()=>{var u,_;if(l){const j={...n,project_structure:{...n==null?void 0:n.project_structure,pages:(_=(u=n==null?void 0:n.project_structure)==null?void 0:u.pages)==null?void 0:_.map(C=>{var z;return{...C,blocks:(z=C==null?void 0:C.blocks)==null?void 0:z.map(E=>E.id===(s==null?void 0:s.id)?{...E,text:i}:E)}})}};g(T(j))}},[l]),d.useEffect(()=>{v(`${s==null?void 0:s.text}`)},[s]),e.jsxs("div",{className:c?"block-builder selected":"block-builder",onClick:()=>m("button",s),children:[e.jsx("button",{className:"plus-selected",onClick:()=>h(s.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsx("div",{className:"main-block block-5 button-wrap",children:e.jsx("div",{className:`${s!=null&&s.pulse?"pulseAnimation":""}`,children:e.jsx("div",{className:"block-button",style:{borderRadius:`${(s==null?void 0:s.brad)||"2"}px`,backgroundColor:`${(s==null?void 0:s.bc)||"#20A2B8"}`,minWidth:"150px"},children:e.jsx(Ir,{handleChange:b,handleSave:N,text:i})})})}),e.jsxs("ul",{className:`${c?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>p(s.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>P(s.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>w(s.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(s==null?void 0:s.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function ab({isSelected:c,handleSelectBlock:m,data:s,handleDeleteBlock:x,handleMoveDown:w,handleMoveUp:P,cloneblock:p,handleAddBlockFromBlock:h}){const{templateDetails:l}=bt(S=>S.DrawerReducer),[a,n]=d.useState(`${s==null?void 0:s.text}`),[i,v]=d.useState(`${s==null?void 0:s.buttonText}`),[b,g]=d.useState(),[N,u]=d.useState(),_=wt();let j;(s==null?void 0:s.imageProportions)==="1:1"?j="800px":(s==null?void 0:s.imageProportions)==="5:4"?j="640px":(s==null?void 0:s.imageProportions)==="4:3"?j="600px":(s==null?void 0:s.imageProportions)==="3:2"?j="533.333px":(s==null||s.imageProportions,j="450px");const C=S=>{n(S)},z=()=>{const S={...l,project_structure:{...l.project_structure,pages:l.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===(s==null?void 0:s.id)?{...y,text:a}:y)}))}};g(S)},E=S=>{v(S)},M=()=>{const S={...l,project_structure:{...l.project_structure,pages:l.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===(s==null?void 0:s.id)?{...y,buttonText:i}:y)}))}};u(S)};return d.useEffect(()=>{if(b){const S={...l,project_structure:{...l.project_structure,pages:l.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===(s==null?void 0:s.id)?{...y,text:a}:y)}))}};_(T(S))}},[b]),d.useEffect(()=>{if(N){const S={...l,project_structure:{...l.project_structure,pages:l.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===(s==null?void 0:s.id)?{...y,buttonText:i}:y)}))}};_(T(S))}},[N]),e.jsxs("div",{className:c?"block-builder selected":"block-builder",onClick:()=>m("cover",s),children:[e.jsx("button",{className:"plus-selected",onClick:()=>h(s.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"main-block block-7 cover-block",children:[e.jsx("div",{className:"cover_background-image_derw21",style:{backgroundImage:`url(${s==null?void 0:s.imageUrl})`,"--overlayColor":`rgba(0,0,0,${(s==null?void 0:s.darkenBackground)/100})`}}),e.jsxs("div",{className:"conver-content_ddetw1",style:{minHeight:`${j}`,justifyContent:"space-between"},children:[e.jsx("div",{className:"cover-content-logo_qwasf",style:{textAlign:`${s==null?void 0:s.logotypePosition}`},children:(s==null?void 0:s.isShowLogotype)&&e.jsx("img",{src:s==null?void 0:s.logotypeUrl,alt:"logo",style:{width:`${s==null?void 0:s.logotypeScale}%`}})}),e.jsxs("div",{children:[e.jsx("p",{className:"cover-content-mainText_qwqwwqwq",children:e.jsx("div",{children:e.jsx(Ir,{text:a,handleChange:C,handleSave:z})})}),(s==null?void 0:s.isShowButton)&&e.jsx("div",{className:"conver-button-main_piewew",style:{textAlign:`${s==null?void 0:s.buttonPosition}`},children:e.jsx("div",{style:{display:"inline-block"},children:e.jsx("div",{className:"button_button_mainproperty_wewew",style:{borderRadius:`${s==null?void 0:s.buttonBorderRadius}px`,backgroundColor:`${s==null?void 0:s.buttonBackgroundColor}`},children:e.jsx("div",{children:e.jsx(Ir,{text:i,handleChange:E,handleSave:M})})})})})]}),e.jsx("div",{})]})]}),e.jsxs("ul",{className:`${c?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>P(s.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>w(s.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>p(s.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(s==null?void 0:s.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function db({isSelected:c,handleSelectBlock:m,data:s,handleDeleteBlock:x,handleMoveDown:w,handleMoveUp:P,cloneblock:p,handleAddBlockFromBlock:h}){console.log(s,"checkdatatatata"),console.log(s,"checkckckck");const{id:l,blur:a,block:n,imageSize:i,position:v,url:b,width:g}=s;return console.log((i==null?void 0:i.value)==="custom"?g:"100%","cjeckImageSize"),e.jsxs("div",{className:c?"block-builder selected":"block-builder",onClick:()=>m("image",s),children:[e.jsx("button",{className:"plus-selected",onClick:()=>h(s.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsx("div",{className:"main-block",style:{textAlign:`${v==null?void 0:v.value}`},children:e.jsxs("div",{className:"image-wrapper position-relative",style:{width:`${(i==null?void 0:i.value)==="custom"?`${g}%`:"100%"}`},children:[e.jsx("img",{className:`${a?"__blur":""}`,src:b,style:{maxWidth:"100%"}}),e.jsx("div",{className:"cursor_wr",children:e.jsx("svg",{viewBox:"0 0 94.2691 104.3058",width:"82px",children:e.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#FFFFFF",d:"M27.7876,72.8258C15.1172,67.6919,6.1761,55.276,6.1761,40.7637 c0-19.1026,15.4857-34.5882,34.5882-34.5882s34.5882,15.4856,34.5882,34.5882c0,1.0043-0.0519,1.9975-0.1359,2.9795 c-0.5868,0.0828-1.1674,0.2075-1.7282,0.4138l-0.3434,0.1272c-0.5176,0.1915-1.0092,0.4299-1.47,0.7103 c-0.0939-0.0939-0.1952-0.1766-0.2915-0.2656c0.168-1.2995,0.2631-2.6213,0.2631-3.9653c0-17.0285-13.8538-30.8824-30.8824-30.8824 S9.882,23.7352,9.882,40.7637c0,12.5308,7.5056,23.3335,18.2527,28.1709c-0.2471,0.5979-0.4361,1.2217-0.4978,1.8838 C27.5726,71.504,27.6455,72.1735,27.7876,72.8258z M40.7643,18.5284c-12.2801,0-22.2353,9.9552-22.2353,22.2353 c0,12.2591,9.9207,22.197,22.1723,22.2316l-1.4169-3.7763c-9.5266-0.7585-17.0495-8.7372-17.0495-18.4553 c0-10.2171,8.3123-18.5294,18.5294-18.5294s18.5294,8.3123,18.5294,18.5294c0,1.8258-0.2755,3.5873-0.7696,5.2562 c0.0581,0.0124,0.1198,0.0173,0.1791,0.0309c0.9536-1.3069,2.2717-2.3075,3.8294-2.8819l0.3385-0.1248 c0.0049-0.0025,0.0087-0.0025,0.0136-0.0037c0.0753-0.7486,0.1149-1.5083,0.1149-2.2766 C62.9996,28.4837,53.0456,18.5284,40.7643,18.5284z M86.5814,66.0551c4.6077,12.2875-1.7368,25.9708-14.1738,30.5636 c-9.3116,3.4391-19.3978,0.8066-25.8127-5.8924l-0.0037-0.0037c-0.7029-0.735-1.3564-1.5231-1.9654-2.352L31.9715,73.2359 c-1.0105-1.2069-0.8363-2.9993,0.3879-4.0036c3.5836-2.9338,8.8867-2.4459,11.8428,1.0908l5.8121,6.951L37.0239,42.6377 c-0.882-2.3495,0.3323-4.9671,2.7102-5.8442l0.3409-0.126c2.3779-0.8783,5.0215,0.3138,5.9022,2.6633l6.1752,16.4652 c-0.8808-2.3483,0.3323-4.9659,2.7115-5.8442l0.3397-0.126c2.3779-0.8783,5.0215,0.315,5.9022,2.6645 c-0.8808-2.3495,0.3323-4.9671,2.7102-5.8454l0.3409-0.126c2.3779-0.8783,5.0215,0.315,5.9022,2.6645l1.659,4.4224 c-0.882-2.3495,0.3323-4.9671,2.7102-5.8454l0.3409-0.1248c2.3779-0.8795,5.0202,0.3138,5.9022,2.6633L86.5814,66.0551z"})})})]})}),e.jsxs("ul",{className:`${c?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>P(s.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>w(s.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>p(s.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(s==null?void 0:s.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function ub({isSelected:c,data:m,handleSelectBlock:s,handleDeleteBlock:x,cloneblock:w,handleMoveDown:P,handleMoveUp:p,handleAddBlockFromBlock:h}){var l;return console.log(m,"checkdatafotthisss"),e.jsxs("div",{className:c?"block-builder selected":"block-builder",onClick:()=>s("logo",m),children:[e.jsx("button",{className:"plus-selected",onClick:()=>h(m.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsx("div",{className:"main-block block-3",style:{textAlign:`${(l=m==null?void 0:m.position)==null?void 0:l.value}`,padding:`${m==null?void 0:m.top}px ${m==null?void 0:m.right}px ${m==null?void 0:m.bottom}px ${m==null?void 0:m.left}px`},children:e.jsx("img",{className:"",src:m==null?void 0:m.url,style:{width:`${m==null?void 0:m.width}%`},alt:"logo"})}),e.jsxs("ul",{className:`${c?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>p(m.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>P(m.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>w(m.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(m==null?void 0:m.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function mb({isSelected:c,handleSelectBlock:m,data:s,handleDeleteBlock:x,handleMoveUp:w,handleMoveDown:P,cloneblock:p,handleAddBlockFromBlock:h}){const{templateDetails:l}=bt(M=>M.DrawerReducer),[a,n]=d.useState(`${s==null?void 0:s.text}`),[i,v]=d.useState(`${s==null?void 0:s.buttonText}`),[b,g]=d.useState(),[N,u]=d.useState(),_=wt(),j=M=>{n(M)},C=()=>{const M={...l,project_structure:{...l.project_structure,pages:l.project_structure.pages.map(S=>({...S,blocks:S.blocks.map(F=>F.id===(s==null?void 0:s.id)?{...F,text:a}:F)}))}};g(M)},z=M=>{v(M)},E=()=>{const M={...l,project_structure:{...l.project_structure,pages:l.project_structure.pages.map(S=>({...S,blocks:S.blocks.map(F=>F.id===(s==null?void 0:s.id)?{...F,buttonText:i}:F)}))}};u(M)};return d.useEffect(()=>{if(b){const M={...l,project_structure:{...l.project_structure,pages:l.project_structure.pages.map(S=>({...S,blocks:S.blocks.map(F=>F.id===(s==null?void 0:s.id)?{...F,text:a}:F)}))}};_(T(M))}},[b]),d.useEffect(()=>{if(N){const M={...l,project_structure:{...l.project_structure,pages:l.project_structure.pages.map(S=>({...S,blocks:S.blocks.map(F=>F.id===(s==null?void 0:s.id)?{...F,buttonText:i}:F)}))}};_(T(M))}},[N]),e.jsxs("div",{className:c?"block-builder selected":"block-builder",onClick:()=>m("text-image",s),children:[e.jsx("button",{className:"plus-selected",onClick:()=>h(s.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:`main-block block-8 ${(s==null?void 0:s.textPosition)==="left"&&"text-right-left"}`,style:{backgroundColor:`${s!=null&&s.isTransparentBackground?"transparent":s==null?void 0:s.backgroundColor}`,flexDirection:`${(s==null?void 0:s.textPosition)==="left"?"row-reverse":"row"} `},children:[e.jsx("img",{src:s==null?void 0:s.imageUrl,className:"image-text_ewe21"}),e.jsxs("div",{className:"textImage-content_jsbf3",children:[e.jsx("p",{className:"TextAndImage_contentText__YN2O8",children:e.jsx("div",{children:e.jsx(Ir,{text:a,handleChange:j,handleSave:C})})}),(s==null?void 0:s.isShowButton)&&e.jsx("div",{className:"TextAndImage_Button__osWetw",children:e.jsx("div",{className:"Button_button__QOWDSA",style:{borderRadius:`${s==null?void 0:s.buttonBorderRadius}px`,backgroundColor:`${s==null?void 0:s.buttonBackgroundColor}`},children:e.jsx("div",{children:e.jsx(Ir,{text:i,handleChange:z,handleSave:E})})})})]})]}),e.jsxs("ul",{className:`${c?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>w(s.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>P(s.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>p(s.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(s==null?void 0:s.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function pb({data:c,isSelected:m,embedCode:s,handleSelectBlock:x,handleDeleteBlock:w,handleMoveUp:P,handleMoveDown:p,cloneblock:h,handleAddBlockFromBlock:l}){return console.log(c==null?void 0:c.embedCode.replace(/^"|"$/g,""),"youtubeblockdtaaa"),e.jsxs("div",{className:m==="text"?"block-builder selected":"block-builder",onClick:()=>x("youtubeVideo",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"main-block block-4 position-relative",children:[e.jsx("img",{src:Mf,className:"w-100",alt:"defultVideo"}),e.jsx("div",{className:"contentvideo",children:e.jsx("h6",{className:"text-center",children:"Video is displayed in preview mode or after publishing"})})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>P(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>w(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}var Uc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Uc.exports;(function(c,m){(function(){var s,x="4.17.21",w=200,P="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",h="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",a=500,n="__lodash_placeholder__",i=1,v=2,b=4,g=1,N=2,u=1,_=2,j=4,C=8,z=16,E=32,M=64,S=128,F=256,y=512,A=30,U="...",ee=800,oe=16,we=1,$=2,L=3,k=1/0,q=9007199254740991,V=17976931348623157e292,Y=NaN,se=4294967295,Pe=se-1,Se=se>>>1,_e=[["ary",S],["bind",u],["bindKey",_],["curry",C],["curryRight",z],["flip",y],["partial",E],["partialRight",M],["rearg",F]],G="[object Arguments]",le="[object Array]",ae="[object AsyncFunction]",ye="[object Boolean]",Te="[object Date]",Oe="[object DOMException]",Q="[object Error]",ne="[object Function]",ge="[object GeneratorFunction]",J="[object Map]",he="[object Number]",Ie="[object Null]",Ge="[object Object]",xe="[object Promise]",D="[object Proxy]",Z="[object RegExp]",R="[object Set]",ce="[object String]",te="[object Symbol]",me="[object Undefined]",Lt="[object WeakMap]",Pt="[object WeakSet]",Qe="[object ArrayBuffer]",ft="[object DataView]",xt="[object Float32Array]",dt="[object Float64Array]",_t="[object Int8Array]",De="[object Int16Array]",ut="[object Int32Array]",Le="[object Uint8Array]",ot="[object Uint8ClampedArray]",B="[object Uint16Array]",rt="[object Uint32Array]",vt=/\b__p \+= '';/g,Nt=/\b(__p \+=) '' \+/g,$t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,We=/&(?:amp|lt|gt|quot|#39);/g,mt=/[&<>"']/g,fe=RegExp(We.source),Ne=RegExp(mt.source),et=/<%-([\s\S]+?)%>/g,Be=/<%([\s\S]+?)%>/g,Ft=/<%=([\s\S]+?)%>/g,Kt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qt=/^\w*$/,Vt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,He=/[\\^$.*+?()[\]{}|]/g,lt=RegExp(He.source),Ke=/^\s+/,st=/\s/,it=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,be=/\{\n\/\* \[wrapped with (.+)\] \*/,re=/,? & /,Ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pe=/[()=,{}\[\]\/\s]/,Re=/\\(\\)?/g,St=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ie=/\w*$/,Me=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,ke=/^\[object .+?Constructor\]$/,Ht=/^0o[0-7]+$/i,vs=/^(?:0|[1-9]\d*)$/,Fe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ht=/($^)/,nt=/['\n\r\u2028\u2029\\]/g,Ae="\\ud800-\\udfff",us="\\u0300-\\u036f",or="\\ufe20-\\ufe2f",ir="\\u20d0-\\u20ff",Ks=us+or+ir,W="\\u2700-\\u27bf",de="a-z\\xdf-\\xf6\\xf8-\\xff",Xe="\\xac\\xb1\\xd7\\xf7",at="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",yt="\\u2000-\\u206f",$e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",X="\\ufe0e\\ufe0f",ct=Xe+at+yt+$e,Ve="['’]",Et="["+Ae+"]",Ye="["+ct+"]",pt="["+Ks+"]",zt="\\d+",Dt="["+W+"]",Is="["+de+"]",kr="[^"+Ae+ct+zt+W+de+Ce+"]",pr="\\ud83c[\\udffb-\\udfff]",qr="(?:"+pt+"|"+pr+")",Lr="[^"+Ae+"]",hr="(?:\\ud83c[\\udde6-\\uddff]){2}",gr="[\\ud800-\\udbff][\\udc00-\\udfff]",Os="["+Ce+"]",Rr="\\u200d",Yt="(?:"+Is+"|"+kr+")",Ps="(?:"+Os+"|"+kr+")",jn="(?:"+Ve+"(?:d|ll|m|re|s|t|ve))?",bn="(?:"+Ve+"(?:D|LL|M|RE|S|T|VE))?",vn=qr+"?",Nn="["+X+"]?",Yn="(?:"+Rr+"(?:"+[Lr,hr,gr].join("|")+")"+Nn+vn+")*",Zn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Jn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_n=Nn+vn+Yn,Xn="(?:"+[Dt,hr,gr].join("|")+")"+_n,Kn="(?:"+[Lr+pt+"?",pt,hr,gr,Et].join("|")+")",Vn=RegExp(Ve,"g"),Dn=RegExp(pt,"g"),Gr=RegExp(pr+"(?="+pr+")|"+Kn+_n,"g"),Jd=RegExp([Os+"?"+Is+"+"+jn+"(?="+[Ye,Os,"$"].join("|")+")",Ps+"+"+bn+"(?="+[Ye,Os+Yt,"$"].join("|")+")",Os+"?"+Yt+"+"+jn,Os+"+"+bn,Jn,Zn,zt,Xn].join("|"),"g"),Xd=RegExp("["+Rr+Ae+Ks+X+"]"),Kd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dd=-1,is={};is[xt]=is[dt]=is[_t]=is[De]=is[ut]=is[Le]=is[ot]=is[B]=is[rt]=!0,is[G]=is[le]=is[Qe]=is[ye]=is[ft]=is[Te]=is[Q]=is[ne]=is[J]=is[he]=is[Ge]=is[Z]=is[R]=is[ce]=is[Lt]=!1;var ns={};ns[G]=ns[le]=ns[Qe]=ns[ft]=ns[ye]=ns[Te]=ns[xt]=ns[dt]=ns[_t]=ns[De]=ns[ut]=ns[J]=ns[he]=ns[Ge]=ns[Z]=ns[R]=ns[ce]=ns[te]=ns[Le]=ns[ot]=ns[B]=ns[rt]=!0,ns[Q]=ns[ne]=ns[Lt]=!1;var eu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},tu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},su={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ru={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nu=parseFloat,cu=parseInt,zi=typeof window=="object"&&window&&window.Object===Object&&window,ou=typeof self=="object"&&self&&self.Object===Object&&self,fs=zi||ou||Function("return this")(),Gc=m&&!m.nodeType&&m,Qr=Gc&&!0&&c&&!c.nodeType&&c,Bi=Qr&&Qr.exports===Gc,Qc=Bi&&zi.process,Ws=function(){try{var je=Qr&&Qr.require&&Qr.require("util").types;return je||Qc&&Qc.binding&&Qc.binding("util")}catch{}}(),Hi=Ws&&Ws.isArrayBuffer,Mi=Ws&&Ws.isDate,$i=Ws&&Ws.isMap,Oi=Ws&&Ws.isRegExp,Wi=Ws&&Ws.isSet,Ui=Ws&&Ws.isTypedArray;function Fs(je,qe,ze){switch(ze.length){case 0:return je.call(qe);case 1:return je.call(qe,ze[0]);case 2:return je.call(qe,ze[0],ze[1]);case 3:return je.call(qe,ze[0],ze[1],ze[2])}return je.apply(qe,ze)}function iu(je,qe,ze,jt){for(var At=-1,Xt=je==null?0:je.length;++At<Xt;){var hs=je[At];qe(jt,hs,ze(hs),je)}return jt}function Us(je,qe){for(var ze=-1,jt=je==null?0:je.length;++ze<jt&&qe(je[ze],ze,je)!==!1;);return je}function lu(je,qe){for(var ze=je==null?0:je.length;ze--&&qe(je[ze],ze,je)!==!1;);return je}function qi(je,qe){for(var ze=-1,jt=je==null?0:je.length;++ze<jt;)if(!qe(je[ze],ze,je))return!1;return!0}function Er(je,qe){for(var ze=-1,jt=je==null?0:je.length,At=0,Xt=[];++ze<jt;){var hs=je[ze];qe(hs,ze,je)&&(Xt[At++]=hs)}return Xt}function ec(je,qe){var ze=je==null?0:je.length;return!!ze&&sn(je,qe,0)>-1}function Yc(je,qe,ze){for(var jt=-1,At=je==null?0:je.length;++jt<At;)if(ze(qe,je[jt]))return!0;return!1}function ls(je,qe){for(var ze=-1,jt=je==null?0:je.length,At=Array(jt);++ze<jt;)At[ze]=qe(je[ze],ze,je);return At}function Ar(je,qe){for(var ze=-1,jt=qe.length,At=je.length;++ze<jt;)je[At+ze]=qe[ze];return je}function Zc(je,qe,ze,jt){var At=-1,Xt=je==null?0:je.length;for(jt&&Xt&&(ze=je[++At]);++At<Xt;)ze=qe(ze,je[At],At,je);return ze}function au(je,qe,ze,jt){var At=je==null?0:je.length;for(jt&&At&&(ze=je[--At]);At--;)ze=qe(ze,je[At],At,je);return ze}function Jc(je,qe){for(var ze=-1,jt=je==null?0:je.length;++ze<jt;)if(qe(je[ze],ze,je))return!0;return!1}var du=Xc("length");function uu(je){return je.split("")}function mu(je){return je.match(Ee)||[]}function Gi(je,qe,ze){var jt;return ze(je,function(At,Xt,hs){if(qe(At,Xt,hs))return jt=Xt,!1}),jt}function tc(je,qe,ze,jt){for(var At=je.length,Xt=ze+(jt?1:-1);jt?Xt--:++Xt<At;)if(qe(je[Xt],Xt,je))return Xt;return-1}function sn(je,qe,ze){return qe===qe?Cu(je,qe,ze):tc(je,Qi,ze)}function pu(je,qe,ze,jt){for(var At=ze-1,Xt=je.length;++At<Xt;)if(jt(je[At],qe))return At;return-1}function Qi(je){return je!==je}function Yi(je,qe){var ze=je==null?0:je.length;return ze?Vc(je,qe)/ze:Y}function Xc(je){return function(qe){return qe==null?s:qe[je]}}function Kc(je){return function(qe){return je==null?s:je[qe]}}function Zi(je,qe,ze,jt,At){return At(je,function(Xt,hs,rs){ze=jt?(jt=!1,Xt):qe(ze,Xt,hs,rs)}),ze}function hu(je,qe){var ze=je.length;for(je.sort(qe);ze--;)je[ze]=je[ze].value;return je}function Vc(je,qe){for(var ze,jt=-1,At=je.length;++jt<At;){var Xt=qe(je[jt]);Xt!==s&&(ze=ze===s?Xt:ze+Xt)}return ze}function Dc(je,qe){for(var ze=-1,jt=Array(je);++ze<je;)jt[ze]=qe(ze);return jt}function gu(je,qe){return ls(qe,function(ze){return[ze,je[ze]]})}function Ji(je){return je&&je.slice(0,Di(je)+1).replace(Ke,"")}function zs(je){return function(qe){return je(qe)}}function eo(je,qe){return ls(qe,function(ze){return je[ze]})}function wn(je,qe){return je.has(qe)}function Xi(je,qe){for(var ze=-1,jt=je.length;++ze<jt&&sn(qe,je[ze],0)>-1;);return ze}function Ki(je,qe){for(var ze=je.length;ze--&&sn(qe,je[ze],0)>-1;);return ze}function xu(je,qe){for(var ze=je.length,jt=0;ze--;)je[ze]===qe&&++jt;return jt}var fu=Kc(eu),ju=Kc(tu);function bu(je){return"\\"+ru[je]}function vu(je,qe){return je==null?s:je[qe]}function rn(je){return Xd.test(je)}function Nu(je){return Kd.test(je)}function _u(je){for(var qe,ze=[];!(qe=je.next()).done;)ze.push(qe.value);return ze}function to(je){var qe=-1,ze=Array(je.size);return je.forEach(function(jt,At){ze[++qe]=[At,jt]}),ze}function Vi(je,qe){return function(ze){return je(qe(ze))}}function Pr(je,qe){for(var ze=-1,jt=je.length,At=0,Xt=[];++ze<jt;){var hs=je[ze];(hs===qe||hs===n)&&(je[ze]=n,Xt[At++]=ze)}return Xt}function sc(je){var qe=-1,ze=Array(je.size);return je.forEach(function(jt){ze[++qe]=jt}),ze}function wu(je){var qe=-1,ze=Array(je.size);return je.forEach(function(jt){ze[++qe]=[jt,jt]}),ze}function Cu(je,qe,ze){for(var jt=ze-1,At=je.length;++jt<At;)if(je[jt]===qe)return jt;return-1}function yu(je,qe,ze){for(var jt=ze+1;jt--;)if(je[jt]===qe)return jt;return jt}function nn(je){return rn(je)?Tu(je):du(je)}function Vs(je){return rn(je)?Iu(je):uu(je)}function Di(je){for(var qe=je.length;qe--&&st.test(je.charAt(qe)););return qe}var Su=Kc(su);function Tu(je){for(var qe=Gr.lastIndex=0;Gr.test(je);)++qe;return qe}function Iu(je){return je.match(Gr)||[]}function ku(je){return je.match(Jd)||[]}var Lu=function je(qe){qe=qe==null?fs:cn.defaults(fs.Object(),qe,cn.pick(fs,Vd));var ze=qe.Array,jt=qe.Date,At=qe.Error,Xt=qe.Function,hs=qe.Math,rs=qe.Object,so=qe.RegExp,Ru=qe.String,qs=qe.TypeError,rc=ze.prototype,Eu=Xt.prototype,on=rs.prototype,nc=qe["__core-js_shared__"],cc=Eu.toString,ts=on.hasOwnProperty,Au=0,el=function(){var t=/[^.]+$/.exec(nc&&nc.keys&&nc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),oc=on.toString,Pu=cc.call(rs),Fu=fs._,zu=so("^"+cc.call(ts).replace(He,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ic=Bi?qe.Buffer:s,Fr=qe.Symbol,lc=qe.Uint8Array,tl=ic?ic.allocUnsafe:s,ac=Vi(rs.getPrototypeOf,rs),sl=rs.create,rl=on.propertyIsEnumerable,dc=rc.splice,nl=Fr?Fr.isConcatSpreadable:s,Cn=Fr?Fr.iterator:s,Yr=Fr?Fr.toStringTag:s,uc=function(){try{var t=Vr(rs,"defineProperty");return t({},"",{}),t}catch{}}(),Bu=qe.clearTimeout!==fs.clearTimeout&&qe.clearTimeout,Hu=jt&&jt.now!==fs.Date.now&&jt.now,Mu=qe.setTimeout!==fs.setTimeout&&qe.setTimeout,mc=hs.ceil,pc=hs.floor,ro=rs.getOwnPropertySymbols,$u=ic?ic.isBuffer:s,cl=qe.isFinite,Ou=rc.join,Wu=Vi(rs.keys,rs),gs=hs.max,Ns=hs.min,Uu=jt.now,qu=qe.parseInt,ol=hs.random,Gu=rc.reverse,no=Vr(qe,"DataView"),yn=Vr(qe,"Map"),co=Vr(qe,"Promise"),ln=Vr(qe,"Set"),Sn=Vr(qe,"WeakMap"),Tn=Vr(rs,"create"),hc=Sn&&new Sn,an={},Qu=Dr(no),Yu=Dr(yn),Zu=Dr(co),Ju=Dr(ln),Xu=Dr(Sn),gc=Fr?Fr.prototype:s,In=gc?gc.valueOf:s,il=gc?gc.toString:s;function H(t){if(ds(t)&&!Bt(t)&&!(t instanceof Gt)){if(t instanceof Gs)return t;if(ts.call(t,"__wrapped__"))return la(t)}return new Gs(t)}var dn=function(){function t(){}return function(r){if(!as(r))return{};if(sl)return sl(r);t.prototype=r;var o=new t;return t.prototype=s,o}}();function xc(){}function Gs(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=s}H.templateSettings={escape:et,evaluate:Be,interpolate:Ft,variable:"",imports:{_:H}},H.prototype=xc.prototype,H.prototype.constructor=H,Gs.prototype=dn(xc.prototype),Gs.prototype.constructor=Gs;function Gt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function Ku(){var t=new Gt(this.__wrapped__);return t.__actions__=ks(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ks(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ks(this.__views__),t}function Vu(){if(this.__filtered__){var t=new Gt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Du(){var t=this.__wrapped__.value(),r=this.__dir__,o=Bt(t),f=r<0,I=o?t.length:0,O=up(0,I,this.__views__),K=O.start,ue=O.end,ve=ue-K,Ze=f?ue:K-1,Je=this.__iteratees__,tt=Je.length,gt=0,Ct=Ns(ve,this.__takeCount__);if(!o||!f&&I==ve&&Ct==ve)return Rl(t,this.__actions__);var It=[];e:for(;ve--&&gt<Ct;){Ze+=r;for(var Ot=-1,kt=t[Ze];++Ot<tt;){var qt=Je[Ot],Zt=qt.iteratee,Ms=qt.type,Ss=Zt(kt);if(Ms==$)kt=Ss;else if(!Ss){if(Ms==we)continue e;break e}}It[gt++]=kt}return It}Gt.prototype=dn(xc.prototype),Gt.prototype.constructor=Gt;function Zr(t){var r=-1,o=t==null?0:t.length;for(this.clear();++r<o;){var f=t[r];this.set(f[0],f[1])}}function em(){this.__data__=Tn?Tn(null):{},this.size=0}function tm(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}function sm(t){var r=this.__data__;if(Tn){var o=r[t];return o===l?s:o}return ts.call(r,t)?r[t]:s}function rm(t){var r=this.__data__;return Tn?r[t]!==s:ts.call(r,t)}function nm(t,r){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Tn&&r===s?l:r,this}Zr.prototype.clear=em,Zr.prototype.delete=tm,Zr.prototype.get=sm,Zr.prototype.has=rm,Zr.prototype.set=nm;function xr(t){var r=-1,o=t==null?0:t.length;for(this.clear();++r<o;){var f=t[r];this.set(f[0],f[1])}}function cm(){this.__data__=[],this.size=0}function om(t){var r=this.__data__,o=fc(r,t);if(o<0)return!1;var f=r.length-1;return o==f?r.pop():dc.call(r,o,1),--this.size,!0}function im(t){var r=this.__data__,o=fc(r,t);return o<0?s:r[o][1]}function lm(t){return fc(this.__data__,t)>-1}function am(t,r){var o=this.__data__,f=fc(o,t);return f<0?(++this.size,o.push([t,r])):o[f][1]=r,this}xr.prototype.clear=cm,xr.prototype.delete=om,xr.prototype.get=im,xr.prototype.has=lm,xr.prototype.set=am;function fr(t){var r=-1,o=t==null?0:t.length;for(this.clear();++r<o;){var f=t[r];this.set(f[0],f[1])}}function dm(){this.size=0,this.__data__={hash:new Zr,map:new(yn||xr),string:new Zr}}function um(t){var r=kc(this,t).delete(t);return this.size-=r?1:0,r}function mm(t){return kc(this,t).get(t)}function pm(t){return kc(this,t).has(t)}function hm(t,r){var o=kc(this,t),f=o.size;return o.set(t,r),this.size+=o.size==f?0:1,this}fr.prototype.clear=dm,fr.prototype.delete=um,fr.prototype.get=mm,fr.prototype.has=pm,fr.prototype.set=hm;function Jr(t){var r=-1,o=t==null?0:t.length;for(this.__data__=new fr;++r<o;)this.add(t[r])}function gm(t){return this.__data__.set(t,l),this}function xm(t){return this.__data__.has(t)}Jr.prototype.add=Jr.prototype.push=gm,Jr.prototype.has=xm;function Ds(t){var r=this.__data__=new xr(t);this.size=r.size}function fm(){this.__data__=new xr,this.size=0}function jm(t){var r=this.__data__,o=r.delete(t);return this.size=r.size,o}function bm(t){return this.__data__.get(t)}function vm(t){return this.__data__.has(t)}function Nm(t,r){var o=this.__data__;if(o instanceof xr){var f=o.__data__;if(!yn||f.length<w-1)return f.push([t,r]),this.size=++o.size,this;o=this.__data__=new fr(f)}return o.set(t,r),this.size=o.size,this}Ds.prototype.clear=fm,Ds.prototype.delete=jm,Ds.prototype.get=bm,Ds.prototype.has=vm,Ds.prototype.set=Nm;function ll(t,r){var o=Bt(t),f=!o&&en(t),I=!o&&!f&&$r(t),O=!o&&!f&&!I&&hn(t),K=o||f||I||O,ue=K?Dc(t.length,Ru):[],ve=ue.length;for(var Ze in t)(r||ts.call(t,Ze))&&!(K&&(Ze=="length"||I&&(Ze=="offset"||Ze=="parent")||O&&(Ze=="buffer"||Ze=="byteLength"||Ze=="byteOffset")||Nr(Ze,ve)))&&ue.push(Ze);return ue}function al(t){var r=t.length;return r?t[fo(0,r-1)]:s}function _m(t,r){return Lc(ks(t),Xr(r,0,t.length))}function wm(t){return Lc(ks(t))}function oo(t,r,o){(o!==s&&!er(t[r],o)||o===s&&!(r in t))&&jr(t,r,o)}function kn(t,r,o){var f=t[r];(!(ts.call(t,r)&&er(f,o))||o===s&&!(r in t))&&jr(t,r,o)}function fc(t,r){for(var o=t.length;o--;)if(er(t[o][0],r))return o;return-1}function Cm(t,r,o,f){return zr(t,function(I,O,K){r(f,I,o(I),K)}),f}function dl(t,r){return t&&ar(r,xs(r),t)}function ym(t,r){return t&&ar(r,Rs(r),t)}function jr(t,r,o){r=="__proto__"&&uc?uc(t,r,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[r]=o}function io(t,r){for(var o=-1,f=r.length,I=ze(f),O=t==null;++o<f;)I[o]=O?s:Wo(t,r[o]);return I}function Xr(t,r,o){return t===t&&(o!==s&&(t=t<=o?t:o),r!==s&&(t=t>=r?t:r)),t}function Qs(t,r,o,f,I,O){var K,ue=r&i,ve=r&v,Ze=r&b;if(o&&(K=I?o(t,f,I,O):o(t)),K!==s)return K;if(!as(t))return t;var Je=Bt(t);if(Je){if(K=pp(t),!ue)return ks(t,K)}else{var tt=_s(t),gt=tt==ne||tt==ge;if($r(t))return Pl(t,ue);if(tt==Ge||tt==G||gt&&!I){if(K=ve||gt?{}:Dl(t),!ue)return ve?sp(t,ym(K,t)):tp(t,dl(K,t))}else{if(!ns[tt])return I?t:{};K=hp(t,tt,ue)}}O||(O=new Ds);var Ct=O.get(t);if(Ct)return Ct;O.set(t,K),Ia(t)?t.forEach(function(kt){K.add(Qs(kt,r,o,kt,t,O))}):Sa(t)&&t.forEach(function(kt,qt){K.set(qt,Qs(kt,r,o,qt,t,O))});var It=Ze?ve?Io:To:ve?Rs:xs,Ot=Je?s:It(t);return Us(Ot||t,function(kt,qt){Ot&&(qt=kt,kt=t[qt]),kn(K,qt,Qs(kt,r,o,qt,t,O))}),K}function Sm(t){var r=xs(t);return function(o){return ul(o,t,r)}}function ul(t,r,o){var f=o.length;if(t==null)return!f;for(t=rs(t);f--;){var I=o[f],O=r[I],K=t[I];if(K===s&&!(I in t)||!O(K))return!1}return!0}function ml(t,r,o){if(typeof t!="function")throw new qs(p);return zn(function(){t.apply(s,o)},r)}function Ln(t,r,o,f){var I=-1,O=ec,K=!0,ue=t.length,ve=[],Ze=r.length;if(!ue)return ve;o&&(r=ls(r,zs(o))),f?(O=Yc,K=!1):r.length>=w&&(O=wn,K=!1,r=new Jr(r));e:for(;++I<ue;){var Je=t[I],tt=o==null?Je:o(Je);if(Je=f||Je!==0?Je:0,K&&tt===tt){for(var gt=Ze;gt--;)if(r[gt]===tt)continue e;ve.push(Je)}else O(r,tt,f)||ve.push(Je)}return ve}var zr=Ml(lr),pl=Ml(ao,!0);function Tm(t,r){var o=!0;return zr(t,function(f,I,O){return o=!!r(f,I,O),o}),o}function jc(t,r,o){for(var f=-1,I=t.length;++f<I;){var O=t[f],K=r(O);if(K!=null&&(ue===s?K===K&&!Hs(K):o(K,ue)))var ue=K,ve=O}return ve}function Im(t,r,o,f){var I=t.length;for(o=Mt(o),o<0&&(o=-o>I?0:I+o),f=f===s||f>I?I:Mt(f),f<0&&(f+=I),f=o>f?0:La(f);o<f;)t[o++]=r;return t}function hl(t,r){var o=[];return zr(t,function(f,I,O){r(f,I,O)&&o.push(f)}),o}function js(t,r,o,f,I){var O=-1,K=t.length;for(o||(o=xp),I||(I=[]);++O<K;){var ue=t[O];r>0&&o(ue)?r>1?js(ue,r-1,o,f,I):Ar(I,ue):f||(I[I.length]=ue)}return I}var lo=$l(),gl=$l(!0);function lr(t,r){return t&&lo(t,r,xs)}function ao(t,r){return t&&gl(t,r,xs)}function bc(t,r){return Er(r,function(o){return _r(t[o])})}function Kr(t,r){r=Hr(r,t);for(var o=0,f=r.length;t!=null&&o<f;)t=t[dr(r[o++])];return o&&o==f?t:s}function xl(t,r,o){var f=r(t);return Bt(t)?f:Ar(f,o(t))}function Cs(t){return t==null?t===s?me:Ie:Yr&&Yr in rs(t)?dp(t):wp(t)}function uo(t,r){return t>r}function km(t,r){return t!=null&&ts.call(t,r)}function Lm(t,r){return t!=null&&r in rs(t)}function Rm(t,r,o){return t>=Ns(r,o)&&t<gs(r,o)}function mo(t,r,o){for(var f=o?Yc:ec,I=t[0].length,O=t.length,K=O,ue=ze(O),ve=1/0,Ze=[];K--;){var Je=t[K];K&&r&&(Je=ls(Je,zs(r))),ve=Ns(Je.length,ve),ue[K]=!o&&(r||I>=120&&Je.length>=120)?new Jr(K&&Je):s}Je=t[0];var tt=-1,gt=ue[0];e:for(;++tt<I&&Ze.length<ve;){var Ct=Je[tt],It=r?r(Ct):Ct;if(Ct=o||Ct!==0?Ct:0,!(gt?wn(gt,It):f(Ze,It,o))){for(K=O;--K;){var Ot=ue[K];if(!(Ot?wn(Ot,It):f(t[K],It,o)))continue e}gt&&gt.push(It),Ze.push(Ct)}}return Ze}function Em(t,r,o,f){return lr(t,function(I,O,K){r(f,o(I),O,K)}),f}function Rn(t,r,o){r=Hr(r,t),t=ra(t,r);var f=t==null?t:t[dr(Zs(r))];return f==null?s:Fs(f,t,o)}function fl(t){return ds(t)&&Cs(t)==G}function Am(t){return ds(t)&&Cs(t)==Qe}function Pm(t){return ds(t)&&Cs(t)==Te}function En(t,r,o,f,I){return t===r?!0:t==null||r==null||!ds(t)&&!ds(r)?t!==t&&r!==r:Fm(t,r,o,f,En,I)}function Fm(t,r,o,f,I,O){var K=Bt(t),ue=Bt(r),ve=K?le:_s(t),Ze=ue?le:_s(r);ve=ve==G?Ge:ve,Ze=Ze==G?Ge:Ze;var Je=ve==Ge,tt=Ze==Ge,gt=ve==Ze;if(gt&&$r(t)){if(!$r(r))return!1;K=!0,Je=!1}if(gt&&!Je)return O||(O=new Ds),K||hn(t)?Xl(t,r,o,f,I,O):lp(t,r,ve,o,f,I,O);if(!(o&g)){var Ct=Je&&ts.call(t,"__wrapped__"),It=tt&&ts.call(r,"__wrapped__");if(Ct||It){var Ot=Ct?t.value():t,kt=It?r.value():r;return O||(O=new Ds),I(Ot,kt,o,f,O)}}return gt?(O||(O=new Ds),ap(t,r,o,f,I,O)):!1}function zm(t){return ds(t)&&_s(t)==J}function po(t,r,o,f){var I=o.length,O=I,K=!f;if(t==null)return!O;for(t=rs(t);I--;){var ue=o[I];if(K&&ue[2]?ue[1]!==t[ue[0]]:!(ue[0]in t))return!1}for(;++I<O;){ue=o[I];var ve=ue[0],Ze=t[ve],Je=ue[1];if(K&&ue[2]){if(Ze===s&&!(ve in t))return!1}else{var tt=new Ds;if(f)var gt=f(Ze,Je,ve,t,r,tt);if(!(gt===s?En(Je,Ze,g|N,f,tt):gt))return!1}}return!0}function jl(t){if(!as(t)||jp(t))return!1;var r=_r(t)?zu:ke;return r.test(Dr(t))}function Bm(t){return ds(t)&&Cs(t)==Z}function Hm(t){return ds(t)&&_s(t)==R}function Mm(t){return ds(t)&&zc(t.length)&&!!is[Cs(t)]}function bl(t){return typeof t=="function"?t:t==null?Es:typeof t=="object"?Bt(t)?_l(t[0],t[1]):Nl(t):Oa(t)}function ho(t){if(!Fn(t))return Wu(t);var r=[];for(var o in rs(t))ts.call(t,o)&&o!="constructor"&&r.push(o);return r}function $m(t){if(!as(t))return _p(t);var r=Fn(t),o=[];for(var f in t)f=="constructor"&&(r||!ts.call(t,f))||o.push(f);return o}function go(t,r){return t<r}function vl(t,r){var o=-1,f=Ls(t)?ze(t.length):[];return zr(t,function(I,O,K){f[++o]=r(I,O,K)}),f}function Nl(t){var r=Lo(t);return r.length==1&&r[0][2]?ta(r[0][0],r[0][1]):function(o){return o===t||po(o,t,r)}}function _l(t,r){return Eo(t)&&ea(r)?ta(dr(t),r):function(o){var f=Wo(o,t);return f===s&&f===r?Uo(o,t):En(r,f,g|N)}}function vc(t,r,o,f,I){t!==r&&lo(r,function(O,K){if(I||(I=new Ds),as(O))Om(t,r,K,o,vc,f,I);else{var ue=f?f(Po(t,K),O,K+"",t,r,I):s;ue===s&&(ue=O),oo(t,K,ue)}},Rs)}function Om(t,r,o,f,I,O,K){var ue=Po(t,o),ve=Po(r,o),Ze=K.get(ve);if(Ze){oo(t,o,Ze);return}var Je=O?O(ue,ve,o+"",t,r,K):s,tt=Je===s;if(tt){var gt=Bt(ve),Ct=!gt&&$r(ve),It=!gt&&!Ct&&hn(ve);Je=ve,gt||Ct||It?Bt(ue)?Je=ue:ms(ue)?Je=ks(ue):Ct?(tt=!1,Je=Pl(ve,!0)):It?(tt=!1,Je=Fl(ve,!0)):Je=[]:Bn(ve)||en(ve)?(Je=ue,en(ue)?Je=Ra(ue):(!as(ue)||_r(ue))&&(Je=Dl(ve))):tt=!1}tt&&(K.set(ve,Je),I(Je,ve,f,O,K),K.delete(ve)),oo(t,o,Je)}function wl(t,r){var o=t.length;if(o)return r+=r<0?o:0,Nr(r,o)?t[r]:s}function Cl(t,r,o){r.length?r=ls(r,function(O){return Bt(O)?function(K){return Kr(K,O.length===1?O[0]:O)}:O}):r=[Es];var f=-1;r=ls(r,zs(Tt()));var I=vl(t,function(O,K,ue){var ve=ls(r,function(Ze){return Ze(O)});return{criteria:ve,index:++f,value:O}});return hu(I,function(O,K){return ep(O,K,o)})}function Wm(t,r){return yl(t,r,function(o,f){return Uo(t,f)})}function yl(t,r,o){for(var f=-1,I=r.length,O={};++f<I;){var K=r[f],ue=Kr(t,K);o(ue,K)&&An(O,Hr(K,t),ue)}return O}function Um(t){return function(r){return Kr(r,t)}}function xo(t,r,o,f){var I=f?pu:sn,O=-1,K=r.length,ue=t;for(t===r&&(r=ks(r)),o&&(ue=ls(t,zs(o)));++O<K;)for(var ve=0,Ze=r[O],Je=o?o(Ze):Ze;(ve=I(ue,Je,ve,f))>-1;)ue!==t&&dc.call(ue,ve,1),dc.call(t,ve,1);return t}function Sl(t,r){for(var o=t?r.length:0,f=o-1;o--;){var I=r[o];if(o==f||I!==O){var O=I;Nr(I)?dc.call(t,I,1):vo(t,I)}}return t}function fo(t,r){return t+pc(ol()*(r-t+1))}function qm(t,r,o,f){for(var I=-1,O=gs(mc((r-t)/(o||1)),0),K=ze(O);O--;)K[f?O:++I]=t,t+=o;return K}function jo(t,r){var o="";if(!t||r<1||r>q)return o;do r%2&&(o+=t),r=pc(r/2),r&&(t+=t);while(r);return o}function Wt(t,r){return Fo(sa(t,r,Es),t+"")}function Gm(t){return al(gn(t))}function Qm(t,r){var o=gn(t);return Lc(o,Xr(r,0,o.length))}function An(t,r,o,f){if(!as(t))return t;r=Hr(r,t);for(var I=-1,O=r.length,K=O-1,ue=t;ue!=null&&++I<O;){var ve=dr(r[I]),Ze=o;if(ve==="__proto__"||ve==="constructor"||ve==="prototype")return t;if(I!=K){var Je=ue[ve];Ze=f?f(Je,ve,ue):s,Ze===s&&(Ze=as(Je)?Je:Nr(r[I+1])?[]:{})}kn(ue,ve,Ze),ue=ue[ve]}return t}var Tl=hc?function(t,r){return hc.set(t,r),t}:Es,Ym=uc?function(t,r){return uc(t,"toString",{configurable:!0,enumerable:!1,value:Go(r),writable:!0})}:Es;function Zm(t){return Lc(gn(t))}function Ys(t,r,o){var f=-1,I=t.length;r<0&&(r=-r>I?0:I+r),o=o>I?I:o,o<0&&(o+=I),I=r>o?0:o-r>>>0,r>>>=0;for(var O=ze(I);++f<I;)O[f]=t[f+r];return O}function Jm(t,r){var o;return zr(t,function(f,I,O){return o=r(f,I,O),!o}),!!o}function Nc(t,r,o){var f=0,I=t==null?f:t.length;if(typeof r=="number"&&r===r&&I<=Se){for(;f<I;){var O=f+I>>>1,K=t[O];K!==null&&!Hs(K)&&(o?K<=r:K<r)?f=O+1:I=O}return I}return bo(t,r,Es,o)}function bo(t,r,o,f){var I=0,O=t==null?0:t.length;if(O===0)return 0;r=o(r);for(var K=r!==r,ue=r===null,ve=Hs(r),Ze=r===s;I<O;){var Je=pc((I+O)/2),tt=o(t[Je]),gt=tt!==s,Ct=tt===null,It=tt===tt,Ot=Hs(tt);if(K)var kt=f||It;else Ze?kt=It&&(f||gt):ue?kt=It&&gt&&(f||!Ct):ve?kt=It&&gt&&!Ct&&(f||!Ot):Ct||Ot?kt=!1:kt=f?tt<=r:tt<r;kt?I=Je+1:O=Je}return Ns(O,Pe)}function Il(t,r){for(var o=-1,f=t.length,I=0,O=[];++o<f;){var K=t[o],ue=r?r(K):K;if(!o||!er(ue,ve)){var ve=ue;O[I++]=K===0?0:K}}return O}function kl(t){return typeof t=="number"?t:Hs(t)?Y:+t}function Bs(t){if(typeof t=="string")return t;if(Bt(t))return ls(t,Bs)+"";if(Hs(t))return il?il.call(t):"";var r=t+"";return r=="0"&&1/t==-k?"-0":r}function Br(t,r,o){var f=-1,I=ec,O=t.length,K=!0,ue=[],ve=ue;if(o)K=!1,I=Yc;else if(O>=w){var Ze=r?null:op(t);if(Ze)return sc(Ze);K=!1,I=wn,ve=new Jr}else ve=r?[]:ue;e:for(;++f<O;){var Je=t[f],tt=r?r(Je):Je;if(Je=o||Je!==0?Je:0,K&&tt===tt){for(var gt=ve.length;gt--;)if(ve[gt]===tt)continue e;r&&ve.push(tt),ue.push(Je)}else I(ve,tt,o)||(ve!==ue&&ve.push(tt),ue.push(Je))}return ue}function vo(t,r){return r=Hr(r,t),t=ra(t,r),t==null||delete t[dr(Zs(r))]}function Ll(t,r,o,f){return An(t,r,o(Kr(t,r)),f)}function _c(t,r,o,f){for(var I=t.length,O=f?I:-1;(f?O--:++O<I)&&r(t[O],O,t););return o?Ys(t,f?0:O,f?O+1:I):Ys(t,f?O+1:0,f?I:O)}function Rl(t,r){var o=t;return o instanceof Gt&&(o=o.value()),Zc(r,function(f,I){return I.func.apply(I.thisArg,Ar([f],I.args))},o)}function No(t,r,o){var f=t.length;if(f<2)return f?Br(t[0]):[];for(var I=-1,O=ze(f);++I<f;)for(var K=t[I],ue=-1;++ue<f;)ue!=I&&(O[I]=Ln(O[I]||K,t[ue],r,o));return Br(js(O,1),r,o)}function El(t,r,o){for(var f=-1,I=t.length,O=r.length,K={};++f<I;){var ue=f<O?r[f]:s;o(K,t[f],ue)}return K}function _o(t){return ms(t)?t:[]}function wo(t){return typeof t=="function"?t:Es}function Hr(t,r){return Bt(t)?t:Eo(t,r)?[t]:ia(es(t))}var Xm=Wt;function Mr(t,r,o){var f=t.length;return o=o===s?f:o,!r&&o>=f?t:Ys(t,r,o)}var Al=Bu||function(t){return fs.clearTimeout(t)};function Pl(t,r){if(r)return t.slice();var o=t.length,f=tl?tl(o):new t.constructor(o);return t.copy(f),f}function Co(t){var r=new t.constructor(t.byteLength);return new lc(r).set(new lc(t)),r}function Km(t,r){var o=r?Co(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}function Vm(t){var r=new t.constructor(t.source,ie.exec(t));return r.lastIndex=t.lastIndex,r}function Dm(t){return In?rs(In.call(t)):{}}function Fl(t,r){var o=r?Co(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function zl(t,r){if(t!==r){var o=t!==s,f=t===null,I=t===t,O=Hs(t),K=r!==s,ue=r===null,ve=r===r,Ze=Hs(r);if(!ue&&!Ze&&!O&&t>r||O&&K&&ve&&!ue&&!Ze||f&&K&&ve||!o&&ve||!I)return 1;if(!f&&!O&&!Ze&&t<r||Ze&&o&&I&&!f&&!O||ue&&o&&I||!K&&I||!ve)return-1}return 0}function ep(t,r,o){for(var f=-1,I=t.criteria,O=r.criteria,K=I.length,ue=o.length;++f<K;){var ve=zl(I[f],O[f]);if(ve){if(f>=ue)return ve;var Ze=o[f];return ve*(Ze=="desc"?-1:1)}}return t.index-r.index}function Bl(t,r,o,f){for(var I=-1,O=t.length,K=o.length,ue=-1,ve=r.length,Ze=gs(O-K,0),Je=ze(ve+Ze),tt=!f;++ue<ve;)Je[ue]=r[ue];for(;++I<K;)(tt||I<O)&&(Je[o[I]]=t[I]);for(;Ze--;)Je[ue++]=t[I++];return Je}function Hl(t,r,o,f){for(var I=-1,O=t.length,K=-1,ue=o.length,ve=-1,Ze=r.length,Je=gs(O-ue,0),tt=ze(Je+Ze),gt=!f;++I<Je;)tt[I]=t[I];for(var Ct=I;++ve<Ze;)tt[Ct+ve]=r[ve];for(;++K<ue;)(gt||I<O)&&(tt[Ct+o[K]]=t[I++]);return tt}function ks(t,r){var o=-1,f=t.length;for(r||(r=ze(f));++o<f;)r[o]=t[o];return r}function ar(t,r,o,f){var I=!o;o||(o={});for(var O=-1,K=r.length;++O<K;){var ue=r[O],ve=f?f(o[ue],t[ue],ue,o,t):s;ve===s&&(ve=t[ue]),I?jr(o,ue,ve):kn(o,ue,ve)}return o}function tp(t,r){return ar(t,Ro(t),r)}function sp(t,r){return ar(t,Kl(t),r)}function wc(t,r){return function(o,f){var I=Bt(o)?iu:Cm,O=r?r():{};return I(o,t,Tt(f,2),O)}}function un(t){return Wt(function(r,o){var f=-1,I=o.length,O=I>1?o[I-1]:s,K=I>2?o[2]:s;for(O=t.length>3&&typeof O=="function"?(I--,O):s,K&&ys(o[0],o[1],K)&&(O=I<3?s:O,I=1),r=rs(r);++f<I;){var ue=o[f];ue&&t(r,ue,f,O)}return r})}function Ml(t,r){return function(o,f){if(o==null)return o;if(!Ls(o))return t(o,f);for(var I=o.length,O=r?I:-1,K=rs(o);(r?O--:++O<I)&&f(K[O],O,K)!==!1;);return o}}function $l(t){return function(r,o,f){for(var I=-1,O=rs(r),K=f(r),ue=K.length;ue--;){var ve=K[t?ue:++I];if(o(O[ve],ve,O)===!1)break}return r}}function rp(t,r,o){var f=r&u,I=Pn(t);function O(){var K=this&&this!==fs&&this instanceof O?I:t;return K.apply(f?o:this,arguments)}return O}function Ol(t){return function(r){r=es(r);var o=rn(r)?Vs(r):s,f=o?o[0]:r.charAt(0),I=o?Mr(o,1).join(""):r.slice(1);return f[t]()+I}}function mn(t){return function(r){return Zc(Ma(Ha(r).replace(Vn,"")),t,"")}}function Pn(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var o=dn(t.prototype),f=t.apply(o,r);return as(f)?f:o}}function np(t,r,o){var f=Pn(t);function I(){for(var O=arguments.length,K=ze(O),ue=O,ve=pn(I);ue--;)K[ue]=arguments[ue];var Ze=O<3&&K[0]!==ve&&K[O-1]!==ve?[]:Pr(K,ve);if(O-=Ze.length,O<o)return Ql(t,r,Cc,I.placeholder,s,K,Ze,s,s,o-O);var Je=this&&this!==fs&&this instanceof I?f:t;return Fs(Je,this,K)}return I}function Wl(t){return function(r,o,f){var I=rs(r);if(!Ls(r)){var O=Tt(o,3);r=xs(r),o=function(ue){return O(I[ue],ue,I)}}var K=t(r,o,f);return K>-1?I[O?r[K]:K]:s}}function Ul(t){return vr(function(r){var o=r.length,f=o,I=Gs.prototype.thru;for(t&&r.reverse();f--;){var O=r[f];if(typeof O!="function")throw new qs(p);if(I&&!K&&Ic(O)=="wrapper")var K=new Gs([],!0)}for(f=K?f:o;++f<o;){O=r[f];var ue=Ic(O),ve=ue=="wrapper"?ko(O):s;ve&&Ao(ve[0])&&ve[1]==(S|C|E|F)&&!ve[4].length&&ve[9]==1?K=K[Ic(ve[0])].apply(K,ve[3]):K=O.length==1&&Ao(O)?K[ue]():K.thru(O)}return function(){var Ze=arguments,Je=Ze[0];if(K&&Ze.length==1&&Bt(Je))return K.plant(Je).value();for(var tt=0,gt=o?r[tt].apply(this,Ze):Je;++tt<o;)gt=r[tt].call(this,gt);return gt}})}function Cc(t,r,o,f,I,O,K,ue,ve,Ze){var Je=r&S,tt=r&u,gt=r&_,Ct=r&(C|z),It=r&y,Ot=gt?s:Pn(t);function kt(){for(var qt=arguments.length,Zt=ze(qt),Ms=qt;Ms--;)Zt[Ms]=arguments[Ms];if(Ct)var Ss=pn(kt),$s=xu(Zt,Ss);if(f&&(Zt=Bl(Zt,f,I,Ct)),O&&(Zt=Hl(Zt,O,K,Ct)),qt-=$s,Ct&&qt<Ze){var ps=Pr(Zt,Ss);return Ql(t,r,Cc,kt.placeholder,o,Zt,ps,ue,ve,Ze-qt)}var tr=tt?o:this,Cr=gt?tr[t]:t;return qt=Zt.length,ue?Zt=Cp(Zt,ue):It&&qt>1&&Zt.reverse(),Je&&ve<qt&&(Zt.length=ve),this&&this!==fs&&this instanceof kt&&(Cr=Ot||Pn(Cr)),Cr.apply(tr,Zt)}return kt}function ql(t,r){return function(o,f){return Em(o,t,r(f),{})}}function yc(t,r){return function(o,f){var I;if(o===s&&f===s)return r;if(o!==s&&(I=o),f!==s){if(I===s)return f;typeof o=="string"||typeof f=="string"?(o=Bs(o),f=Bs(f)):(o=kl(o),f=kl(f)),I=t(o,f)}return I}}function yo(t){return vr(function(r){return r=ls(r,zs(Tt())),Wt(function(o){var f=this;return t(r,function(I){return Fs(I,f,o)})})})}function Sc(t,r){r=r===s?" ":Bs(r);var o=r.length;if(o<2)return o?jo(r,t):r;var f=jo(r,mc(t/nn(r)));return rn(r)?Mr(Vs(f),0,t).join(""):f.slice(0,t)}function cp(t,r,o,f){var I=r&u,O=Pn(t);function K(){for(var ue=-1,ve=arguments.length,Ze=-1,Je=f.length,tt=ze(Je+ve),gt=this&&this!==fs&&this instanceof K?O:t;++Ze<Je;)tt[Ze]=f[Ze];for(;ve--;)tt[Ze++]=arguments[++ue];return Fs(gt,I?o:this,tt)}return K}function Gl(t){return function(r,o,f){return f&&typeof f!="number"&&ys(r,o,f)&&(o=f=s),r=wr(r),o===s?(o=r,r=0):o=wr(o),f=f===s?r<o?1:-1:wr(f),qm(r,o,f,t)}}function Tc(t){return function(r,o){return typeof r=="string"&&typeof o=="string"||(r=Js(r),o=Js(o)),t(r,o)}}function Ql(t,r,o,f,I,O,K,ue,ve,Ze){var Je=r&C,tt=Je?K:s,gt=Je?s:K,Ct=Je?O:s,It=Je?s:O;r|=Je?E:M,r&=~(Je?M:E),r&j||(r&=~(u|_));var Ot=[t,r,I,Ct,tt,It,gt,ue,ve,Ze],kt=o.apply(s,Ot);return Ao(t)&&na(kt,Ot),kt.placeholder=f,ca(kt,t,r)}function So(t){var r=hs[t];return function(o,f){if(o=Js(o),f=f==null?0:Ns(Mt(f),292),f&&cl(o)){var I=(es(o)+"e").split("e"),O=r(I[0]+"e"+(+I[1]+f));return I=(es(O)+"e").split("e"),+(I[0]+"e"+(+I[1]-f))}return r(o)}}var op=ln&&1/sc(new ln([,-0]))[1]==k?function(t){return new ln(t)}:Zo;function Yl(t){return function(r){var o=_s(r);return o==J?to(r):o==R?wu(r):gu(r,t(r))}}function br(t,r,o,f,I,O,K,ue){var ve=r&_;if(!ve&&typeof t!="function")throw new qs(p);var Ze=f?f.length:0;if(Ze||(r&=~(E|M),f=I=s),K=K===s?K:gs(Mt(K),0),ue=ue===s?ue:Mt(ue),Ze-=I?I.length:0,r&M){var Je=f,tt=I;f=I=s}var gt=ve?s:ko(t),Ct=[t,r,o,f,I,Je,tt,O,K,ue];if(gt&&Np(Ct,gt),t=Ct[0],r=Ct[1],o=Ct[2],f=Ct[3],I=Ct[4],ue=Ct[9]=Ct[9]===s?ve?0:t.length:gs(Ct[9]-Ze,0),!ue&&r&(C|z)&&(r&=~(C|z)),!r||r==u)var It=rp(t,r,o);else r==C||r==z?It=np(t,r,ue):(r==E||r==(u|E))&&!I.length?It=cp(t,r,o,f):It=Cc.apply(s,Ct);var Ot=gt?Tl:na;return ca(Ot(It,Ct),t,r)}function Zl(t,r,o,f){return t===s||er(t,on[o])&&!ts.call(f,o)?r:t}function Jl(t,r,o,f,I,O){return as(t)&&as(r)&&(O.set(r,t),vc(t,r,s,Jl,O),O.delete(r)),t}function ip(t){return Bn(t)?s:t}function Xl(t,r,o,f,I,O){var K=o&g,ue=t.length,ve=r.length;if(ue!=ve&&!(K&&ve>ue))return!1;var Ze=O.get(t),Je=O.get(r);if(Ze&&Je)return Ze==r&&Je==t;var tt=-1,gt=!0,Ct=o&N?new Jr:s;for(O.set(t,r),O.set(r,t);++tt<ue;){var It=t[tt],Ot=r[tt];if(f)var kt=K?f(Ot,It,tt,r,t,O):f(It,Ot,tt,t,r,O);if(kt!==s){if(kt)continue;gt=!1;break}if(Ct){if(!Jc(r,function(qt,Zt){if(!wn(Ct,Zt)&&(It===qt||I(It,qt,o,f,O)))return Ct.push(Zt)})){gt=!1;break}}else if(!(It===Ot||I(It,Ot,o,f,O))){gt=!1;break}}return O.delete(t),O.delete(r),gt}function lp(t,r,o,f,I,O,K){switch(o){case ft:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case Qe:return!(t.byteLength!=r.byteLength||!O(new lc(t),new lc(r)));case ye:case Te:case he:return er(+t,+r);case Q:return t.name==r.name&&t.message==r.message;case Z:case ce:return t==r+"";case J:var ue=to;case R:var ve=f&g;if(ue||(ue=sc),t.size!=r.size&&!ve)return!1;var Ze=K.get(t);if(Ze)return Ze==r;f|=N,K.set(t,r);var Je=Xl(ue(t),ue(r),f,I,O,K);return K.delete(t),Je;case te:if(In)return In.call(t)==In.call(r)}return!1}function ap(t,r,o,f,I,O){var K=o&g,ue=To(t),ve=ue.length,Ze=To(r),Je=Ze.length;if(ve!=Je&&!K)return!1;for(var tt=ve;tt--;){var gt=ue[tt];if(!(K?gt in r:ts.call(r,gt)))return!1}var Ct=O.get(t),It=O.get(r);if(Ct&&It)return Ct==r&&It==t;var Ot=!0;O.set(t,r),O.set(r,t);for(var kt=K;++tt<ve;){gt=ue[tt];var qt=t[gt],Zt=r[gt];if(f)var Ms=K?f(Zt,qt,gt,r,t,O):f(qt,Zt,gt,t,r,O);if(!(Ms===s?qt===Zt||I(qt,Zt,o,f,O):Ms)){Ot=!1;break}kt||(kt=gt=="constructor")}if(Ot&&!kt){var Ss=t.constructor,$s=r.constructor;Ss!=$s&&"constructor"in t&&"constructor"in r&&!(typeof Ss=="function"&&Ss instanceof Ss&&typeof $s=="function"&&$s instanceof $s)&&(Ot=!1)}return O.delete(t),O.delete(r),Ot}function vr(t){return Fo(sa(t,s,ua),t+"")}function To(t){return xl(t,xs,Ro)}function Io(t){return xl(t,Rs,Kl)}var ko=hc?function(t){return hc.get(t)}:Zo;function Ic(t){for(var r=t.name+"",o=an[r],f=ts.call(an,r)?o.length:0;f--;){var I=o[f],O=I.func;if(O==null||O==t)return I.name}return r}function pn(t){var r=ts.call(H,"placeholder")?H:t;return r.placeholder}function Tt(){var t=H.iteratee||Qo;return t=t===Qo?bl:t,arguments.length?t(arguments[0],arguments[1]):t}function kc(t,r){var o=t.__data__;return fp(r)?o[typeof r=="string"?"string":"hash"]:o.map}function Lo(t){for(var r=xs(t),o=r.length;o--;){var f=r[o],I=t[f];r[o]=[f,I,ea(I)]}return r}function Vr(t,r){var o=vu(t,r);return jl(o)?o:s}function dp(t){var r=ts.call(t,Yr),o=t[Yr];try{t[Yr]=s;var f=!0}catch{}var I=oc.call(t);return f&&(r?t[Yr]=o:delete t[Yr]),I}var Ro=ro?function(t){return t==null?[]:(t=rs(t),Er(ro(t),function(r){return rl.call(t,r)}))}:Jo,Kl=ro?function(t){for(var r=[];t;)Ar(r,Ro(t)),t=ac(t);return r}:Jo,_s=Cs;(no&&_s(new no(new ArrayBuffer(1)))!=ft||yn&&_s(new yn)!=J||co&&_s(co.resolve())!=xe||ln&&_s(new ln)!=R||Sn&&_s(new Sn)!=Lt)&&(_s=function(t){var r=Cs(t),o=r==Ge?t.constructor:s,f=o?Dr(o):"";if(f)switch(f){case Qu:return ft;case Yu:return J;case Zu:return xe;case Ju:return R;case Xu:return Lt}return r});function up(t,r,o){for(var f=-1,I=o.length;++f<I;){var O=o[f],K=O.size;switch(O.type){case"drop":t+=K;break;case"dropRight":r-=K;break;case"take":r=Ns(r,t+K);break;case"takeRight":t=gs(t,r-K);break}}return{start:t,end:r}}function mp(t){var r=t.match(be);return r?r[1].split(re):[]}function Vl(t,r,o){r=Hr(r,t);for(var f=-1,I=r.length,O=!1;++f<I;){var K=dr(r[f]);if(!(O=t!=null&&o(t,K)))break;t=t[K]}return O||++f!=I?O:(I=t==null?0:t.length,!!I&&zc(I)&&Nr(K,I)&&(Bt(t)||en(t)))}function pp(t){var r=t.length,o=new t.constructor(r);return r&&typeof t[0]=="string"&&ts.call(t,"index")&&(o.index=t.index,o.input=t.input),o}function Dl(t){return typeof t.constructor=="function"&&!Fn(t)?dn(ac(t)):{}}function hp(t,r,o){var f=t.constructor;switch(r){case Qe:return Co(t);case ye:case Te:return new f(+t);case ft:return Km(t,o);case xt:case dt:case _t:case De:case ut:case Le:case ot:case B:case rt:return Fl(t,o);case J:return new f;case he:case ce:return new f(t);case Z:return Vm(t);case R:return new f;case te:return Dm(t)}}function gp(t,r){var o=r.length;if(!o)return t;var f=o-1;return r[f]=(o>1?"& ":"")+r[f],r=r.join(o>2?", ":" "),t.replace(it,`{
/* [wrapped with `+r+`] */
`)}function xp(t){return Bt(t)||en(t)||!!(nl&&t&&t[nl])}function Nr(t,r){var o=typeof t;return r=r??q,!!r&&(o=="number"||o!="symbol"&&vs.test(t))&&t>-1&&t%1==0&&t<r}function ys(t,r,o){if(!as(o))return!1;var f=typeof r;return(f=="number"?Ls(o)&&Nr(r,o.length):f=="string"&&r in o)?er(o[r],t):!1}function Eo(t,r){if(Bt(t))return!1;var o=typeof t;return o=="number"||o=="symbol"||o=="boolean"||t==null||Hs(t)?!0:Qt.test(t)||!Kt.test(t)||r!=null&&t in rs(r)}function fp(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}function Ao(t){var r=Ic(t),o=H[r];if(typeof o!="function"||!(r in Gt.prototype))return!1;if(t===o)return!0;var f=ko(o);return!!f&&t===f[0]}function jp(t){return!!el&&el in t}var bp=nc?_r:Xo;function Fn(t){var r=t&&t.constructor,o=typeof r=="function"&&r.prototype||on;return t===o}function ea(t){return t===t&&!as(t)}function ta(t,r){return function(o){return o==null?!1:o[t]===r&&(r!==s||t in rs(o))}}function vp(t){var r=Pc(t,function(f){return o.size===a&&o.clear(),f}),o=r.cache;return r}function Np(t,r){var o=t[1],f=r[1],I=o|f,O=I<(u|_|S),K=f==S&&o==C||f==S&&o==F&&t[7].length<=r[8]||f==(S|F)&&r[7].length<=r[8]&&o==C;if(!(O||K))return t;f&u&&(t[2]=r[2],I|=o&u?0:j);var ue=r[3];if(ue){var ve=t[3];t[3]=ve?Bl(ve,ue,r[4]):ue,t[4]=ve?Pr(t[3],n):r[4]}return ue=r[5],ue&&(ve=t[5],t[5]=ve?Hl(ve,ue,r[6]):ue,t[6]=ve?Pr(t[5],n):r[6]),ue=r[7],ue&&(t[7]=ue),f&S&&(t[8]=t[8]==null?r[8]:Ns(t[8],r[8])),t[9]==null&&(t[9]=r[9]),t[0]=r[0],t[1]=I,t}function _p(t){var r=[];if(t!=null)for(var o in rs(t))r.push(o);return r}function wp(t){return oc.call(t)}function sa(t,r,o){return r=gs(r===s?t.length-1:r,0),function(){for(var f=arguments,I=-1,O=gs(f.length-r,0),K=ze(O);++I<O;)K[I]=f[r+I];I=-1;for(var ue=ze(r+1);++I<r;)ue[I]=f[I];return ue[r]=o(K),Fs(t,this,ue)}}function ra(t,r){return r.length<2?t:Kr(t,Ys(r,0,-1))}function Cp(t,r){for(var o=t.length,f=Ns(r.length,o),I=ks(t);f--;){var O=r[f];t[f]=Nr(O,o)?I[O]:s}return t}function Po(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}var na=oa(Tl),zn=Mu||function(t,r){return fs.setTimeout(t,r)},Fo=oa(Ym);function ca(t,r,o){var f=r+"";return Fo(t,gp(f,yp(mp(f),o)))}function oa(t){var r=0,o=0;return function(){var f=Uu(),I=oe-(f-o);if(o=f,I>0){if(++r>=ee)return arguments[0]}else r=0;return t.apply(s,arguments)}}function Lc(t,r){var o=-1,f=t.length,I=f-1;for(r=r===s?f:r;++o<r;){var O=fo(o,I),K=t[O];t[O]=t[o],t[o]=K}return t.length=r,t}var ia=vp(function(t){var r=[];return t.charCodeAt(0)===46&&r.push(""),t.replace(Vt,function(o,f,I,O){r.push(I?O.replace(Re,"$1"):f||o)}),r});function dr(t){if(typeof t=="string"||Hs(t))return t;var r=t+"";return r=="0"&&1/t==-k?"-0":r}function Dr(t){if(t!=null){try{return cc.call(t)}catch{}try{return t+""}catch{}}return""}function yp(t,r){return Us(_e,function(o){var f="_."+o[0];r&o[1]&&!ec(t,f)&&t.push(f)}),t.sort()}function la(t){if(t instanceof Gt)return t.clone();var r=new Gs(t.__wrapped__,t.__chain__);return r.__actions__=ks(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}function Sp(t,r,o){(o?ys(t,r,o):r===s)?r=1:r=gs(Mt(r),0);var f=t==null?0:t.length;if(!f||r<1)return[];for(var I=0,O=0,K=ze(mc(f/r));I<f;)K[O++]=Ys(t,I,I+=r);return K}function Tp(t){for(var r=-1,o=t==null?0:t.length,f=0,I=[];++r<o;){var O=t[r];O&&(I[f++]=O)}return I}function Ip(){var t=arguments.length;if(!t)return[];for(var r=ze(t-1),o=arguments[0],f=t;f--;)r[f-1]=arguments[f];return Ar(Bt(o)?ks(o):[o],js(r,1))}var kp=Wt(function(t,r){return ms(t)?Ln(t,js(r,1,ms,!0)):[]}),Lp=Wt(function(t,r){var o=Zs(r);return ms(o)&&(o=s),ms(t)?Ln(t,js(r,1,ms,!0),Tt(o,2)):[]}),Rp=Wt(function(t,r){var o=Zs(r);return ms(o)&&(o=s),ms(t)?Ln(t,js(r,1,ms,!0),s,o):[]});function Ep(t,r,o){var f=t==null?0:t.length;return f?(r=o||r===s?1:Mt(r),Ys(t,r<0?0:r,f)):[]}function Ap(t,r,o){var f=t==null?0:t.length;return f?(r=o||r===s?1:Mt(r),r=f-r,Ys(t,0,r<0?0:r)):[]}function Pp(t,r){return t&&t.length?_c(t,Tt(r,3),!0,!0):[]}function Fp(t,r){return t&&t.length?_c(t,Tt(r,3),!0):[]}function zp(t,r,o,f){var I=t==null?0:t.length;return I?(o&&typeof o!="number"&&ys(t,r,o)&&(o=0,f=I),Im(t,r,o,f)):[]}function aa(t,r,o){var f=t==null?0:t.length;if(!f)return-1;var I=o==null?0:Mt(o);return I<0&&(I=gs(f+I,0)),tc(t,Tt(r,3),I)}function da(t,r,o){var f=t==null?0:t.length;if(!f)return-1;var I=f-1;return o!==s&&(I=Mt(o),I=o<0?gs(f+I,0):Ns(I,f-1)),tc(t,Tt(r,3),I,!0)}function ua(t){var r=t==null?0:t.length;return r?js(t,1):[]}function Bp(t){var r=t==null?0:t.length;return r?js(t,k):[]}function Hp(t,r){var o=t==null?0:t.length;return o?(r=r===s?1:Mt(r),js(t,r)):[]}function Mp(t){for(var r=-1,o=t==null?0:t.length,f={};++r<o;){var I=t[r];f[I[0]]=I[1]}return f}function ma(t){return t&&t.length?t[0]:s}function $p(t,r,o){var f=t==null?0:t.length;if(!f)return-1;var I=o==null?0:Mt(o);return I<0&&(I=gs(f+I,0)),sn(t,r,I)}function Op(t){var r=t==null?0:t.length;return r?Ys(t,0,-1):[]}var Wp=Wt(function(t){var r=ls(t,_o);return r.length&&r[0]===t[0]?mo(r):[]}),Up=Wt(function(t){var r=Zs(t),o=ls(t,_o);return r===Zs(o)?r=s:o.pop(),o.length&&o[0]===t[0]?mo(o,Tt(r,2)):[]}),qp=Wt(function(t){var r=Zs(t),o=ls(t,_o);return r=typeof r=="function"?r:s,r&&o.pop(),o.length&&o[0]===t[0]?mo(o,s,r):[]});function Gp(t,r){return t==null?"":Ou.call(t,r)}function Zs(t){var r=t==null?0:t.length;return r?t[r-1]:s}function Qp(t,r,o){var f=t==null?0:t.length;if(!f)return-1;var I=f;return o!==s&&(I=Mt(o),I=I<0?gs(f+I,0):Ns(I,f-1)),r===r?yu(t,r,I):tc(t,Qi,I,!0)}function Yp(t,r){return t&&t.length?wl(t,Mt(r)):s}var Zp=Wt(pa);function pa(t,r){return t&&t.length&&r&&r.length?xo(t,r):t}function Jp(t,r,o){return t&&t.length&&r&&r.length?xo(t,r,Tt(o,2)):t}function Xp(t,r,o){return t&&t.length&&r&&r.length?xo(t,r,s,o):t}var Kp=vr(function(t,r){var o=t==null?0:t.length,f=io(t,r);return Sl(t,ls(r,function(I){return Nr(I,o)?+I:I}).sort(zl)),f});function Vp(t,r){var o=[];if(!(t&&t.length))return o;var f=-1,I=[],O=t.length;for(r=Tt(r,3);++f<O;){var K=t[f];r(K,f,t)&&(o.push(K),I.push(f))}return Sl(t,I),o}function zo(t){return t==null?t:Gu.call(t)}function Dp(t,r,o){var f=t==null?0:t.length;return f?(o&&typeof o!="number"&&ys(t,r,o)?(r=0,o=f):(r=r==null?0:Mt(r),o=o===s?f:Mt(o)),Ys(t,r,o)):[]}function eh(t,r){return Nc(t,r)}function th(t,r,o){return bo(t,r,Tt(o,2))}function sh(t,r){var o=t==null?0:t.length;if(o){var f=Nc(t,r);if(f<o&&er(t[f],r))return f}return-1}function rh(t,r){return Nc(t,r,!0)}function nh(t,r,o){return bo(t,r,Tt(o,2),!0)}function ch(t,r){var o=t==null?0:t.length;if(o){var f=Nc(t,r,!0)-1;if(er(t[f],r))return f}return-1}function oh(t){return t&&t.length?Il(t):[]}function ih(t,r){return t&&t.length?Il(t,Tt(r,2)):[]}function lh(t){var r=t==null?0:t.length;return r?Ys(t,1,r):[]}function ah(t,r,o){return t&&t.length?(r=o||r===s?1:Mt(r),Ys(t,0,r<0?0:r)):[]}function dh(t,r,o){var f=t==null?0:t.length;return f?(r=o||r===s?1:Mt(r),r=f-r,Ys(t,r<0?0:r,f)):[]}function uh(t,r){return t&&t.length?_c(t,Tt(r,3),!1,!0):[]}function mh(t,r){return t&&t.length?_c(t,Tt(r,3)):[]}var ph=Wt(function(t){return Br(js(t,1,ms,!0))}),hh=Wt(function(t){var r=Zs(t);return ms(r)&&(r=s),Br(js(t,1,ms,!0),Tt(r,2))}),gh=Wt(function(t){var r=Zs(t);return r=typeof r=="function"?r:s,Br(js(t,1,ms,!0),s,r)});function xh(t){return t&&t.length?Br(t):[]}function fh(t,r){return t&&t.length?Br(t,Tt(r,2)):[]}function jh(t,r){return r=typeof r=="function"?r:s,t&&t.length?Br(t,s,r):[]}function Bo(t){if(!(t&&t.length))return[];var r=0;return t=Er(t,function(o){if(ms(o))return r=gs(o.length,r),!0}),Dc(r,function(o){return ls(t,Xc(o))})}function ha(t,r){if(!(t&&t.length))return[];var o=Bo(t);return r==null?o:ls(o,function(f){return Fs(r,s,f)})}var bh=Wt(function(t,r){return ms(t)?Ln(t,r):[]}),vh=Wt(function(t){return No(Er(t,ms))}),Nh=Wt(function(t){var r=Zs(t);return ms(r)&&(r=s),No(Er(t,ms),Tt(r,2))}),_h=Wt(function(t){var r=Zs(t);return r=typeof r=="function"?r:s,No(Er(t,ms),s,r)}),wh=Wt(Bo);function Ch(t,r){return El(t||[],r||[],kn)}function yh(t,r){return El(t||[],r||[],An)}var Sh=Wt(function(t){var r=t.length,o=r>1?t[r-1]:s;return o=typeof o=="function"?(t.pop(),o):s,ha(t,o)});function ga(t){var r=H(t);return r.__chain__=!0,r}function Th(t,r){return r(t),t}function Rc(t,r){return r(t)}var Ih=vr(function(t){var r=t.length,o=r?t[0]:0,f=this.__wrapped__,I=function(O){return io(O,t)};return r>1||this.__actions__.length||!(f instanceof Gt)||!Nr(o)?this.thru(I):(f=f.slice(o,+o+(r?1:0)),f.__actions__.push({func:Rc,args:[I],thisArg:s}),new Gs(f,this.__chain__).thru(function(O){return r&&!O.length&&O.push(s),O}))});function kh(){return ga(this)}function Lh(){return new Gs(this.value(),this.__chain__)}function Rh(){this.__values__===s&&(this.__values__=ka(this.value()));var t=this.__index__>=this.__values__.length,r=t?s:this.__values__[this.__index__++];return{done:t,value:r}}function Eh(){return this}function Ah(t){for(var r,o=this;o instanceof xc;){var f=la(o);f.__index__=0,f.__values__=s,r?I.__wrapped__=f:r=f;var I=f;o=o.__wrapped__}return I.__wrapped__=t,r}function Ph(){var t=this.__wrapped__;if(t instanceof Gt){var r=t;return this.__actions__.length&&(r=new Gt(this)),r=r.reverse(),r.__actions__.push({func:Rc,args:[zo],thisArg:s}),new Gs(r,this.__chain__)}return this.thru(zo)}function Fh(){return Rl(this.__wrapped__,this.__actions__)}var zh=wc(function(t,r,o){ts.call(t,o)?++t[o]:jr(t,o,1)});function Bh(t,r,o){var f=Bt(t)?qi:Tm;return o&&ys(t,r,o)&&(r=s),f(t,Tt(r,3))}function Hh(t,r){var o=Bt(t)?Er:hl;return o(t,Tt(r,3))}var Mh=Wl(aa),$h=Wl(da);function Oh(t,r){return js(Ec(t,r),1)}function Wh(t,r){return js(Ec(t,r),k)}function Uh(t,r,o){return o=o===s?1:Mt(o),js(Ec(t,r),o)}function xa(t,r){var o=Bt(t)?Us:zr;return o(t,Tt(r,3))}function fa(t,r){var o=Bt(t)?lu:pl;return o(t,Tt(r,3))}var qh=wc(function(t,r,o){ts.call(t,o)?t[o].push(r):jr(t,o,[r])});function Gh(t,r,o,f){t=Ls(t)?t:gn(t),o=o&&!f?Mt(o):0;var I=t.length;return o<0&&(o=gs(I+o,0)),Bc(t)?o<=I&&t.indexOf(r,o)>-1:!!I&&sn(t,r,o)>-1}var Qh=Wt(function(t,r,o){var f=-1,I=typeof r=="function",O=Ls(t)?ze(t.length):[];return zr(t,function(K){O[++f]=I?Fs(r,K,o):Rn(K,r,o)}),O}),Yh=wc(function(t,r,o){jr(t,o,r)});function Ec(t,r){var o=Bt(t)?ls:vl;return o(t,Tt(r,3))}function Zh(t,r,o,f){return t==null?[]:(Bt(r)||(r=r==null?[]:[r]),o=f?s:o,Bt(o)||(o=o==null?[]:[o]),Cl(t,r,o))}var Jh=wc(function(t,r,o){t[o?0:1].push(r)},function(){return[[],[]]});function Xh(t,r,o){var f=Bt(t)?Zc:Zi,I=arguments.length<3;return f(t,Tt(r,4),o,I,zr)}function Kh(t,r,o){var f=Bt(t)?au:Zi,I=arguments.length<3;return f(t,Tt(r,4),o,I,pl)}function Vh(t,r){var o=Bt(t)?Er:hl;return o(t,Fc(Tt(r,3)))}function Dh(t){var r=Bt(t)?al:Gm;return r(t)}function eg(t,r,o){(o?ys(t,r,o):r===s)?r=1:r=Mt(r);var f=Bt(t)?_m:Qm;return f(t,r)}function tg(t){var r=Bt(t)?wm:Zm;return r(t)}function sg(t){if(t==null)return 0;if(Ls(t))return Bc(t)?nn(t):t.length;var r=_s(t);return r==J||r==R?t.size:ho(t).length}function rg(t,r,o){var f=Bt(t)?Jc:Jm;return o&&ys(t,r,o)&&(r=s),f(t,Tt(r,3))}var ng=Wt(function(t,r){if(t==null)return[];var o=r.length;return o>1&&ys(t,r[0],r[1])?r=[]:o>2&&ys(r[0],r[1],r[2])&&(r=[r[0]]),Cl(t,js(r,1),[])}),Ac=Hu||function(){return fs.Date.now()};function cg(t,r){if(typeof r!="function")throw new qs(p);return t=Mt(t),function(){if(--t<1)return r.apply(this,arguments)}}function ja(t,r,o){return r=o?s:r,r=t&&r==null?t.length:r,br(t,S,s,s,s,s,r)}function ba(t,r){var o;if(typeof r!="function")throw new qs(p);return t=Mt(t),function(){return--t>0&&(o=r.apply(this,arguments)),t<=1&&(r=s),o}}var Ho=Wt(function(t,r,o){var f=u;if(o.length){var I=Pr(o,pn(Ho));f|=E}return br(t,f,r,o,I)}),va=Wt(function(t,r,o){var f=u|_;if(o.length){var I=Pr(o,pn(va));f|=E}return br(r,f,t,o,I)});function Na(t,r,o){r=o?s:r;var f=br(t,C,s,s,s,s,s,r);return f.placeholder=Na.placeholder,f}function _a(t,r,o){r=o?s:r;var f=br(t,z,s,s,s,s,s,r);return f.placeholder=_a.placeholder,f}function wa(t,r,o){var f,I,O,K,ue,ve,Ze=0,Je=!1,tt=!1,gt=!0;if(typeof t!="function")throw new qs(p);r=Js(r)||0,as(o)&&(Je=!!o.leading,tt="maxWait"in o,O=tt?gs(Js(o.maxWait)||0,r):O,gt="trailing"in o?!!o.trailing:gt);function Ct(ps){var tr=f,Cr=I;return f=I=s,Ze=ps,K=t.apply(Cr,tr),K}function It(ps){return Ze=ps,ue=zn(qt,r),Je?Ct(ps):K}function Ot(ps){var tr=ps-ve,Cr=ps-Ze,Wa=r-tr;return tt?Ns(Wa,O-Cr):Wa}function kt(ps){var tr=ps-ve,Cr=ps-Ze;return ve===s||tr>=r||tr<0||tt&&Cr>=O}function qt(){var ps=Ac();if(kt(ps))return Zt(ps);ue=zn(qt,Ot(ps))}function Zt(ps){return ue=s,gt&&f?Ct(ps):(f=I=s,K)}function Ms(){ue!==s&&Al(ue),Ze=0,f=ve=I=ue=s}function Ss(){return ue===s?K:Zt(Ac())}function $s(){var ps=Ac(),tr=kt(ps);if(f=arguments,I=this,ve=ps,tr){if(ue===s)return It(ve);if(tt)return Al(ue),ue=zn(qt,r),Ct(ve)}return ue===s&&(ue=zn(qt,r)),K}return $s.cancel=Ms,$s.flush=Ss,$s}var og=Wt(function(t,r){return ml(t,1,r)}),ig=Wt(function(t,r,o){return ml(t,Js(r)||0,o)});function lg(t){return br(t,y)}function Pc(t,r){if(typeof t!="function"||r!=null&&typeof r!="function")throw new qs(p);var o=function(){var f=arguments,I=r?r.apply(this,f):f[0],O=o.cache;if(O.has(I))return O.get(I);var K=t.apply(this,f);return o.cache=O.set(I,K)||O,K};return o.cache=new(Pc.Cache||fr),o}Pc.Cache=fr;function Fc(t){if(typeof t!="function")throw new qs(p);return function(){var r=arguments;switch(r.length){case 0:return!t.call(this);case 1:return!t.call(this,r[0]);case 2:return!t.call(this,r[0],r[1]);case 3:return!t.call(this,r[0],r[1],r[2])}return!t.apply(this,r)}}function ag(t){return ba(2,t)}var dg=Xm(function(t,r){r=r.length==1&&Bt(r[0])?ls(r[0],zs(Tt())):ls(js(r,1),zs(Tt()));var o=r.length;return Wt(function(f){for(var I=-1,O=Ns(f.length,o);++I<O;)f[I]=r[I].call(this,f[I]);return Fs(t,this,f)})}),Mo=Wt(function(t,r){var o=Pr(r,pn(Mo));return br(t,E,s,r,o)}),Ca=Wt(function(t,r){var o=Pr(r,pn(Ca));return br(t,M,s,r,o)}),ug=vr(function(t,r){return br(t,F,s,s,s,r)});function mg(t,r){if(typeof t!="function")throw new qs(p);return r=r===s?r:Mt(r),Wt(t,r)}function pg(t,r){if(typeof t!="function")throw new qs(p);return r=r==null?0:gs(Mt(r),0),Wt(function(o){var f=o[r],I=Mr(o,0,r);return f&&Ar(I,f),Fs(t,this,I)})}function hg(t,r,o){var f=!0,I=!0;if(typeof t!="function")throw new qs(p);return as(o)&&(f="leading"in o?!!o.leading:f,I="trailing"in o?!!o.trailing:I),wa(t,r,{leading:f,maxWait:r,trailing:I})}function gg(t){return ja(t,1)}function xg(t,r){return Mo(wo(r),t)}function fg(){if(!arguments.length)return[];var t=arguments[0];return Bt(t)?t:[t]}function jg(t){return Qs(t,b)}function bg(t,r){return r=typeof r=="function"?r:s,Qs(t,b,r)}function vg(t){return Qs(t,i|b)}function Ng(t,r){return r=typeof r=="function"?r:s,Qs(t,i|b,r)}function _g(t,r){return r==null||ul(t,r,xs(r))}function er(t,r){return t===r||t!==t&&r!==r}var wg=Tc(uo),Cg=Tc(function(t,r){return t>=r}),en=fl(function(){return arguments}())?fl:function(t){return ds(t)&&ts.call(t,"callee")&&!rl.call(t,"callee")},Bt=ze.isArray,yg=Hi?zs(Hi):Am;function Ls(t){return t!=null&&zc(t.length)&&!_r(t)}function ms(t){return ds(t)&&Ls(t)}function Sg(t){return t===!0||t===!1||ds(t)&&Cs(t)==ye}var $r=$u||Xo,Tg=Mi?zs(Mi):Pm;function Ig(t){return ds(t)&&t.nodeType===1&&!Bn(t)}function kg(t){if(t==null)return!0;if(Ls(t)&&(Bt(t)||typeof t=="string"||typeof t.splice=="function"||$r(t)||hn(t)||en(t)))return!t.length;var r=_s(t);if(r==J||r==R)return!t.size;if(Fn(t))return!ho(t).length;for(var o in t)if(ts.call(t,o))return!1;return!0}function Lg(t,r){return En(t,r)}function Rg(t,r,o){o=typeof o=="function"?o:s;var f=o?o(t,r):s;return f===s?En(t,r,s,o):!!f}function $o(t){if(!ds(t))return!1;var r=Cs(t);return r==Q||r==Oe||typeof t.message=="string"&&typeof t.name=="string"&&!Bn(t)}function Eg(t){return typeof t=="number"&&cl(t)}function _r(t){if(!as(t))return!1;var r=Cs(t);return r==ne||r==ge||r==ae||r==D}function ya(t){return typeof t=="number"&&t==Mt(t)}function zc(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=q}function as(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}function ds(t){return t!=null&&typeof t=="object"}var Sa=$i?zs($i):zm;function Ag(t,r){return t===r||po(t,r,Lo(r))}function Pg(t,r,o){return o=typeof o=="function"?o:s,po(t,r,Lo(r),o)}function Fg(t){return Ta(t)&&t!=+t}function zg(t){if(bp(t))throw new At(P);return jl(t)}function Bg(t){return t===null}function Hg(t){return t==null}function Ta(t){return typeof t=="number"||ds(t)&&Cs(t)==he}function Bn(t){if(!ds(t)||Cs(t)!=Ge)return!1;var r=ac(t);if(r===null)return!0;var o=ts.call(r,"constructor")&&r.constructor;return typeof o=="function"&&o instanceof o&&cc.call(o)==Pu}var Oo=Oi?zs(Oi):Bm;function Mg(t){return ya(t)&&t>=-q&&t<=q}var Ia=Wi?zs(Wi):Hm;function Bc(t){return typeof t=="string"||!Bt(t)&&ds(t)&&Cs(t)==ce}function Hs(t){return typeof t=="symbol"||ds(t)&&Cs(t)==te}var hn=Ui?zs(Ui):Mm;function $g(t){return t===s}function Og(t){return ds(t)&&_s(t)==Lt}function Wg(t){return ds(t)&&Cs(t)==Pt}var Ug=Tc(go),qg=Tc(function(t,r){return t<=r});function ka(t){if(!t)return[];if(Ls(t))return Bc(t)?Vs(t):ks(t);if(Cn&&t[Cn])return _u(t[Cn]());var r=_s(t),o=r==J?to:r==R?sc:gn;return o(t)}function wr(t){if(!t)return t===0?t:0;if(t=Js(t),t===k||t===-k){var r=t<0?-1:1;return r*V}return t===t?t:0}function Mt(t){var r=wr(t),o=r%1;return r===r?o?r-o:r:0}function La(t){return t?Xr(Mt(t),0,se):0}function Js(t){if(typeof t=="number")return t;if(Hs(t))return Y;if(as(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=as(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=Ji(t);var o=Ue.test(t);return o||Ht.test(t)?cu(t.slice(2),o?2:8):Me.test(t)?Y:+t}function Ra(t){return ar(t,Rs(t))}function Gg(t){return t?Xr(Mt(t),-q,q):t===0?t:0}function es(t){return t==null?"":Bs(t)}var Qg=un(function(t,r){if(Fn(r)||Ls(r)){ar(r,xs(r),t);return}for(var o in r)ts.call(r,o)&&kn(t,o,r[o])}),Ea=un(function(t,r){ar(r,Rs(r),t)}),Hc=un(function(t,r,o,f){ar(r,Rs(r),t,f)}),Yg=un(function(t,r,o,f){ar(r,xs(r),t,f)}),Zg=vr(io);function Jg(t,r){var o=dn(t);return r==null?o:dl(o,r)}var Xg=Wt(function(t,r){t=rs(t);var o=-1,f=r.length,I=f>2?r[2]:s;for(I&&ys(r[0],r[1],I)&&(f=1);++o<f;)for(var O=r[o],K=Rs(O),ue=-1,ve=K.length;++ue<ve;){var Ze=K[ue],Je=t[Ze];(Je===s||er(Je,on[Ze])&&!ts.call(t,Ze))&&(t[Ze]=O[Ze])}return t}),Kg=Wt(function(t){return t.push(s,Jl),Fs(Aa,s,t)});function Vg(t,r){return Gi(t,Tt(r,3),lr)}function Dg(t,r){return Gi(t,Tt(r,3),ao)}function ex(t,r){return t==null?t:lo(t,Tt(r,3),Rs)}function tx(t,r){return t==null?t:gl(t,Tt(r,3),Rs)}function sx(t,r){return t&&lr(t,Tt(r,3))}function rx(t,r){return t&&ao(t,Tt(r,3))}function nx(t){return t==null?[]:bc(t,xs(t))}function cx(t){return t==null?[]:bc(t,Rs(t))}function Wo(t,r,o){var f=t==null?s:Kr(t,r);return f===s?o:f}function ox(t,r){return t!=null&&Vl(t,r,km)}function Uo(t,r){return t!=null&&Vl(t,r,Lm)}var ix=ql(function(t,r,o){r!=null&&typeof r.toString!="function"&&(r=oc.call(r)),t[r]=o},Go(Es)),lx=ql(function(t,r,o){r!=null&&typeof r.toString!="function"&&(r=oc.call(r)),ts.call(t,r)?t[r].push(o):t[r]=[o]},Tt),ax=Wt(Rn);function xs(t){return Ls(t)?ll(t):ho(t)}function Rs(t){return Ls(t)?ll(t,!0):$m(t)}function dx(t,r){var o={};return r=Tt(r,3),lr(t,function(f,I,O){jr(o,r(f,I,O),f)}),o}function ux(t,r){var o={};return r=Tt(r,3),lr(t,function(f,I,O){jr(o,I,r(f,I,O))}),o}var mx=un(function(t,r,o){vc(t,r,o)}),Aa=un(function(t,r,o,f){vc(t,r,o,f)}),px=vr(function(t,r){var o={};if(t==null)return o;var f=!1;r=ls(r,function(O){return O=Hr(O,t),f||(f=O.length>1),O}),ar(t,Io(t),o),f&&(o=Qs(o,i|v|b,ip));for(var I=r.length;I--;)vo(o,r[I]);return o});function hx(t,r){return Pa(t,Fc(Tt(r)))}var gx=vr(function(t,r){return t==null?{}:Wm(t,r)});function Pa(t,r){if(t==null)return{};var o=ls(Io(t),function(f){return[f]});return r=Tt(r),yl(t,o,function(f,I){return r(f,I[0])})}function xx(t,r,o){r=Hr(r,t);var f=-1,I=r.length;for(I||(I=1,t=s);++f<I;){var O=t==null?s:t[dr(r[f])];O===s&&(f=I,O=o),t=_r(O)?O.call(t):O}return t}function fx(t,r,o){return t==null?t:An(t,r,o)}function jx(t,r,o,f){return f=typeof f=="function"?f:s,t==null?t:An(t,r,o,f)}var Fa=Yl(xs),za=Yl(Rs);function bx(t,r,o){var f=Bt(t),I=f||$r(t)||hn(t);if(r=Tt(r,4),o==null){var O=t&&t.constructor;I?o=f?new O:[]:as(t)?o=_r(O)?dn(ac(t)):{}:o={}}return(I?Us:lr)(t,function(K,ue,ve){return r(o,K,ue,ve)}),o}function vx(t,r){return t==null?!0:vo(t,r)}function Nx(t,r,o){return t==null?t:Ll(t,r,wo(o))}function _x(t,r,o,f){return f=typeof f=="function"?f:s,t==null?t:Ll(t,r,wo(o),f)}function gn(t){return t==null?[]:eo(t,xs(t))}function wx(t){return t==null?[]:eo(t,Rs(t))}function Cx(t,r,o){return o===s&&(o=r,r=s),o!==s&&(o=Js(o),o=o===o?o:0),r!==s&&(r=Js(r),r=r===r?r:0),Xr(Js(t),r,o)}function yx(t,r,o){return r=wr(r),o===s?(o=r,r=0):o=wr(o),t=Js(t),Rm(t,r,o)}function Sx(t,r,o){if(o&&typeof o!="boolean"&&ys(t,r,o)&&(r=o=s),o===s&&(typeof r=="boolean"?(o=r,r=s):typeof t=="boolean"&&(o=t,t=s)),t===s&&r===s?(t=0,r=1):(t=wr(t),r===s?(r=t,t=0):r=wr(r)),t>r){var f=t;t=r,r=f}if(o||t%1||r%1){var I=ol();return Ns(t+I*(r-t+nu("1e-"+((I+"").length-1))),r)}return fo(t,r)}var Tx=mn(function(t,r,o){return r=r.toLowerCase(),t+(o?Ba(r):r)});function Ba(t){return qo(es(t).toLowerCase())}function Ha(t){return t=es(t),t&&t.replace(Fe,fu).replace(Dn,"")}function Ix(t,r,o){t=es(t),r=Bs(r);var f=t.length;o=o===s?f:Xr(Mt(o),0,f);var I=o;return o-=r.length,o>=0&&t.slice(o,I)==r}function kx(t){return t=es(t),t&&Ne.test(t)?t.replace(mt,ju):t}function Lx(t){return t=es(t),t&&lt.test(t)?t.replace(He,"\\$&"):t}var Rx=mn(function(t,r,o){return t+(o?"-":"")+r.toLowerCase()}),Ex=mn(function(t,r,o){return t+(o?" ":"")+r.toLowerCase()}),Ax=Ol("toLowerCase");function Px(t,r,o){t=es(t),r=Mt(r);var f=r?nn(t):0;if(!r||f>=r)return t;var I=(r-f)/2;return Sc(pc(I),o)+t+Sc(mc(I),o)}function Fx(t,r,o){t=es(t),r=Mt(r);var f=r?nn(t):0;return r&&f<r?t+Sc(r-f,o):t}function zx(t,r,o){t=es(t),r=Mt(r);var f=r?nn(t):0;return r&&f<r?Sc(r-f,o)+t:t}function Bx(t,r,o){return o||r==null?r=0:r&&(r=+r),qu(es(t).replace(Ke,""),r||0)}function Hx(t,r,o){return(o?ys(t,r,o):r===s)?r=1:r=Mt(r),jo(es(t),r)}function Mx(){var t=arguments,r=es(t[0]);return t.length<3?r:r.replace(t[1],t[2])}var $x=mn(function(t,r,o){return t+(o?"_":"")+r.toLowerCase()});function Ox(t,r,o){return o&&typeof o!="number"&&ys(t,r,o)&&(r=o=s),o=o===s?se:o>>>0,o?(t=es(t),t&&(typeof r=="string"||r!=null&&!Oo(r))&&(r=Bs(r),!r&&rn(t))?Mr(Vs(t),0,o):t.split(r,o)):[]}var Wx=mn(function(t,r,o){return t+(o?" ":"")+qo(r)});function Ux(t,r,o){return t=es(t),o=o==null?0:Xr(Mt(o),0,t.length),r=Bs(r),t.slice(o,o+r.length)==r}function qx(t,r,o){var f=H.templateSettings;o&&ys(t,r,o)&&(r=s),t=es(t),r=Hc({},r,f,Zl);var I=Hc({},r.imports,f.imports,Zl),O=xs(I),K=eo(I,O),ue,ve,Ze=0,Je=r.interpolate||ht,tt="__p += '",gt=so((r.escape||ht).source+"|"+Je.source+"|"+(Je===Ft?St:ht).source+"|"+(r.evaluate||ht).source+"|$","g"),Ct="//# sourceURL="+(ts.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Dd+"]")+`
`;t.replace(gt,function(kt,qt,Zt,Ms,Ss,$s){return Zt||(Zt=Ms),tt+=t.slice(Ze,$s).replace(nt,bu),qt&&(ue=!0,tt+=`' +
__e(`+qt+`) +
'`),Ss&&(ve=!0,tt+=`';
`+Ss+`;
__p += '`),Zt&&(tt+=`' +
((__t = (`+Zt+`)) == null ? '' : __t) +
'`),Ze=$s+kt.length,kt}),tt+=`';
`;var It=ts.call(r,"variable")&&r.variable;if(!It)tt=`with (obj) {
`+tt+`
}
`;else if(pe.test(It))throw new At(h);tt=(ve?tt.replace(vt,""):tt).replace(Nt,"$1").replace($t,"$1;"),tt="function("+(It||"obj")+`) {
`+(It?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ue?", __e = _.escape":"")+(ve?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+tt+`return __p
}`;var Ot=$a(function(){return Xt(O,Ct+"return "+tt).apply(s,K)});if(Ot.source=tt,$o(Ot))throw Ot;return Ot}function Gx(t){return es(t).toLowerCase()}function Qx(t){return es(t).toUpperCase()}function Yx(t,r,o){if(t=es(t),t&&(o||r===s))return Ji(t);if(!t||!(r=Bs(r)))return t;var f=Vs(t),I=Vs(r),O=Xi(f,I),K=Ki(f,I)+1;return Mr(f,O,K).join("")}function Zx(t,r,o){if(t=es(t),t&&(o||r===s))return t.slice(0,Di(t)+1);if(!t||!(r=Bs(r)))return t;var f=Vs(t),I=Ki(f,Vs(r))+1;return Mr(f,0,I).join("")}function Jx(t,r,o){if(t=es(t),t&&(o||r===s))return t.replace(Ke,"");if(!t||!(r=Bs(r)))return t;var f=Vs(t),I=Xi(f,Vs(r));return Mr(f,I).join("")}function Xx(t,r){var o=A,f=U;if(as(r)){var I="separator"in r?r.separator:I;o="length"in r?Mt(r.length):o,f="omission"in r?Bs(r.omission):f}t=es(t);var O=t.length;if(rn(t)){var K=Vs(t);O=K.length}if(o>=O)return t;var ue=o-nn(f);if(ue<1)return f;var ve=K?Mr(K,0,ue).join(""):t.slice(0,ue);if(I===s)return ve+f;if(K&&(ue+=ve.length-ue),Oo(I)){if(t.slice(ue).search(I)){var Ze,Je=ve;for(I.global||(I=so(I.source,es(ie.exec(I))+"g")),I.lastIndex=0;Ze=I.exec(Je);)var tt=Ze.index;ve=ve.slice(0,tt===s?ue:tt)}}else if(t.indexOf(Bs(I),ue)!=ue){var gt=ve.lastIndexOf(I);gt>-1&&(ve=ve.slice(0,gt))}return ve+f}function Kx(t){return t=es(t),t&&fe.test(t)?t.replace(We,Su):t}var Vx=mn(function(t,r,o){return t+(o?" ":"")+r.toUpperCase()}),qo=Ol("toUpperCase");function Ma(t,r,o){return t=es(t),r=o?s:r,r===s?Nu(t)?ku(t):mu(t):t.match(r)||[]}var $a=Wt(function(t,r){try{return Fs(t,s,r)}catch(o){return $o(o)?o:new At(o)}}),Dx=vr(function(t,r){return Us(r,function(o){o=dr(o),jr(t,o,Ho(t[o],t))}),t});function ef(t){var r=t==null?0:t.length,o=Tt();return t=r?ls(t,function(f){if(typeof f[1]!="function")throw new qs(p);return[o(f[0]),f[1]]}):[],Wt(function(f){for(var I=-1;++I<r;){var O=t[I];if(Fs(O[0],this,f))return Fs(O[1],this,f)}})}function tf(t){return Sm(Qs(t,i))}function Go(t){return function(){return t}}function sf(t,r){return t==null||t!==t?r:t}var rf=Ul(),nf=Ul(!0);function Es(t){return t}function Qo(t){return bl(typeof t=="function"?t:Qs(t,i))}function cf(t){return Nl(Qs(t,i))}function of(t,r){return _l(t,Qs(r,i))}var lf=Wt(function(t,r){return function(o){return Rn(o,t,r)}}),af=Wt(function(t,r){return function(o){return Rn(t,o,r)}});function Yo(t,r,o){var f=xs(r),I=bc(r,f);o==null&&!(as(r)&&(I.length||!f.length))&&(o=r,r=t,t=this,I=bc(r,xs(r)));var O=!(as(o)&&"chain"in o)||!!o.chain,K=_r(t);return Us(I,function(ue){var ve=r[ue];t[ue]=ve,K&&(t.prototype[ue]=function(){var Ze=this.__chain__;if(O||Ze){var Je=t(this.__wrapped__),tt=Je.__actions__=ks(this.__actions__);return tt.push({func:ve,args:arguments,thisArg:t}),Je.__chain__=Ze,Je}return ve.apply(t,Ar([this.value()],arguments))})}),t}function df(){return fs._===this&&(fs._=Fu),this}function Zo(){}function uf(t){return t=Mt(t),Wt(function(r){return wl(r,t)})}var mf=yo(ls),pf=yo(qi),hf=yo(Jc);function Oa(t){return Eo(t)?Xc(dr(t)):Um(t)}function gf(t){return function(r){return t==null?s:Kr(t,r)}}var xf=Gl(),ff=Gl(!0);function Jo(){return[]}function Xo(){return!1}function jf(){return{}}function bf(){return""}function vf(){return!0}function Nf(t,r){if(t=Mt(t),t<1||t>q)return[];var o=se,f=Ns(t,se);r=Tt(r),t-=se;for(var I=Dc(f,r);++o<t;)r(o);return I}function _f(t){return Bt(t)?ls(t,dr):Hs(t)?[t]:ks(ia(es(t)))}function wf(t){var r=++Au;return es(t)+r}var Cf=yc(function(t,r){return t+r},0),yf=So("ceil"),Sf=yc(function(t,r){return t/r},1),Tf=So("floor");function If(t){return t&&t.length?jc(t,Es,uo):s}function kf(t,r){return t&&t.length?jc(t,Tt(r,2),uo):s}function Lf(t){return Yi(t,Es)}function Rf(t,r){return Yi(t,Tt(r,2))}function Ef(t){return t&&t.length?jc(t,Es,go):s}function Af(t,r){return t&&t.length?jc(t,Tt(r,2),go):s}var Pf=yc(function(t,r){return t*r},1),Ff=So("round"),zf=yc(function(t,r){return t-r},0);function Bf(t){return t&&t.length?Vc(t,Es):0}function Hf(t,r){return t&&t.length?Vc(t,Tt(r,2)):0}return H.after=cg,H.ary=ja,H.assign=Qg,H.assignIn=Ea,H.assignInWith=Hc,H.assignWith=Yg,H.at=Zg,H.before=ba,H.bind=Ho,H.bindAll=Dx,H.bindKey=va,H.castArray=fg,H.chain=ga,H.chunk=Sp,H.compact=Tp,H.concat=Ip,H.cond=ef,H.conforms=tf,H.constant=Go,H.countBy=zh,H.create=Jg,H.curry=Na,H.curryRight=_a,H.debounce=wa,H.defaults=Xg,H.defaultsDeep=Kg,H.defer=og,H.delay=ig,H.difference=kp,H.differenceBy=Lp,H.differenceWith=Rp,H.drop=Ep,H.dropRight=Ap,H.dropRightWhile=Pp,H.dropWhile=Fp,H.fill=zp,H.filter=Hh,H.flatMap=Oh,H.flatMapDeep=Wh,H.flatMapDepth=Uh,H.flatten=ua,H.flattenDeep=Bp,H.flattenDepth=Hp,H.flip=lg,H.flow=rf,H.flowRight=nf,H.fromPairs=Mp,H.functions=nx,H.functionsIn=cx,H.groupBy=qh,H.initial=Op,H.intersection=Wp,H.intersectionBy=Up,H.intersectionWith=qp,H.invert=ix,H.invertBy=lx,H.invokeMap=Qh,H.iteratee=Qo,H.keyBy=Yh,H.keys=xs,H.keysIn=Rs,H.map=Ec,H.mapKeys=dx,H.mapValues=ux,H.matches=cf,H.matchesProperty=of,H.memoize=Pc,H.merge=mx,H.mergeWith=Aa,H.method=lf,H.methodOf=af,H.mixin=Yo,H.negate=Fc,H.nthArg=uf,H.omit=px,H.omitBy=hx,H.once=ag,H.orderBy=Zh,H.over=mf,H.overArgs=dg,H.overEvery=pf,H.overSome=hf,H.partial=Mo,H.partialRight=Ca,H.partition=Jh,H.pick=gx,H.pickBy=Pa,H.property=Oa,H.propertyOf=gf,H.pull=Zp,H.pullAll=pa,H.pullAllBy=Jp,H.pullAllWith=Xp,H.pullAt=Kp,H.range=xf,H.rangeRight=ff,H.rearg=ug,H.reject=Vh,H.remove=Vp,H.rest=mg,H.reverse=zo,H.sampleSize=eg,H.set=fx,H.setWith=jx,H.shuffle=tg,H.slice=Dp,H.sortBy=ng,H.sortedUniq=oh,H.sortedUniqBy=ih,H.split=Ox,H.spread=pg,H.tail=lh,H.take=ah,H.takeRight=dh,H.takeRightWhile=uh,H.takeWhile=mh,H.tap=Th,H.throttle=hg,H.thru=Rc,H.toArray=ka,H.toPairs=Fa,H.toPairsIn=za,H.toPath=_f,H.toPlainObject=Ra,H.transform=bx,H.unary=gg,H.union=ph,H.unionBy=hh,H.unionWith=gh,H.uniq=xh,H.uniqBy=fh,H.uniqWith=jh,H.unset=vx,H.unzip=Bo,H.unzipWith=ha,H.update=Nx,H.updateWith=_x,H.values=gn,H.valuesIn=wx,H.without=bh,H.words=Ma,H.wrap=xg,H.xor=vh,H.xorBy=Nh,H.xorWith=_h,H.zip=wh,H.zipObject=Ch,H.zipObjectDeep=yh,H.zipWith=Sh,H.entries=Fa,H.entriesIn=za,H.extend=Ea,H.extendWith=Hc,Yo(H,H),H.add=Cf,H.attempt=$a,H.camelCase=Tx,H.capitalize=Ba,H.ceil=yf,H.clamp=Cx,H.clone=jg,H.cloneDeep=vg,H.cloneDeepWith=Ng,H.cloneWith=bg,H.conformsTo=_g,H.deburr=Ha,H.defaultTo=sf,H.divide=Sf,H.endsWith=Ix,H.eq=er,H.escape=kx,H.escapeRegExp=Lx,H.every=Bh,H.find=Mh,H.findIndex=aa,H.findKey=Vg,H.findLast=$h,H.findLastIndex=da,H.findLastKey=Dg,H.floor=Tf,H.forEach=xa,H.forEachRight=fa,H.forIn=ex,H.forInRight=tx,H.forOwn=sx,H.forOwnRight=rx,H.get=Wo,H.gt=wg,H.gte=Cg,H.has=ox,H.hasIn=Uo,H.head=ma,H.identity=Es,H.includes=Gh,H.indexOf=$p,H.inRange=yx,H.invoke=ax,H.isArguments=en,H.isArray=Bt,H.isArrayBuffer=yg,H.isArrayLike=Ls,H.isArrayLikeObject=ms,H.isBoolean=Sg,H.isBuffer=$r,H.isDate=Tg,H.isElement=Ig,H.isEmpty=kg,H.isEqual=Lg,H.isEqualWith=Rg,H.isError=$o,H.isFinite=Eg,H.isFunction=_r,H.isInteger=ya,H.isLength=zc,H.isMap=Sa,H.isMatch=Ag,H.isMatchWith=Pg,H.isNaN=Fg,H.isNative=zg,H.isNil=Hg,H.isNull=Bg,H.isNumber=Ta,H.isObject=as,H.isObjectLike=ds,H.isPlainObject=Bn,H.isRegExp=Oo,H.isSafeInteger=Mg,H.isSet=Ia,H.isString=Bc,H.isSymbol=Hs,H.isTypedArray=hn,H.isUndefined=$g,H.isWeakMap=Og,H.isWeakSet=Wg,H.join=Gp,H.kebabCase=Rx,H.last=Zs,H.lastIndexOf=Qp,H.lowerCase=Ex,H.lowerFirst=Ax,H.lt=Ug,H.lte=qg,H.max=If,H.maxBy=kf,H.mean=Lf,H.meanBy=Rf,H.min=Ef,H.minBy=Af,H.stubArray=Jo,H.stubFalse=Xo,H.stubObject=jf,H.stubString=bf,H.stubTrue=vf,H.multiply=Pf,H.nth=Yp,H.noConflict=df,H.noop=Zo,H.now=Ac,H.pad=Px,H.padEnd=Fx,H.padStart=zx,H.parseInt=Bx,H.random=Sx,H.reduce=Xh,H.reduceRight=Kh,H.repeat=Hx,H.replace=Mx,H.result=xx,H.round=Ff,H.runInContext=je,H.sample=Dh,H.size=sg,H.snakeCase=$x,H.some=rg,H.sortedIndex=eh,H.sortedIndexBy=th,H.sortedIndexOf=sh,H.sortedLastIndex=rh,H.sortedLastIndexBy=nh,H.sortedLastIndexOf=ch,H.startCase=Wx,H.startsWith=Ux,H.subtract=zf,H.sum=Bf,H.sumBy=Hf,H.template=qx,H.times=Nf,H.toFinite=wr,H.toInteger=Mt,H.toLength=La,H.toLower=Gx,H.toNumber=Js,H.toSafeInteger=Gg,H.toString=es,H.toUpper=Qx,H.trim=Yx,H.trimEnd=Zx,H.trimStart=Jx,H.truncate=Xx,H.unescape=Kx,H.uniqueId=wf,H.upperCase=Vx,H.upperFirst=qo,H.each=xa,H.eachRight=fa,H.first=ma,Yo(H,function(){var t={};return lr(H,function(r,o){ts.call(H.prototype,o)||(t[o]=r)}),t}(),{chain:!1}),H.VERSION=x,Us(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){H[t].placeholder=H}),Us(["drop","take"],function(t,r){Gt.prototype[t]=function(o){o=o===s?1:gs(Mt(o),0);var f=this.__filtered__&&!r?new Gt(this):this.clone();return f.__filtered__?f.__takeCount__=Ns(o,f.__takeCount__):f.__views__.push({size:Ns(o,se),type:t+(f.__dir__<0?"Right":"")}),f},Gt.prototype[t+"Right"]=function(o){return this.reverse()[t](o).reverse()}}),Us(["filter","map","takeWhile"],function(t,r){var o=r+1,f=o==we||o==L;Gt.prototype[t]=function(I){var O=this.clone();return O.__iteratees__.push({iteratee:Tt(I,3),type:o}),O.__filtered__=O.__filtered__||f,O}}),Us(["head","last"],function(t,r){var o="take"+(r?"Right":"");Gt.prototype[t]=function(){return this[o](1).value()[0]}}),Us(["initial","tail"],function(t,r){var o="drop"+(r?"":"Right");Gt.prototype[t]=function(){return this.__filtered__?new Gt(this):this[o](1)}}),Gt.prototype.compact=function(){return this.filter(Es)},Gt.prototype.find=function(t){return this.filter(t).head()},Gt.prototype.findLast=function(t){return this.reverse().find(t)},Gt.prototype.invokeMap=Wt(function(t,r){return typeof t=="function"?new Gt(this):this.map(function(o){return Rn(o,t,r)})}),Gt.prototype.reject=function(t){return this.filter(Fc(Tt(t)))},Gt.prototype.slice=function(t,r){t=Mt(t);var o=this;return o.__filtered__&&(t>0||r<0)?new Gt(o):(t<0?o=o.takeRight(-t):t&&(o=o.drop(t)),r!==s&&(r=Mt(r),o=r<0?o.dropRight(-r):o.take(r-t)),o)},Gt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Gt.prototype.toArray=function(){return this.take(se)},lr(Gt.prototype,function(t,r){var o=/^(?:filter|find|map|reject)|While$/.test(r),f=/^(?:head|last)$/.test(r),I=H[f?"take"+(r=="last"?"Right":""):r],O=f||/^find/.test(r);I&&(H.prototype[r]=function(){var K=this.__wrapped__,ue=f?[1]:arguments,ve=K instanceof Gt,Ze=ue[0],Je=ve||Bt(K),tt=function(qt){var Zt=I.apply(H,Ar([qt],ue));return f&&gt?Zt[0]:Zt};Je&&o&&typeof Ze=="function"&&Ze.length!=1&&(ve=Je=!1);var gt=this.__chain__,Ct=!!this.__actions__.length,It=O&&!gt,Ot=ve&&!Ct;if(!O&&Je){K=Ot?K:new Gt(this);var kt=t.apply(K,ue);return kt.__actions__.push({func:Rc,args:[tt],thisArg:s}),new Gs(kt,gt)}return It&&Ot?t.apply(this,ue):(kt=this.thru(tt),It?f?kt.value()[0]:kt.value():kt)})}),Us(["pop","push","shift","sort","splice","unshift"],function(t){var r=rc[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",f=/^(?:pop|shift)$/.test(t);H.prototype[t]=function(){var I=arguments;if(f&&!this.__chain__){var O=this.value();return r.apply(Bt(O)?O:[],I)}return this[o](function(K){return r.apply(Bt(K)?K:[],I)})}}),lr(Gt.prototype,function(t,r){var o=H[r];if(o){var f=o.name+"";ts.call(an,f)||(an[f]=[]),an[f].push({name:r,func:o})}}),an[Cc(s,_).name]=[{name:"wrapper",func:s}],Gt.prototype.clone=Ku,Gt.prototype.reverse=Vu,Gt.prototype.value=Du,H.prototype.at=Ih,H.prototype.chain=kh,H.prototype.commit=Lh,H.prototype.next=Rh,H.prototype.plant=Ah,H.prototype.reverse=Ph,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=Fh,H.prototype.first=H.prototype.head,Cn&&(H.prototype[Cn]=Eh),H},cn=Lu();Qr?((Qr.exports=cn)._=cn,Gc._=cn):fs._=cn}).call($f)})(Uc,Uc.exports);Uc.exports;function hb({isSelected:c,handleSelectBlock:m,data:s,handleAddBlock:x,handleDeleteBlock:w,setIsOpenDeleteModal:P,handleCloneBlock:p,handleMoveUp:h,handleMoveDown:l,handleAddBlockFromBlock:a,cloneblock:n}){const{isTransparentBackground:i,wP_bg:v,text:b,id:g}=s,{templateDetails:N}=bt(S=>S.DrawerReducer);console.log(N,"TTEEEMPPPP");const u=wt(),[_,j]=d.useState(`${b}`),[C,z]=d.useState({}),E=S=>{j(S)},M=()=>{const S={...N,project_structure:{...N.project_structure,pages:N.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===g?{...y,text:_}:y)}))}};z(S)};return d.useEffect(()=>{var S,F;if(C){console.log(C,"jljljljl");const y={...N,project_structure:{...N==null?void 0:N.project_structure,pages:(F=(S=N==null?void 0:N.project_structure)==null?void 0:S.pages)==null?void 0:F.map(A=>{var U;return{...A,blocks:(U=A==null?void 0:A.blocks)==null?void 0:U.map(ee=>ee.id===g?{...ee,text:_}:ee)}})}};u(T(y))}},[C]),e.jsxs("div",{className:c==="text"?"block-builder selected":"block-builder",onClick:()=>m("text",s),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(s.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsx("div",{className:"main-block block-1",style:{backgroundColor:` ${i?"transparent":`${v}`}`},children:e.jsx(Ir,{text:_,handleChange:E,handleSave:M})}),e.jsxs("ul",{className:`${c?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>h(s.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>l(s.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>n(s.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>w(s==null?void 0:s.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function od({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,setShowTemplatePreview:P,handleMoveDown:p,handleMoveUp:h,cloneblock:l,handleAddBlockFromBlock:a}){var L,k,q,V,Y,se,Pe,Se,_e,G;console.log(c,"checkquizdatatatat");const n=(L=c==null?void 0:c.struct)==null?void 0:L.cover,i=(k=c.struct)==null?void 0:k.questions,v=(q=c.struct)==null?void 0:q.results,[b,g]=d.useState(!1),[N,u]=d.useState(0),[_,j]=d.useState(!1),[C,z]=d.useState(null),[E,M]=d.useState(0),[S,F]=d.useState(!1),[y,A]=d.useState(null),U=()=>{g(!0)},ee=()=>{N<(i==null?void 0:i.length)-1&&(u(N+1),j(!1))},oe=(le,ae)=>{j(!0),_||(z(ae),le.isCorrect&&M(E+1))},we=()=>{F(!0),A(E===0||E===1?0:E-1)},$=()=>{g(!1),j(!1),F(!1),u(0),z(null),M(0),A(null)};return e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("quiz",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("quiz",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>P("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]}),e.jsxs("div",{className:" disabled-panel",children:[e.jsxs("div",{className:"trivia-quiz",children:[e.jsx("div",{className:"trivia-gif",children:b?S?(V=v[y])!=null&&V.image?e.jsx("img",{src:v[y].image,alt:"gif"}):null:(Y=i[N])!=null&&Y.image?e.jsx("img",{src:i[N].image,alt:"gif"}):null:n!=null&&n.image?e.jsx("img",{src:n.image,alt:"gif"}):null}),!S&&b&&e.jsx("div",{className:"trivia-question",children:e.jsx("h3",{children:(se=i[N])==null?void 0:se.text})})]}),!b&&e.jsxs("div",{className:"trivia-content text-center",children:[e.jsx("h3",{children:n==null?void 0:n.header}),e.jsx("p",{children:n==null?void 0:n.description}),e.jsx("button",{onClick:U,className:"button-boost pulseAnimation_button",children:n==null?void 0:n.buttonText})]}),S&&e.jsxs("div",{className:"trivia-content text-center",children:[e.jsxs("h2",{children:[E,"/",i.length-1+1]}),e.jsx("h3",{children:(Pe=v[y])==null?void 0:Pe.header}),e.jsx("p",{children:(Se=v[y])==null?void 0:Se.description}),e.jsx("button",{onClick:$,className:"button-boost ",children:"Restart"})]}),!S&&b&&e.jsxs("div",{className:"py-4",children:[e.jsx("div",{className:"trivia-answers",children:e.jsx("ul",{children:(G=(_e=i[N])==null?void 0:_e.answers)==null?void 0:G.map((le,ae)=>e.jsx("li",{onClick:()=>oe(le,ae),children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{children:[le.image?e.jsx("img",{src:le.image}):e.jsx("p",{className:"m-0",children:le.text}),_&&C===ae&&e.jsx("p",{className:`${le.isCorrect?"text-success":"text-danger"}`,children:le.description})]}),_&&C===ae&&e.jsx("div",{children:le.isCorrect?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgba(30,118,72,1)",children:e.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgba(184,36,36,1)",children:e.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 10.5858L9.17157 7.75736L7.75736 9.17157L10.5858 12L7.75736 14.8284L9.17157 16.2426L12 13.4142L14.8284 16.2426L16.2426 14.8284L13.4142 12L16.2426 9.17157L14.8284 7.75736L12 10.5858Z"})})}),_&&C!==ae&&le.isCorrect&&e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"rgba(30,118,72,1)",children:e.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM17.4571 9.45711L11 15.9142L6.79289 11.7071L8.20711 10.2929L11 13.0858L16.0429 8.04289L17.4571 9.45711Z"})})]})},le.id))})}),e.jsxs("div",{className:"text-center",children:[_&&N<i.length-1&&e.jsx("button",{onClick:ee,className:" button-boost ",children:"Next"}),_&&N===i.length-1&&e.jsx("button",{onClick:we,className:"button-boost  ",children:"See result"})]})]})]})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function gb({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,setShowTemplatePreview:P,handleMoveDown:p,handleMoveUp:h,cloneblock:l,handleAddBlockFromBlock:a}){var S,F,y,A,U,ee,oe,we,$;console.log(c,"checkquizdatatatat");const[n,i]=d.useState(!1),[v,b]=d.useState({}),[g,N]=d.useState(""),[u,_]=d.useState([]),[j,C]=d.useState(!1),z=L=>{i(!0),b(L)},E=()=>{i(!1),N("")},M=()=>{g!==""&&(g===(v==null?void 0:v.answer)&&(_(L=>[...L,v==null?void 0:v.id]),i(!1),N("")),g!==(v==null?void 0:v.answer)&&C(!0))};return d.useEffect(()=>{C(!1)},[g]),e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("treasure-hunt",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:" game_mainParent",children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("quiz",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>P("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]}),e.jsxs("div",{className:"treauseHunt disabled-panel",children:[e.jsx("div",{className:"",children:e.jsx("div",{className:"d-flex align-items-center justify-content-center",children:e.jsx("div",{className:"w-100",children:e.jsx("div",{className:"treasure-hunt__tiles",style:{display:"grid",gridTemplateColumns:`repeat(${(y=(F=(S=c==null?void 0:c.struct)==null?void 0:S.playground)==null?void 0:F.layout)==null?void 0:y.cols}, 1fr)`,gridTemplateRows:`repeat(${(ee=(U=(A=c==null?void 0:c.struct)==null?void 0:A.playground)==null?void 0:U.layout)==null?void 0:ee.rows}, 1fr)`},children:($=(we=(oe=c==null?void 0:c.struct)==null?void 0:oe.tiles)==null?void 0:we.tileList)==null?void 0:$.map((L,k)=>{var q,V,Y,se,Pe,Se;return e.jsx("div",{className:"treasure-hunt__tile-wrapper_wiheowibd",children:e.jsxs("div",{className:"outer-img",children:[e.jsx("img",{src:L.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"img",style:{aspectRatio:`${(V=(q=c==null?void 0:c.struct)==null?void 0:q.playground)==null?void 0:V.cardProportions}`,objectFit:"cover"}}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#20a2b8",children:e.jsx("path",{d:"M19 10H20C20.5523 10 21 10.4477 21 11V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V11C3 10.4477 3.44772 10 4 10H5V9C5 5.13401 8.13401 2 12 2C15.866 2 19 5.13401 19 9V10ZM17 10V9C17 6.23858 14.7614 4 12 4C9.23858 4 7 6.23858 7 9V10H17ZM11 14V18H13V14H11Z"})}),e.jsxs("div",{className:`middleContent  ${((se=(Y=c==null?void 0:c.struct)==null?void 0:Y.playground)==null?void 0:se.coverPosition)==="center"?"align-items-center justify-content-center":"align-items-center justify-content-end"} `,children:[((Se=(Pe=c==null?void 0:c.struct)==null?void 0:Pe.playground)==null?void 0:Se.isShowQuestCover)&&e.jsx("p",{children:L==null?void 0:L.quest}),e.jsx("button",{onClick:()=>z(L),children:"Open"})]})]})},`${L==null?void 0:L.id}`)})})})})}),n&&e.jsx("div",{className:"modal fade show",tabIndex:"-1",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},role:"dialog",children:e.jsx("div",{className:"modal-dialog modal-md",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"d-flex justify-content-between p-4 question-modal-head",children:[e.jsx("h5",{className:"modal-title",children:""}),e.jsx("button",{type:"button",className:"btn-close modal-close-btn",onClick:E})]}),e.jsxs("div",{className:"modal-body text-center",children:[e.jsx("h4",{children:v==null?void 0:v.ques}),e.jsx("p",{children:v==null?void 0:v.question})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("p",{className:"text-center m-0",children:"Enter an answer or a secret word"}),e.jsxs("div",{className:"row py-3 px-4",children:[e.jsx("div",{className:"col-9",children:e.jsx("input",{className:"answer-input",type:"text",value:g,onChange:L=>N(L.target.value),onKeyDown:L=>{L.key==="Enter"&&M()}})}),e.jsx("div",{className:"col-3",children:e.jsx("button",{disabled:g==="",className:`unlock-btn ${g===""?"opacity-75":""} ${j?"shake-btn":""}`,onClick:M,children:"Unlock"})})]})]})]})})})]})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function xb({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,handleMoveDown:P,handleMoveUp:p,cloneblock:h,handleAddBlockFromBlock:l}){var _,j,C,z,E,M;console.log(c,"chekcdttatsasasayavoa");const a=(C=(j=(_=c==null?void 0:c.projectStructureJson)==null?void 0:_.pages[0])==null?void 0:j.blocks[0])==null?void 0:C.text;(E=(z=c==null?void 0:c.projectStructureJson)==null?void 0:z.pages[0])==null||E.blocks[1];const[n,i]=d.useState(50),v=d.useRef(null),b=d.useRef(null),N=(S=>S==null?void 0:S.replace(/U\+60;/g,"<").replace(/U\+62;/g,">").replace(/U\+34;/g,'"').replace(/U\+47;/g,"/").replace(/\\uD83D\\uDC47/g,"👇"))(a),u=S=>{const F=b.current;if(!F)return;const y=F.getBoundingClientRect(),A=ee=>{let oe=(ee.clientX-y.left)/y.width*100;oe=Math.max(0,Math.min(100,oe)),i(oe)},U=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",U)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",U)};return(c==null?void 0:c.imageProportions)==="1:1"||(c==null?void 0:c.imageProportions)==="5:4"||(c==null?void 0:c.imageProportions)==="4:3"||(c==null?void 0:c.imageProportions)==="3:2"||c==null||c.imageProportions,console.log(c,"dsnklsndlksbnf"),e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("then-now",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsx("div",{className:"game_mainParent",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"container py-4 overflow-hidden",children:[e.jsx("div",{className:"text-center",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:N}})}),e.jsxs("div",{ref:b,className:"then-now-block",style:{width:"100%",aspectRatio:`${(M=c==null?void 0:c.imageProportions)==null?void 0:M.value}`},children:[e.jsx("div",{className:"then-now-leftimg",style:{backgroundImage:`url(${c==null?void 0:c.leftSrc})`}}),e.jsx("div",{className:"then-now-block__img-container",children:e.jsx("div",{className:"then-now-block__img-inner-container overflow-hidden",style:{left:`${n}%`},children:e.jsx("div",{className:"then-now-block__img-inner-container",style:{left:`-${n}%`},children:e.jsx("div",{className:"then-now-block__img",style:{backgroundImage:`url(${c==null?void 0:c.rightSrc})`}})})})}),e.jsx("div",{ref:v,onMouseDown:u,className:"then-now-block__delimiter",style:{left:`${n}%`},children:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"24",cy:"24",r:"24",fill:"black",fillOpacity:"0.4"}),e.jsx("path",{d:"M42 24L34.5 15.3397L34.5 32.6603L42 24Z",fill:"#FFFFFF"}),e.jsx("rect",{x:"20",y:"6",width:"8",height:"36",rx:"1",fill:"#FFFFFF"}),e.jsx("path",{d:"M6 24L13.5 15.3397L13.5 32.6603L6 24Z",fill:"#FFFFFF"})]})})]})]})})}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>P(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function fb({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,setShowTemplatePreview:P,cloneblock:p,handleMoveDown:h,handleMoveUp:l,handleAddBlockFromBlock:a}){var C,z;console.log(c,"chekcdttatsasasayavoa");const n=(C=c==null?void 0:c.struct)==null?void 0:C.cards,i=(z=c==null?void 0:c.struct)==null?void 0:z.colorTheme,[v,b]=d.useState({left:!1,right:!1}),[g,N]=d.useState({left:0,right:0}),[u,_]=d.useState(!1),j=E=>{E.text==="Card 1"&&N(M=>({...M,left:M.left+1})),E.text==="Card 2"&&N(M=>({...M,right:M.right+1}))};return d.useEffect(()=>{g.left>g.right?(b({left:!0,right:!1}),_(!0)):g.left<g.right?(b({left:!1,right:!0}),_(!0)):g.left===g.right&&(b({left:!1,right:!1}),_(!1))},[g]),e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("rank-battle",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("rank-battle",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>P("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]}),e.jsx("div",{className:"disabled-panel",children:e.jsx("div",{className:"p-2 d-flex gap-2",children:n==null?void 0:n.map((E,M)=>{var S,F;return e.jsxs("div",{className:"rank-battle-container",style:{backgroundColor:`${i}`},children:[e.jsx("div",{className:"rank-battle-inner-container h-100",children:e.jsx("img",{src:E==null?void 0:E.imageUrl,alt:E.text,style:{aspectRatio:(F=(S=c==null?void 0:c.struct)==null?void 0:S.playground)==null?void 0:F.cardProportions,objectFit:"cover"}})}),u&&e.jsx("div",{className:"rank-battle-top-content",style:{backgroundColor:`${i}`},children:v.left&&!v.right&&E.text==="Card 1"||!v.left&&v.right&&E.text==="Card 2"?e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M2.00488 19H22.0049V21H2.00488V19ZM2.00488 5L7.00488 8L12.0049 2L17.0049 8L22.0049 5V17H2.00488V5Z"})}),e.jsx("h5",{children:"Leading"})]}):e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M2 13H8V21H2V13ZM9 3H15V21H9V3ZM16 8H22V21H16V8Z"})}),e.jsx("h5",{children:"2"})]})}),e.jsxs("div",{className:"rank-battle-wrap text-center",children:[e.jsx("div",{className:"rank-battle-content-icon mx-auto",style:{backgroundColor:`${i}`},onClick:()=>j(E),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M2 8.99997H5V21H2C1.44772 21 1 20.5523 1 20V9.99997C1 9.44769 1.44772 8.99997 2 8.99997ZM7.29289 7.70708L13.6934 1.30661C13.8693 1.13066 14.1479 1.11087 14.3469 1.26016L15.1995 1.8996C15.6842 2.26312 15.9026 2.88253 15.7531 3.46966L14.5998 7.99997H21C22.1046 7.99997 23 8.8954 23 9.99997V12.1043C23 12.3656 22.9488 12.6243 22.8494 12.8658L19.755 20.3807C19.6007 20.7554 19.2355 21 18.8303 21H8C7.44772 21 7 20.5523 7 20V8.41419C7 8.14897 7.10536 7.89462 7.29289 7.70708Z"})})}),e.jsxs("div",{className:"rank-battle-content",children:[e.jsx("h4",{children:E.description}),e.jsxs("h3",{children:["VOTES: ",E.text==="Card 1"&&`${g.left}`," ",E.text==="Card 2"&&`${g.right}`]})]})]})]},M)})})})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function jb({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,setShowTemplatePreview:P,handleMoveDown:p,handleMoveUp:h,cloneblock:l,handleAddBlockFromBlock:a}){var u,_,j,C,z,E;console.log(c,"chekcdttatsasasayavoa");const n=(u=c==null?void 0:c.struct)==null?void 0:u.slides,[i,v]=d.useState(null),[b,g]=d.useState(null);console.log(b,"thumbsSwiperthumbsSwiperthumbsSwiper");const N=M=>{const S=M.realIndex;g(n[S])};return e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("slide-show",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("slide-show",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>P("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]}),e.jsx("div",{className:"disabled-panel",children:e.jsxs("div",{className:"container py-4 w-100",children:[e.jsx(Qa,{onSwiper:v,loop:!0,spaceBetween:10,slidesPerView:10,freeMode:!0,watchSlidesProgress:!0,modules:[Ya,Za,Ja],className:"mySwiper mb-4",onSlideChange:N,children:n.map((M,S)=>e.jsx(Xa,{children:e.jsx("img",{src:M.image,alt:`Thumbnail ${S+1}`,className:"w-full h-auto cursor-pointer"})},S))}),e.jsx(Qa,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff",backgroundColor:`${(_=c==null?void 0:c.struct)!=null&&_.isTransparentBackground?"transparent":(j=c==null?void 0:c.struct)==null?void 0:j.colorTheme}`},loop:!0,spaceBetween:10,slidesPerView:1.3,centeredSlides:!0,navigation:!0,thumbs:{swiper:i},modules:[Ya,Za,Ja],className:"mySwiper2",children:n.map((M,S)=>e.jsx(Xa,{children:e.jsx("div",{className:"slide__item_content",children:e.jsx("img",{src:M.image,alt:`Nature ${S+1}`,className:"w-full h-auto"})})},S))}),e.jsxs("div",{className:"container",children:[e.jsx("h4",{style:{color:(C=c==null?void 0:c.struct)==null?void 0:C.textColor},children:b==null?void 0:b.header}),e.jsx("p",{style:{color:(z=c==null?void 0:c.struct)==null?void 0:z.textColor},children:b==null?void 0:b.description}),e.jsx("p",{style:{color:(E=c==null?void 0:c.struct)==null?void 0:E.textColor},children:b==null?void 0:b.imageCaption})]})]})})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function bb({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,setShowTemplatePreview:P,cloneblock:p,handleMoveDown:h,handleMoveUp:l,handleAddBlockFromBlock:a}){var _,j,C;console.log(c,"chekcdttatsasasayavoa");const n=(_=c==null?void 0:c.struct)==null?void 0:_.cards,[i,v]=d.useState({}),[b,g]=d.useState(!1),N=z=>{v(z),g(!0)},u=()=>{v({}),g(!1)};return e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("horoscope",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("rank-battle",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>P("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]}),e.jsx("div",{className:"disabled-panel",children:e.jsx("div",{className:"container py-4 w-100",children:e.jsx("div",{className:"position-relative",children:b?e.jsxs("div",{className:"final-screen is-win",children:[e.jsx("div",{className:"final-screen__image-container",children:e.jsx("div",{className:"final-screen__image",style:{backgroundImage:`url(${i==null?void 0:i.illustrationImage})`}})}),e.jsxs("div",{className:"final-screen__content",children:[e.jsx("div",{className:"final-screen__content-header",children:i==null?void 0:i.header}),e.jsx("div",{className:"final-screen__content-description",children:i==null?void 0:i.description}),e.jsx("div",{className:"restart-button__wrapper",children:e.jsx("button",{className:"btn btn-outline-dark",onClick:u,children:"Back"})})]})]}):e.jsx("div",{className:"cards-block-area",style:{backgroundColor:`${(j=c==null?void 0:c.struct)==null?void 0:j.colorTheme}`,backgroundImage:`url(${(C=c==null?void 0:c.struct)==null?void 0:C.backgroundImage})`},children:n==null?void 0:n.map((z,E)=>e.jsxs("div",{onClick:()=>N(z),className:"cards-block-area__card",children:[e.jsx("div",{className:"cards-block-area__card-cover-image",style:{backgroundImage:`url(${z.coverImage||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png"})`}}),e.jsx("div",{className:"cards-block-area__card-disclaimer",style:{color:"#000"},children:z.disclaimer})]},E))})})})})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function vb({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,setShowTemplatePreview:P,cloneblock:p,handleMoveDown:h,handleMoveUp:l,handleAddBlockFromBlock:a}){var _,j,C;console.log(c,"chekcdttatsasasayavoa");const n=(_=c==null?void 0:c.struct)==null?void 0:_.cards,[i,v]=d.useState({}),[b,g]=d.useState(!1),N=z=>{v(z),g(!0)},u=()=>{v({}),g(!1)};return e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("cookies",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("cookies",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>P("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]}),e.jsx("div",{className:"disabled-panel",children:e.jsx("div",{className:"container py-4 w-100",children:e.jsx("div",{className:"position-relative",children:b?e.jsxs("div",{className:"final-screen is-win",children:[e.jsx("div",{className:"final-screen__image-container",children:e.jsx("div",{className:"final-screen__image",style:{backgroundImage:`url(${i==null?void 0:i.illustrationImage})`}})}),e.jsxs("div",{className:"final-screen__content",children:[e.jsx("div",{className:"final-screen__content-header",children:i==null?void 0:i.header}),e.jsx("div",{className:"final-screen__content-description",children:i==null?void 0:i.description}),e.jsx("div",{className:"restart-button__wrapper",children:e.jsx("button",{className:"btn btn-outline-dark",onClick:u,children:"Back"})})]})]}):e.jsx("div",{className:"cards-block-area",style:{backgroundColor:`${(j=c==null?void 0:c.struct)==null?void 0:j.colorTheme}`,backgroundImage:`url(${(C=c==null?void 0:c.struct)==null?void 0:C.backgroundImage})`},children:n==null?void 0:n.map((z,E)=>e.jsxs("div",{onClick:()=>N(z),className:"cards-block-area__card",children:[e.jsx("div",{className:"cards-block-area__card-cover-image",style:{backgroundImage:`url(${z.coverImage||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png"})`}}),e.jsx("div",{className:"cards-block-area__card-disclaimer",style:{color:"#000"},children:z.disclaimer})]},E))})})})})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function Nb({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,handleMoveDown:P,handleMoveUp:p,cloneblock:h,handleAddBlockFromBlock:l}){var U,ee,oe,we,$;console.log(c,"CHECKUNDERLIDUDJDJJDJNDKJNKJDKJJDBKJDBDqwerty");const{templateDetails:a}=bt(L=>L.DrawerReducer),n=wt(),[i,v]=d.useState(!1),[b,g]=d.useState(c==null?void 0:c.frontText),[N,u]=d.useState(c==null?void 0:c.backText),[_,j]=d.useState(),[C,z]=d.useState(),E=L=>{console.log(L),g(L)},M=L=>{u(L)},S=()=>{const L={...a,project_structure:{...a.project_structure,pages:a.project_structure.pages.map(k=>({...k,blocks:k.blocks.map(q=>q.id===(c==null?void 0:c.id)?{...q,frontText:b}:q)}))}};j(L)},F=()=>{const L={...a,project_structure:{...a.project_structure,pages:a.project_structure.pages.map(k=>({...k,blocks:k.blocks.map(q=>q.id===(c==null?void 0:c.id)?{...q,backText:N}:q)}))}};z(L)},y=L=>{v(L!=="front")};d.useEffect(()=>{g(c==null?void 0:c.frontText),u(c==null?void 0:c.backText)},[c]);let A;return((U=c==null?void 0:c.imageProportions)==null?void 0:U.value)==="1:1"?A="800px":((ee=c==null?void 0:c.imageProportions)==null?void 0:ee.value)==="5:4"?A="640px":((oe=c==null?void 0:c.imageProportions)==null?void 0:oe.value)==="4:3"?A="600px":((we=c==null?void 0:c.imageProportions)==null?void 0:we.value)==="3:2"?A="533.333px":(($=c==null?void 0:c.imageProportions)==null||$.value,A="450px"),d.useEffect(()=>{if(_){const L={...a,project_structure:{...a.project_structure,pages:a.project_structure.pages.map(k=>({...k,blocks:k.blocks.map(q=>q.id===(c==null?void 0:c.id)?{...q,frontText:b}:q)}))}};n(T(L))}},[_]),d.useEffect(()=>{if(C){const L={...a,project_structure:{...a.project_structure,pages:a.project_structure.pages.map(k=>({...k,blocks:k.blocks.map(q=>q.id===(c==null?void 0:c.id)?{...q,backText:N}:q)}))}};n(T(L))}},[C]),d.useEffect(()=>{g(`${c==null?void 0:c.frontText}`),u(`${c==null?void 0:c.backText}`)},[c]),console.log(A,"dffdfdfdfdfdffdfd"),e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("flip-card",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[e.jsx("div",{className:"flip-card",style:{height:A},children:e.jsxs("div",{className:"flip-card-inner",style:{transform:i?"rotateY(180deg)":"rotateY(0deg)"},children:[e.jsx("div",{className:"flip-card-front",style:{backgroundImage:`url(${c==null?void 0:c.frontSrc})`,backgroundColor:c!=null&&c.frontSrc?"transparent":c==null?void 0:c.frontColor,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:e.jsx("div",{className:"text-area-cnt",children:e.jsx("div",{className:"text-area",children:e.jsx(Ir,{text:b,handleChange:E,handleSave:S})})})}),e.jsx("div",{className:"flip-card-back",style:{backgroundImage:`url(${c==null?void 0:c.backSrc})`,backgroundColor:c!=null&&c.backSrc?"transparent":c==null?void 0:c.backColor,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},children:e.jsx("div",{className:"text-area-cnt",children:e.jsx("div",{className:"text-area",children:e.jsx(Ir,{text:N,handleChange:M,handleSave:F})})})})]})}),e.jsxs("div",{className:"flip_switch",children:[e.jsx("p",{className:i?"mb-0":"mb-0 active",onClick:()=>y("front"),children:"Front"}),e.jsx("p",{className:i?"mb-0 active":"mb-0",onClick:()=>y("back"),children:"Back"})]})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>P(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function _b({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,onSubmit:P,setShowTemplatePreview:p,handleMoveDown:h,handleMoveUp:l,cloneblock:a,handleAddBlockFromBlock:n}){var u,_,j,C,z,E,M,S,F,y,A,U,ee,oe,we,$,L,k,q,V,Y,se,Pe,Se,_e,G,le;console.log((_=(u=c==null?void 0:c.struct)==null?void 0:u.form)==null?void 0:_.fields,"formdatacheckokornot");const i=Ts().shape((z=(C=(j=c==null?void 0:c.struct)==null?void 0:j.form)==null?void 0:C.fields)==null?void 0:z.reduce((ae,ye)=>(ye.type==="email"?ae[ye.id]=Rt().email("Please enter a valid email").required("Email is required"):ye.type==="text"?ae[ye.id]=Rt().required(`${ye.label} is required`):ye.type==="phone"?ae[ye.id]=Rt().matches(/^[0-9]+$/,"Phone number must be digits").required("Phone number is required"):ye.type==="checkbox"&&(ae[ye.id]=rr()),ae),{})),{register:v,handleSubmit:b,reset:g,formState:N}=nr({mode:"onSubmit",resolver:cr(i)});return e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("form",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>n(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("lead-form",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>p("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]}),e.jsx("div",{className:"disabled-panel",children:e.jsxs("form",{className:"lead_form_preview",onSubmit:b(P),style:{backgroundColor:((E=c==null?void 0:c.struct)==null?void 0:E.backgroundColor)||"#fff"},children:[((S=(M=c==null?void 0:c.struct)==null?void 0:M.form)==null?void 0:S.logoImage)&&e.jsx("img",{src:(y=(F=c==null?void 0:c.struct)==null?void 0:F.form)==null?void 0:y.logoImage,alt:"logo",className:"previewLogo"}),e.jsx("h4",{className:"text-center",children:(U=(A=c==null?void 0:c.struct)==null?void 0:A.form)==null?void 0:U.headerText}),e.jsx("p",{className:"text-center",children:(oe=(ee=c==null?void 0:c.struct)==null?void 0:ee.form)==null?void 0:oe.descriptionText}),e.jsx("div",{className:"fields-preview mb-4",children:(L=($=(we=c==null?void 0:c.struct)==null?void 0:we.form)==null?void 0:$.fields)==null?void 0:L.map(ae=>{var ye;return e.jsx("label",{className:"form-label font-sm w-100",role:"button",children:e.jsxs("div",{children:[ae.type!=="checkbox"&&e.jsx("p",{children:ae.label}),e.jsxs("div",{children:[ae.type==="checkbox"&&e.jsxs("div",{className:"d-flex",children:[e.jsx("input",{id:ae.id,type:"checkbox",className:"checkbox",...v(ae.id)}),e.jsx("label",{htmlFor:ae.id,className:"m-1 user-select-none",children:ae.label})]}),ae.type==="text_area"&&e.jsx("textarea",{className:"w-100 form-control",...v(ae.id)}),ae.type==="text"&&e.jsx("input",{className:"form-control theme-control",type:"text",...v(ae.id)}),ae.type==="email"&&e.jsx("input",{className:"form-control theme-control",type:"email",...v(ae.id)}),ae.type==="phone"&&e.jsx("input",{className:"form-control theme-control",type:"number",...v(ae.id)})]}),e.jsx("p",{className:"text-danger",children:(ye=N.errors[ae.id])==null?void 0:ye.message})]})},ae.id)})}),e.jsxs("div",{className:"submitpreview",children:[((q=(k=c==null?void 0:c.struct)==null?void 0:k.form)==null?void 0:q.linkPrivacyPolicyLink)&&e.jsxs("div",{className:"termsForm text-center",children:[e.jsx("input",{id:"terms",type:"checkbox",...v("terms")}),e.jsxs("label",{htmlFor:"terms",className:"ps-2",children:["I Agree with"," ",e.jsx(xn,{to:(Y=(V=c==null?void 0:c.struct)==null?void 0:V.form)==null?void 0:Y.linkPrivacyPolicyLink,children:"Privacy Policy"})]})]}),((Pe=(se=c==null?void 0:c.struct)==null?void 0:se.form)==null?void 0:Pe.addtionalText)&&e.jsx("p",{children:(_e=(Se=c==null?void 0:c.struct)==null?void 0:Se.form)==null?void 0:_e.addtionalText}),e.jsx("div",{className:"text-center m-2",children:e.jsx("button",{className:"btn py-2 w-50",type:"submit",style:{backgroundColor:`${(G=c==null?void 0:c.struct)==null?void 0:G.colorTheme}`,color:"#fff"},children:((le=c==null?void 0:c.struct)==null?void 0:le.buttonText)||"Submit"})})]})]})})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}const Od=({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,setShowTemplatePreview:P,handleMoveDown:p,handleMoveUp:h,cloneblock:l,handleAddBlockFromBlock:a,approxValue:n,puzzle:i})=>{var Y,se,Pe,Se,_e,G,le,ae,ye,Te,Oe,Q;const v=(se=(Y=c==null?void 0:c.struct)==null?void 0:Y.leadFormStruct)==null?void 0:se.form,b=(Pe=c==null?void 0:c.struct)==null?void 0:Pe.playground,g=parseInt(b.layout.label.split("x")[0],10),N=g*g,u=g/2*g,_=b.image,j=c==null?void 0:c.struct,C=(Se=c==null?void 0:c.struct)==null?void 0:Se.colorTheme,z=()=>{let ne=Array.from({length:N},(ge,J)=>({id:J+1,backgroundPosition:`${-(J%g*100)}px ${-(Math.floor(J/g)*100)}px`})).sort(()=>Math.random()-.5);return{left:ne.slice(0,u),right:ne.slice(u,u*2)}},{left:E,right:M}=z(),[S,F]=d.useState(!0),y=Array(u).fill(null);for(let ne=0;ne<E.length;ne++)y[ne]=E[ne];const A=Array(u).fill(null);for(let ne=0;ne<M.length;ne++)A[ne]=M[ne];d.useState(y),d.useState(A),d.useState(""),d.useState(""),d.useState(!1),d.useState(!1),d.useState(!1),d.useState({});const[U,ee]=d.useState(!1),[oe,we]=d.useState(!1);d.useState({password:"",...(_e=v==null?void 0:v.fields)==null?void 0:_e.reduce((ne,ge)=>(ne[ge.key]="",ne),{})});const[$,L]=d.useState([{backgroundPosition:"center"}]);d.useState(null),d.useState(null),d.useState(!0);const[k,q]=d.useState([]);d.useState(""),d.useState([]),(G=c==null?void 0:c.struct)==null||G.playground,d.useEffect(()=>{V()},[$]),Array.from({length:N},(ne,ge)=>ge+1);const V=()=>{console.log("Checking win condition...");const ne=$.map(Ie=>Ie?Ie.id:null);console.log("Current Order:",ne);const ge=Array.from({length:N},(Ie,Ge)=>Ge+1);console.log("Expected Order:",ge);const J=ne.map((Ie,Ge)=>Ie!==ge[Ge]);q(J);const he=J.every(Ie=>!Ie);console.log("Is win condition met?",he),he&&ee(!0)};return d.useEffect(()=>{const ne=$.every(ge=>ge!==null);we(ne),ne&&V()},[$]),d.useEffect(()=>{if($.every(ne=>ne!==null)){const ne=setTimeout(()=>{V()},300);return()=>clearTimeout(ne)}},[$]),e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("puzzle",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[console.log((ae=(le=c==null?void 0:c.struct)==null?void 0:le.playground)==null?void 0:ae.isShowCover,"efefef",n),n&&((Te=(ye=c==null?void 0:c.struct)==null?void 0:ye.playground)==null?void 0:Te.isShowCover)&&e.jsx("div",{className:"modal cover-modal",style:{maxWidth:"568px",left:"50%",transform:"translateX(-50%)"},children:e.jsx("div",{className:"modal__content",children:e.jsx("div",{className:"modal__content-scroll",children:e.jsxs("div",{className:"common-cover",children:[e.jsx("h2",{className:"common-cover__title",children:i==null?void 0:i.coverHeader}),e.jsxs("button",{onClick:()=>setshowCoverModel(ne=>!ne),style:{backgroundColor:`${C}`,color:"rgb(255, 255, 255)"},className:"common-cover__button",children:[i==null?void 0:i.coverButtonText,console.log(i==null?void 0:i.coverButtonText,"sqsqqs")]})]})})})}),!n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("puzzle",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>P("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]})]}),e.jsx("div",{className:"disabled-panel",children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:"puzzle-block-container",children:[!n&&e.jsx("div",{className:"puzzle-block-container",children:e.jsxs("div",{className:"statistic withMoves",children:[e.jsxs("div",{className:"statistic__moves",children:[e.jsx("span",{className:"statistic__moves-title",children:"Number of actions"}),e.jsx("span",{children:"0"})]}),e.jsx("div",{className:"statistic__timer",children:" Time"})]})}),e.jsxs("div",{className:"puzzle-container",children:[U&&e.jsx("h3",{className:"winner-message",children:"🎉 You Win! 🎉"}),e.jsx("div",{className:"puzzle-container",children:S&&e.jsx("div",{className:"puzzle-grid",style:{display:"grid",gridTemplateColumns:`repeat(${g}, 100px)`,gridTemplateRows:`repeat(${g}, 100px)`,gap:"1px"},children:Array.from({length:g*g}).map((ne,ge)=>{const J=Math.floor(ge/g),he=ge%g;return e.jsx("div",{style:{width:"100px",height:"100px",backgroundImage:`url(${_})`,backgroundSize:`${g*100}px ${g*100}px`,backgroundPosition:`${-he*100}px ${-J*100}px`,border:"1px solid black"}},ge)})})})]}),U&&e.jsx("div",{className:"modal cover-modal",children:e.jsx("div",{className:"modal__content",children:e.jsx("div",{className:"modal__content-scroll",children:e.jsxs("div",{className:"common-cover",children:[e.jsx("h2",{className:"common-cover__title",children:(Oe=j==null?void 0:j.playground)==null?void 0:Oe.coverHeader}),e.jsx("button",{onClick:()=>{},style:{backgroundColor:C,color:"rgb(255, 255, 255)"},className:"common-cover__button",children:(Q=j==null?void 0:j.playground)==null?void 0:Q.coverButtonText})]})})})})]})})})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})};function wb({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,setShowTemplatePreview:P,cloneblock:p,handleMoveDown:h,handleMoveUp:l,handleAddBlockFromBlock:a}){var rt,vt,Nt,$t,We,mt,fe,Ne,et,Be,Ft,Kt,Qt,Vt,He,lt,Ke,st,it,be,re,Ee,pe,Re,St,ie,Me,Ue,ke,Ht,vs,Fe,ht,nt,Ae,us,or,ir,Ks,W,de,Xe,at,yt,$e,Ce,X,ct,Ve,Et;const n=[{name:"John Brown",time:"00:24s"},{name:"John Red",time:"00:32s"},{name:"John White",time:"00:39s"},{name:"John Black",time:"00:48s"},{name:"John Yellow",time:"00:53s"}],i=c,v=(rt=i==null?void 0:i.struct)==null?void 0:rt.pairs;console.log(v,"dsddsdsdsdsdsdsdsdsdfg");const b=(vt=i==null?void 0:i.struct)==null?void 0:vt.finalScreen,g=(Nt=i==null?void 0:i.struct)==null?void 0:Nt.playground,N=(We=($t=i==null?void 0:i.struct)==null?void 0:$t.starsTimeList)==null?void 0:We.split(",").map(Ye=>Ye.trim()),u=Ts().shape({email:(mt=i==null?void 0:i.struct)!=null&&mt.isShowRatingEmail&&((fe=i==null?void 0:i.struct)!=null&&fe.isEnableRating)?Rt().required("Required"):Rt(),code:((et=(Ne=i==null?void 0:i.struct)==null?void 0:Ne.passwordList)==null?void 0:et.length)>0?Rt().required("Required"):Rt(),nickname:(Be=i==null?void 0:i.struct)!=null&&Be.isEnableRating?Rt().required("Required"):Rt(),legalStatement:((Ft=i==null?void 0:i.struct)==null?void 0:Ft.legalStatement)!==""&&((Kt=i==null?void 0:i.struct)!=null&&Kt.isEnableRating)?rr().required("Required"):rr()}),[_,j]=d.useState([]),[C,z]=d.useState([]),[E,M]=d.useState(!1),[S,F]=d.useState([]),[y,A]=d.useState(!1),[U,ee]=d.useState(!1),[oe,we]=d.useState(0),[$,L]=d.useState({}),[k,q]=d.useState(0),[V,Y]=d.useState((Qt=i==null?void 0:i.struct)==null?void 0:Qt.countdownTime),[se,Pe]=d.useState((Vt=i==null?void 0:i.struct)==null?void 0:Vt.showToMemorizeTime),[Se,_e]=d.useState(!1),[G,le]=d.useState(!1),[ae,ye]=d.useState(null),[Te,Oe]=d.useState(null);d.useState(!1),d.useState(!0);const[Q,ne]=d.useState(!0),ge=d.useRef({}),he=((He=g==null?void 0:g.cardLayout)!=null&&He.value?Number(g.cardLayout.value.split("x")[0])*Number(g.cardLayout.value.split("x")[1]):0)/2,Ie=(lt=v==null?void 0:v.pairList)==null?void 0:lt.slice(0,he);console.log("object",Ie);const Ge=sr.utc(k*1e3).format("mm:ss"),xe=sr.utc(V*1e3).format("mm:ss"),D=sr.utc(se*1e3).format("mm:ss"),Z={resolver:cr(u)},{register:R,handleSubmit:ce,reset:te,formState:me}=nr(Z),Lt=Ye=>{const pt=[...Ye];for(let zt=pt.length-1;zt>0;zt--){const Dt=Math.floor(Math.random()*(zt+1));[pt[zt],pt[Dt]]=[pt[Dt],pt[zt]]}return pt},Pt=Ye=>Ye==null?void 0:Ye.replace(/U\+60;/g,"<").replace(/U\+62;/g,">").replace(/U\+34;/g,'"').replace(/U\+47;/g,"/").replace(/\\uD83D\\uDC47/g,"👇").replace(/U\+10;/g,`
`),Qe=Pt($==null?void 0:$.description),ft=Pt(Se?(st=(Ke=i==null?void 0:i.struct)==null?void 0:Ke.timeIsUpScreen)==null?void 0:st.description:b==null?void 0:b.description),xt=()=>{M(!0)},dt=Ye=>{($==null?void 0:$.description)===""&&ee(!1),!(C.length===2||S.includes(_[Ye].id))&&z([...C,Ye])},_t=()=>{ee(!1)},De=Ye=>{const pt=ge.current[Ye];pt&&(ae===Ye?(pt.pause(),ye(null)):(Object.values(ge.current).forEach(zt=>{zt.paused||zt.pause()}),pt.play(),ye(Ye)))},ut=()=>{var Ye,pt;te(),_e(!1),A(!1),M(!1),z([]),F([]),we(0),q(0),Y((Ye=i==null?void 0:i.struct)==null?void 0:Ye.countdownTime),L({}),ee(!1),j(Lt([...Le,...ot])),Pe((pt=i==null?void 0:i.struct)==null?void 0:pt.showToMemorizeTime),le(!1)},Le=Ie==null?void 0:Ie.map(Ye=>({firstImage:Ye.firstImage,id:Ye.id,description:Ye.description})),ot=Ie==null?void 0:Ie.map(Ye=>({firstImage:Ye.secondImage,id:Ye.id,description:Ye.description})),B=()=>{j(Lt([...Le,...ot]))};return d.useEffect(()=>{B()},[Te,c]),d.useEffect(()=>{var Ye;if(C.length===2){we(Dt=>Dt+1);const[pt,zt]=C;if(_[pt].id===_[zt].id){F(Is=>[...Is,_[pt].id]);const Dt=Ie.find(Is=>Is.id===_[pt].id);L(Dt),setTimeout(()=>{ee(!0)},1e3),($==null?void 0:$.description)===""&&ee(!1)}setTimeout(()=>z([]),`${(Ye=i==null?void 0:i.struct)==null?void 0:Ye.timeoutClosingCards}000`)}},[C,c]),d.useEffect(()=>{S.length===Te&&A(!0)},[S,Te,c]),d.useEffect(()=>{let Ye;return E&&!y&&!U&&!G&&(Ye=setInterval(()=>{Y(pt=>pt>0?pt-1:0),q(pt=>pt+1)},1e3)),()=>clearInterval(Ye)},[E,y,U,G,c]),d.useEffect(()=>{var Ye,pt,zt;((pt=(Ye=i==null?void 0:i.struct)==null?void 0:Ye.timerType)==null?void 0:pt.value)==="countdown"&&((zt=i==null?void 0:i.struct)!=null&&zt.enableTimer)&&V===0&&_e(!0)},[V,i,c]),d.useEffect(()=>{var pt,zt;let Ye;return(pt=i==null?void 0:i.struct)!=null&&pt.showToMemorize&&E&&(le(!0),setTimeout(()=>{le(!1)},`${(zt=i==null?void 0:i.struct)==null?void 0:zt.showToMemorizeTime}000`),Ye=setInterval(()=>{Pe(Dt=>Dt>0?Dt-1:0)},1e3)),()=>clearInterval(Ye)},[i,c,E]),d.useEffect(()=>{($==null?void 0:$.description)===""&&ee(!1)},[$,c]),d.useEffect(()=>{var Ye;Oe((Ye=g==null?void 0:g.cardLayout)==null?void 0:Ye.value)},[g,c]),console.log(_,"shuffledListshufflefdfdfdListshuffledList"),e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("memory",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("memory",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>P("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]}),e.jsx("div",{className:"disabled-panel",children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container py-4 overflow-hidden",children:[!Se&&!y&&((it=i==null?void 0:i.struct)==null?void 0:it.enableTimer)&&e.jsx("div",{className:"find-one-pair-actions",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("p",{className:"m-0",children:["Number of actions : ",e.jsx("span",{children:oe})]}),e.jsx("p",{className:"m-0",children:((re=(be=i==null?void 0:i.struct)==null?void 0:be.timerType)==null?void 0:re.value)==="countdown"?xe:Ge})]})}),((Ee=i==null?void 0:i.struct)==null?void 0:Ee.showToMemorize)&&G&&e.jsx("div",{className:"find-one-pair-showMemorize mt-4",children:e.jsxs("p",{className:"m-0",children:["Get ready!",e.jsxs("sapn",{className:"ps-4",children:[D,"s"]})]})}),e.jsxs("div",{className:"fine-one-pair-playground pt-4",children:[!Se&&!y&&e.jsx("div",{className:"find-one-pair-game",children:e.jsx("div",{className:"row g-2",children:_.map((Ye,pt)=>{var zt,Dt,Is,kr,pr,qr,Lr,hr,gr,Os,Rr,Yt,Ps,jn,bn,vn,Nn,Yn,Zn,Jn,_n,Xn,Kn,Vn,Dn;return e.jsx("div",{className:"col-3",children:e.jsxs("div",{className:`pair-card ${C.includes(pt)||S.includes(Ye.id)||G?"flipped":""}`,style:{aspectRatio:((Dt=(zt=c==null?void 0:c.struct)==null?void 0:zt.playground)==null?void 0:Dt.cardProportions)??"1/1"},children:[e.jsxs("div",{onClick:()=>dt(pt),className:"find-one-pair-game-outerImg",children:[e.jsx("img",{src:g==null?void 0:g.cardBackImage,alt:"card back"}),((Is=i==null?void 0:i.struct)==null?void 0:Is.numberedCardBacks)&&e.jsxs(e.Fragment,{children:[((pr=(kr=i==null?void 0:i.struct)==null?void 0:kr.numberedCardBacksType)==null?void 0:pr.value)==="option_1"&&e.jsx("div",{children:e.jsx("h2",{className:"text-white font-weight-bold",children:pt+1})}),((Lr=(qr=i==null?void 0:i.struct)==null?void 0:qr.numberedCardBacksType)==null?void 0:Lr.value)==="option_2"&&e.jsx("div",{className:"find-one-pair-game-outerImg-numberedCardBacks",children:e.jsx("h3",{children:pt+1})})]})]}),G?e.jsxs("div",{className:"find-one-pair-game-InnerImg",children:[((hr=Ye.firstImage)==null?void 0:hr.cardType)==="text"&&e.jsx("div",{style:{backgroundColor:`${(gr=Ye==null?void 0:Ye.firstImage)==null?void 0:gr.bgColor}`,color:`${(Os=Ye==null?void 0:Ye.firstImage)==null?void 0:Os.color}`},children:e.jsx("h3",{children:(Rr=Ye.firstImage)==null?void 0:Rr.text})}),((Yt=Ye.firstImage)==null?void 0:Yt.cardType)==="image"&&e.jsx("img",{src:(Ps=Ye.firstImage)==null?void 0:Ps.src,alt:"pair item"}),((jn=Ye==null?void 0:Ye.firstImage)==null?void 0:jn.cardType)==="audio"&&e.jsxs("div",{className:"matchup-image-audio",style:{backgroundColor:`${(bn=i==null?void 0:i.struct)==null?void 0:bn.colorTheme}`},children:[e.jsx("audio",{ref:Gr=>ge.current[Ye.id]=Gr,src:(vn=Ye==null?void 0:Ye.firstImage)==null?void 0:vn.src}),e.jsx("div",{className:"d-flex justify-content-end align-items-center",children:e.jsx("button",{type:"button",onClick:()=>De(Ye.id),children:ae===Ye.id?e.jsx("i",{className:"fa-solid fa-circle-pause"}):e.jsx("i",{class:"fa-solid fa-circle-play"})})})]})]}):e.jsx("div",{className:"find-one-pair-game-InnerImg",children:C.includes(pt)||S.includes(Ye.id)?e.jsxs(e.Fragment,{children:[((Nn=Ye.firstImage)==null?void 0:Nn.cardType)==="text"&&e.jsx("div",{style:{backgroundColor:`${(Yn=Ye==null?void 0:Ye.firstImage)==null?void 0:Yn.bgColor}`,color:`${(Zn=Ye==null?void 0:Ye.firstImage)==null?void 0:Zn.color}`},children:e.jsx("h3",{children:(Jn=Ye.firstImage)==null?void 0:Jn.text})}),((_n=Ye.firstImage)==null?void 0:_n.cardType)==="image"&&e.jsx("img",{src:(Xn=Ye.firstImage)==null?void 0:Xn.src,alt:"pair item"}),((Kn=Ye==null?void 0:Ye.firstImage)==null?void 0:Kn.cardType)==="audio"&&e.jsxs("div",{className:"matchup-image-audio",style:{backgroundColor:`${(Vn=i==null?void 0:i.struct)==null?void 0:Vn.colorTheme}`},children:[e.jsx("audio",{ref:Gr=>ge.current[Ye.id]=Gr,src:(Dn=Ye==null?void 0:Ye.firstImage)==null?void 0:Dn.src}),e.jsx("div",{className:"d-flex justify-content-end align-items-center",children:e.jsx("button",{onClick:()=>De(Ye.id),children:ae===Ye.id?e.jsx("i",{className:"fa-solid fa-circle-pause"}):e.jsx("i",{class:"fa-solid fa-circle-play"})})})]})]}):null})]})},pt)})})}),(g==null?void 0:g.isShowCover)&&!E&&!y&&Q&&e.jsxs("div",{className:"find-one-pair-game-cover",children:[e.jsx("h4",{children:g==null?void 0:g.coverHeader}),e.jsx("button",{onClick:xt,className:"btn btn-dark",style:{backgroundColor:`${(pe=i==null?void 0:i.struct)==null?void 0:pe.colorTheme}`},children:g==null?void 0:g.coverButtonText})]}),U&&($==null?void 0:$.description)!==""&&e.jsxs("div",{className:"find-one-pair-game-cover",children:[e.jsxs("div",{className:"d-flex justify-content-center py-2",children:[e.jsx("div",{className:"find-one-pair-game-win-images",style:{backgroundColor:`${(Re=$==null?void 0:$.firstImage)==null?void 0:Re.bgColor}`},children:((St=$==null?void 0:$.firstImage)==null?void 0:St.cardType)==="image"?e.jsx("img",{src:(ie=$==null?void 0:$.firstImage)==null?void 0:ie.src,alt:"imgaess"}):e.jsx("p",{children:(Me=$==null?void 0:$.firstImage)==null?void 0:Me.text})}),e.jsx("div",{className:"find-one-pair-game-win-images",style:{backgroundColor:`${(Ue=$==null?void 0:$.secondImage)==null?void 0:Ue.bgColor}`,color:`${(ke=$==null?void 0:$.secondImage)==null?void 0:ke.color}`},children:((Ht=$==null?void 0:$.secondImage)==null?void 0:Ht.cardType)==="image"?e.jsx("img",{src:(vs=$==null?void 0:$.secondImage)==null?void 0:vs.src,alt:"imgaess"}):e.jsx("p",{children:(Fe=$==null?void 0:$.secondImage)==null?void 0:Fe.text})})]}),e.jsx("div",{dangerouslySetInnerHTML:{__html:Qe}}),e.jsx("button",{onClick:_t,className:"btn btn-outline-dark mt-2",children:"Next"})]}),(y||Se&&((nt=(ht=i==null?void 0:i.struct)==null?void 0:ht.timerType)==null?void 0:nt.value)==="countdown")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fine-one-pair-finalScreen pt-4",children:[e.jsx("div",{className:"fine-one-pair-finalScreen-img",children:Se?e.jsx("img",{src:(us=(Ae=i==null?void 0:i.struct)==null?void 0:Ae.timeIsUpScreen)==null?void 0:us.imageSrc,alt:"imagesss"}):e.jsx("img",{src:b==null?void 0:b.imageSrc,alt:"imagesss"})}),e.jsxs("div",{className:"fine-one-pair-finalScreen-text",children:[e.jsx("h5",{children:Se?(ir=(or=i==null?void 0:i.struct)==null?void 0:or.timeIsUpScreen)==null?void 0:ir.header:b==null?void 0:b.header}),e.jsx("div",{dangerouslySetInnerHTML:{__html:ft}}),!Se&&((Ks=i==null?void 0:i.struct)==null?void 0:Ks.isActionButton)&&e.jsx("a",{href:(W=i==null?void 0:i.struct)==null?void 0:W.actionButtonLink,style:{backgroundColor:`${(de=i==null?void 0:i.struct)==null?void 0:de.colorTheme}`},onClick:ut,className:"btn btn-outline-dark",children:(Xe=i==null?void 0:i.struct)==null?void 0:Xe.actionButtonText}),!((at=i==null?void 0:i.struct)!=null&&at.isHideRestartButton)&&e.jsx("button",{onClick:ut,className:"btn btn-outline-dark",children:"Restart"})]}),!Se&&((yt=i==null?void 0:i.struct)==null?void 0:yt.enableTimer)&&e.jsxs("div",{className:"fine-one-pair-finalScreen-result",children:[(($e=i==null?void 0:i.struct)==null?void 0:$e.enableStars)&&N.map((Ye,pt)=>Ye>k?e.jsx(oi,{},pt):e.jsx(ii,{},pt)),e.jsxs("p",{className:"m-0",children:["Your result:"," ",((X=(Ce=i==null?void 0:i.struct)==null?void 0:Ce.timerType)==null?void 0:X.value)==="countdown"?xe:Ge,"s"]})]})]}),(((ct=i==null?void 0:i.struct)==null?void 0:ct.isShowRatingEmail)||((Ve=i==null?void 0:i.struct)==null?void 0:Ve.isEnableRating))&&!Se&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fine-one-pair-finalScreen-bestResult mt-4",children:[e.jsx("p",{className:"p-4",children:"Best results:"}),e.jsx("ol",{children:n==null?void 0:n.map((Ye,pt)=>e.jsx("li",{children:e.jsxs("div",{className:"d-flex justify-content-between p-4",children:[e.jsx("p",{children:Ye.name}),e.jsx("p",{children:Ye.time})]})},pt))})]}),e.jsx("div",{className:"fine-one-pair-finalScreen-bestResult my-4",children:e.jsxs("div",{className:"d-flex justify-content-between p-4",children:[e.jsx("p",{children:"You"}),e.jsxs("p",{children:[Ge,"s"]})]})})]}),((Et=i==null?void 0:i.struct)==null?void 0:Et.isShowLeadForm)&&e.jsx("p",{children:"LeadForm"})]})]})]})})})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function Cb({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,setShowTemplatePreview:P,cloneblock:p,handleMoveDown:h,handleMoveUp:l,handleAddBlockFromBlock:a}){var xt,dt,_t,De,ut,Le,ot,B,rt,vt,Nt,$t,We,mt,fe,Ne,et,Be,Ft,Kt,Qt,Vt,He,lt;const n=[{name:"John Brown",time:"00:24s"},{name:"John Red",time:"00:32s"},{name:"John White",time:"00:39s"},{name:"John Black",time:"00:48s"},{name:"John Yellow",time:"00:53s"}],i=c==null?void 0:c.struct,v=c==null?void 0:c.struct,b=Ts().shape({email:i!=null&&i.isShowRatingEmail&&(i!=null&&i.isEnableRating)?Rt().required("This field is required"):Rt(),code:((xt=i==null?void 0:i.passwordList)==null?void 0:xt.length)>0?Rt().required("This field is required"):Rt(),nickname:i!=null&&i.isEnableRating?Rt().required("This field is required"):Rt(),legalStatement:(i==null?void 0:i.legalStatement)!==""&&(i!=null&&i.isEnableRating)?rr().required("This field is required"):rr()}),g=(dt=c==null?void 0:c.struct)==null?void 0:dt.timeIsUpScreen,N=(_t=c==null?void 0:c.struct)==null?void 0:_t.timerType,u=i==null?void 0:i.starsTimeList.split(",").map(Ke=>Ke.trim()),_=((ut=(De=v==null?void 0:v.playground)==null?void 0:De.cardLayout)==null?void 0:ut.value)==="4x3"?6:4,j=(ot=(Le=v==null?void 0:v.pairs)==null?void 0:Le.pairList)==null?void 0:ot.slice(0,_),[C,z]=d.useState([]),[E,M]=d.useState([]),[S,F]=d.useState(!1),[y,A]=d.useState([]),[U,ee]=d.useState(!1),[oe,we]=d.useState(0),[$,L]=d.useState(i==null?void 0:i.countdownTime),[k,q]=d.useState(!1),[V,Y]=d.useState(!1),[se,Pe]=d.useState({}),[Se,_e]=d.useState(0),[G,le]=d.useState(!1),[ae,ye]=d.useState(!1),Te=sr.utc(Se*1e3).format("mm:ss"),Oe=sr.utc($*1e3).format("mm:ss"),Q={resolver:cr(b)},{register:ne,handleSubmit:ge,reset:J,formState:he}=nr(Q),{errors:Ie}=he,xe=(Ke=>Ke==null?void 0:Ke.replace(/U\+60;/g,"<").replace(/U\+62;/g,">").replace(/U\+34;/g,'"').replace(/U\+47;/g,"/").replace(/\\uD83D\\uDC47/g,"👇").replace(/U\+10;/g,`
`))(se==null?void 0:se.description),D=Ke=>{const st=[...Ke];for(let it=st.length-1;it>0;it--){const be=Math.floor(Math.random()*(it+1));[st[it],st[be]]=[st[be],st[it]]}return st},Z=Ke=>{F(!0),!(E.length===2||y.includes(C[Ke].id))&&M([...E,Ke])},R=()=>{ee(!0),Y(!1)},ce=Ke=>{var st;(i==null?void 0:i.passwordList.length)>0?(st=i==null?void 0:i.passwordList)!=null&&st.some(it=>it===Ke.code)?(le(!0),J()):ye(!0):(le(!0),J())},te=()=>{J(),q(!1),ee(!1),F(!1),le(!1),ye(!1),M([]),A([]),we(0),L(i==null?void 0:i.countdownTime),_e(0),Pe({})},me=()=>{le(!1),ye(!1)},Lt=()=>{F(!0),le(!1)},Pt=j==null?void 0:j.map(Ke=>({firstImage:Ke.firstImage,id:Ke.id})),Qe=j==null?void 0:j.map(Ke=>({firstImage:Ke.secondImage,id:Ke.id})),ft=()=>{z(D([...Pt,...Qe]))};return d.useEffect(()=>{ft()},[]),d.useEffect(()=>{if(E.length===2){we(it=>it+1);const[Ke,st]=E;C[Ke].id===C[st].id&&(A(C[Ke].id),setTimeout(()=>{var it;(it=v==null?void 0:v.pairs)!=null&&it.isShowFeedback?Y(!0):ee(!0),F(!1)},1e3)),setTimeout(()=>M([]),1e3)}},[E]),d.useEffect(()=>{const Ke=j.find(st=>st.id===y);Pe(Ke)},[y]),d.useEffect(()=>{let Ke;return S&&(Ke=setInterval(()=>{L(st=>st>0?st-1:0),_e(st=>st+1)},1e3)),()=>clearInterval(Ke)},[S]),d.useEffect(()=>{(N==null?void 0:N.value)==="countdown"&&(i!=null&&i.enableTimer)&&$===0&&q(!0)},[$,N]),e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("findPair",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("findPair",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>P("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]}),e.jsx("div",{className:"disabled-panel",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container my-4 overflow-hidden h-100 w-100",children:[!U&&!k&&e.jsxs(e.Fragment,{children:[(i==null?void 0:i.enableTimer)&&e.jsx("div",{className:"find-one-pair-actions",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("p",{className:"m-0",children:["Number of actions : ",e.jsx("span",{children:oe})]}),e.jsx("p",{className:"m-0",children:(N==null?void 0:N.value)==="countdown"?Oe:Te})]})}),e.jsx("div",{className:"fine-one-pair-playground pt-4",children:e.jsx("div",{className:"find-one-pair-game",children:e.jsx("div",{className:"row g-2",children:C.map((Ke,st)=>{var it,be,re,Ee;return e.jsx("div",{className:"col-3",children:e.jsxs("div",{className:`pair-card ${E.includes(st)||y.includes(Ke.id)?"flipped":""}`,style:{aspectRatio:((be=(it=c==null?void 0:c.struct)==null?void 0:it.playground)==null?void 0:be.cardProportions)??"1/1"},children:[e.jsx("div",{onClick:()=>Z(st),className:"find-one-pair-game-outerImg",children:e.jsx("img",{src:(re=v==null?void 0:v.playground)==null?void 0:re.cardBackImage,alt:"card back"})}),e.jsx("div",{className:"find-one-pair-game-InnerImg",children:E.includes(st)||y.includes(Ke.id)?e.jsx("img",{src:(Ee=Ke.firstImage)==null?void 0:Ee.src,alt:"pair item"}):null})]})},st)})})})})]}),(U||k)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fine-one-pair-finalScreen pt-4",children:[e.jsx("div",{className:"fine-one-pair-finalScreen-img",children:k?e.jsx("img",{src:g==null?void 0:g.imageSrc,alt:"imagesss"}):e.jsx("img",{src:(B=v==null?void 0:v.finalScreen)==null?void 0:B.imageSrc,alt:"imagesss"})}),e.jsxs("div",{className:"finalScreenBlock",children:[U&&(i==null?void 0:i.enableTimer)&&e.jsxs("div",{className:"fine-one-pair-finalScreen-result",children:[(i==null?void 0:i.enableStars)&&u.map((Ke,st)=>Ke>Se?e.jsx(oi,{},st):e.jsx(ii,{},st)),e.jsxs("p",{className:"m-0",children:["Your result:"," ",(N==null?void 0:N.value)==="countdown"?Oe:Te,"s"]})]}),e.jsxs("div",{className:"fine-one-pair-finalScreen-text",children:[e.jsx("h5",{children:k?g==null?void 0:g.header:(rt=v==null?void 0:v.finalScreen)==null?void 0:rt.header}),e.jsx("p",{children:k?g==null?void 0:g.description:(vt=v==null?void 0:v.finalScreen)==null?void 0:vt.description}),!k&&(i==null?void 0:i.isActionButton)&&e.jsx("a",{href:i==null?void 0:i.actionButtonLink,style:{backgroundColor:`${i==null?void 0:i.colorTheme}`},onClick:te,className:"btn btn-outline-dark",children:i==null?void 0:i.actionButtonText}),!(i!=null&&i.isHideRestartButton)&&e.jsx("button",{onClick:te,className:"btn btn-outline-dark",children:"Restart"})]})]}),(i==null?void 0:i.isShowLeadForm)&&e.jsx("p",{children:"LeadForm"})]}),((i==null?void 0:i.isShowRatingEmail)||(i==null?void 0:i.isEnableRating))&&!(i!=null&&i.isHideLeaderboard)&&(k||U)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fine-one-pair-finalScreen-bestResult mt-4",children:[e.jsx("p",{className:"p-4",children:"Best results:"}),e.jsx("ol",{children:n==null?void 0:n.map((Ke,st)=>e.jsx("li",{children:e.jsxs("div",{className:"d-flex justify-content-between p-4",children:[e.jsx("p",{children:Ke.name}),e.jsx("p",{children:Ke.time})]})},st))})]}),e.jsx("div",{className:"fine-one-pair-finalScreen-bestResult my-4",children:e.jsxs("div",{className:"d-flex justify-content-between p-4",children:[e.jsx("p",{children:"You"}),e.jsxs("p",{children:[Te,"s"]})]})})]})]})]}),((Nt=v==null?void 0:v.pairs)==null?void 0:Nt.isShowFeedback)&&V&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{display:"topBannerText",backgroundColor:"rgba(0, 0, 0, 0.5)"},role:"dialog",children:e.jsx("div",{className:"modal-dialog modal-md",children:e.jsxs("div",{className:"modal-content p-4",children:[e.jsxs("div",{className:"d-flex justify-content-center py-2",children:[e.jsx("div",{className:"find-one-pair-game-win-images",children:e.jsx("img",{src:($t=se==null?void 0:se.firstImage)==null?void 0:$t.src,alt:"imgaess"})}),e.jsx("div",{className:"find-one-pair-game-win-images",children:e.jsx("img",{src:(We=se==null?void 0:se.secondImage)==null?void 0:We.src,alt:"imgaess"})})]}),e.jsx("div",{dangerouslySetInnerHTML:{__html:xe}}),e.jsx("button",{onClick:R,className:"btn btn-outline-dark mt-2",children:"Next"})]})})}),(((mt=i==null?void 0:i.passwordList)==null?void 0:mt.length)>0||(i==null?void 0:i.isEnableRating))&&!ae&&!G&&!S&&!U&&!V&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{display:"topBannerText",backgroundColor:"rgba(0, 0, 0, 0.5)"},role:"dialog",children:e.jsx("div",{className:"modal-dialog modal-md",children:e.jsxs("div",{className:"modal-content p-4",children:[e.jsx("div",{className:"modal-body",children:e.jsx("h3",{className:"mb-4",children:"Sign in to play"})}),e.jsx("div",{className:"pt-2",children:e.jsx("form",{onSubmit:ge(ce),children:e.jsxs("div",{className:"row py-3",children:[((fe=i==null?void 0:i.passwordList)==null?void 0:fe.length)>0&&e.jsxs("div",{className:"col-12 mb-2",children:[e.jsx("lable",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Your code"}),e.jsx("input",{style:{border:"1px solid gray"},className:"form-control theme-control",type:"text",...ne("code")}),Ie.code&&e.jsx("p",{className:"text-danger",children:(Ne=Ie==null?void 0:Ie.code)==null?void 0:Ne.message})]}),(i==null?void 0:i.isEnableRating)&&e.jsxs("div",{className:"col-12 mb-2",children:[e.jsx("lable",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Nickname"}),e.jsx("input",{style:{border:"1px solid gray"},className:"form-control theme-control",type:"text",...ne("nickname")}),Ie.nickname&&e.jsx("p",{className:"text-danger",children:Ie.nickname.message})]}),(i==null?void 0:i.isShowRatingEmail)&&(i==null?void 0:i.isEnableRating)&&e.jsxs("div",{className:"col-12 mb-2",children:[e.jsx("lable",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Email"}),e.jsx("input",{style:{border:"1px solid gray"},className:"form-control theme-control",type:"email",...ne("email")}),Ie.email&&e.jsx("p",{className:"text-danger",children:Ie==null?void 0:Ie.email.message})]}),(i==null?void 0:i.legalStatement)!==""&&(i==null?void 0:i.isEnableRating)&&e.jsxs("div",{className:"col-12 mb-2",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control shadow-none m-0",...ne("legalStatement")}),e.jsx("label",{className:"ps-2",children:i==null?void 0:i.legalStatement})]}),e.jsx("div",{className:"d-flex justify-content-end pt-2",children:e.jsx("button",{type:"submit",className:"button button-primary border-0",children:"Start"})})]})})})]})})}),G&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{display:"topBannerText",backgroundColor:"rgba(0, 0, 0, 0.5)"},role:"dialog",children:e.jsx("div",{className:"modal-dialog modal-sm",children:e.jsx("div",{className:"modal-content p-4",children:e.jsxs("div",{className:"modal-body text-center",children:[e.jsx("h4",{children:(Be=(et=i==null?void 0:i.struct)==null?void 0:et.playground)!=null&&Be.coverHeader?(Kt=(Ft=i==null?void 0:i.struct)==null?void 0:Ft.playground)==null?void 0:Kt.coverHeader:""}),e.jsx("button",{onClick:Lt,className:"btn btn-primary",style:{backgroundColor:`${i==null?void 0:i.colorTheme}`,color:"#000"},children:(Vt=(Qt=i==null?void 0:i.struct)==null?void 0:Qt.playground)!=null&&Vt.coverButtonText?(lt=(He=i==null?void 0:i.struct)==null?void 0:He.playground)==null?void 0:lt.coverButtonText:"Start"})]})})})}),ae&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{display:"topBannerText",backgroundColor:"rgba(0, 0, 0, 0.5)"},role:"dialog",children:e.jsx("div",{className:"modal-dialog modal-sm",children:e.jsx("div",{className:"modal-content p-4",children:e.jsxs("div",{className:"modal-body text-center",children:[e.jsx("h4",{children:"Access is closed"}),e.jsx("p",{children:"The code is entered incorrectly or has expired."}),e.jsx("button",{onClick:me,className:"btn btn-primary",style:{backgroundColor:`${i==null?void 0:i.colorTheme}`},children:"Restart"})]})})})})]})})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function yb({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,setShowTemplatePreview:P,handleMoveDown:p,handleMoveUp:h,cloneblock:l,handleAddBlockFromBlock:a}){var xt,dt,_t,De,ut,Le,ot,B,rt,vt,Nt,$t,We,mt,fe,Ne,et,Be,Ft,Kt,Qt,Vt,He,lt,Ke,st,it,be,re,Ee,pe,Re,St,ie,Me,Ue,ke,Ht,vs,Fe,ht,nt,Ae,us,or,ir,Ks;const n=c,i=(dt=(xt=n==null?void 0:n.struct)==null?void 0:xt.pairs)==null?void 0:dt.pairList,v=(_t=n==null?void 0:n.struct)==null?void 0:_t.finalScreen,b=Ts().shape({email:(De=n==null?void 0:n.struct)!=null&&De.isShowRatingEmail&&((ut=n==null?void 0:n.struct)!=null&&ut.isEnableRating)?Rt().required("This field is required"):Rt(),code:((ot=(Le=n==null?void 0:n.struct)==null?void 0:Le.passwordList)==null?void 0:ot.length)>0?Rt().required("This field is required"):Rt(),nickname:(B=n==null?void 0:n.struct)!=null&&B.isEnableRating?Rt().required("This field is required"):Rt(),legalStatement:((rt=n==null?void 0:n.struct)==null?void 0:rt.legalStatement)!==""&&((vt=n==null?void 0:n.struct)!=null&&vt.isEnableRating)?rr().required("This field is required"):rr()}),[g,N]=d.useState([]),[u,_]=d.useState([]),[j,C]=d.useState(0),[z,E]=d.useState((Nt=n==null?void 0:n.struct)==null?void 0:Nt.countdownTime),[M,S]=d.useState(0),[F,y]=d.useState(!1),[A,U]=d.useState(!1),[ee,oe]=d.useState(!1),[we,$]=d.useState(!1),[L,k]=d.useState(null),[q,V]=d.useState(!1),[Y,se]=d.useState(!1),[Pe,Se]=d.useState(null),_e=d.useRef({}),G=sr.utc(j*1e3).format("mm:ss"),le=sr.utc(z*1e3).format("mm:ss"),ae=($t=n==null?void 0:n.struct)==null?void 0:$t.starsTimeList.split(",").map(W=>W.trim()),ye={resolver:cr(b)},{register:Te,handleSubmit:Oe,reset:Q,formState:ne}=nr(ye),{errors:ge}=ne,J=W=>{const de=[...W];for(let Xe=de.length-1;Xe>0;Xe--){const at=Math.floor(Math.random()*(Xe+1));[de[Xe],de[at]]=[de[at],de[Xe]]}return de},he=W=>{const de=_e.current[W];de&&(Pe===W?(de.pause(),Se(null)):(Object.values(_e.current).forEach(Xe=>{Xe.paused||Xe.pause()}),de.play(),Se(W)))},Ie=W=>{var de,Xe,at;((de=n==null?void 0:n.struct)==null?void 0:de.passwordList.length)>0?(at=(Xe=n==null?void 0:n.struct)==null?void 0:Xe.passwordList)!=null&&at.some(yt=>yt===W.code)?(y(!0),Q()):oe(!0):(y(!0),Q())},Ge=()=>{y(!1),oe(!1)},xe=()=>{U(!0),y(!1)},D=W=>{k(W)},Z=W=>{S(de=>de+1),L&&(_(de=>de.map(Xe=>Xe.id===W&&!Xe.pairId?{...Xe,pairId:L}:Xe)),k(null))},R=W=>{S(de=>de+1),_(de=>de.map(Xe=>Xe.id===W?{...Xe,pairId:null}:Xe))},ce=(W,de,Xe)=>{W.dataTransfer.setData("itemId",de),W.dataTransfer.setData("type",Xe)},te=(W,de,Xe)=>{W.preventDefault();const at=W.dataTransfer.getData("itemId"),yt=W.dataTransfer.getData("type");at&&(S($e=>$e+1),yt==="name"&&Xe==="image"?_($e=>$e.map(Ce=>Ce.pairId===at?{...Ce,pairId:null}:yt==="name"&&Xe==="image"&&Ce.id===de&&!Ce.pairId?{...Ce,pairId:at}:Ce)):yt==="name"&&Xe==="name"&&_($e=>$e.map(Ce=>Ce.pairId===at?{...Ce,pairId:null}:Ce)))},me=W=>{W.preventDefault()},Lt=()=>{var W,de,Xe,at;N([]),_([]),C(0),E((W=n==null?void 0:n.struct)==null?void 0:W.countdownTime),S(0),y(!1),U(!1),oe(!1),$(!1),k(null),V(!1),se(!1),ft(),((Xe=(de=n==null?void 0:n.struct)==null?void 0:de.passwordList)==null?void 0:Xe.length)===0&&!((at=n==null?void 0:n.struct)!=null&&at.isEnableRating)&&y(!0)},Pt=i==null?void 0:i.map(W=>({id:W.id,description:W.description,firstImage:W.firstImage})),Qe=i==null?void 0:i.map(W=>({id:W.id,description:W.description,firstImage:W.secondImage,pairId:null})),ft=()=>{var W;(W=n==null?void 0:n.struct)!=null&&W.shuffleCards?(N(J(Pt)),_(J(Qe))):(N(J(Pt)),_(Qe))};return d.useEffect(()=>{ft()},[]),d.useEffect(()=>{let W;return A&&!q&&(W=setInterval(()=>{E(de=>de>0?de-1:0),C(de=>de+1)},1e3)),()=>clearInterval(W)},[A,q]),d.useEffect(()=>{var W,de;((de=(W=n==null?void 0:n.struct)==null?void 0:W.timerType)==null?void 0:de.value)==="countdown"&&(n!=null&&n.enableTimer)&&z===0&&$(!0)},[z,n]),d.useEffect(()=>{var W,de,Xe,at;((de=(W=n==null?void 0:n.struct)==null?void 0:W.passwordList)==null?void 0:de.length)===0&&!((Xe=n==null?void 0:n.struct)!=null&&Xe.isEnableRating)&&y(!0),(at=n==null?void 0:n.struct)!=null&&at.enableTimer||(y(!1),U(!0))},[]),d.useEffect(()=>{u.every(de=>de.pairId!==null)?u.filter(Xe=>Xe.pairId===Xe.id).length===u.length?(V(!0),se(!1)):(V(!1),se(!0)):(V(!1),se(!1))},[u]),e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("matchup",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("matchup",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>P("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]}),e.jsx("div",{className:"disabled-panel",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container py-4",children:[!we&&!q&&e.jsxs(e.Fragment,{children:[((We=n==null?void 0:n.struct)==null?void 0:We.enableTimer)&&e.jsx("div",{className:"find-one-pair-actions",children:e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("p",{className:"m-0",children:["Number of actions : ",e.jsx("span",{children:M})]}),e.jsx("p",{className:"m-0",children:((fe=(mt=n==null?void 0:n.struct)==null?void 0:mt.timerType)==null?void 0:fe.value)==="countdown"?le:G})]})}),e.jsx("div",{className:"row d-flex justify-content-center mt-4",children:e.jsx("div",{className:"col-lg-12",children:e.jsx("div",{className:"d-flex align-items-center flex-wrap gap-2 justify-content-center",children:g.map(W=>{var de,Xe,at,yt,$e,Ce,X,ct,Ve,Et,Ye,pt,zt;return e.jsx("div",{children:u.some(Dt=>Dt.pairId===W.id)?e.jsx("div",{className:"black-name-card",style:{backgroundColor:`${(de=W==null?void 0:W.firstImage)==null?void 0:de.bgColor}`},onClick:()=>{var Dt;return R((Dt=u.find(Is=>Is.pairId===W.id))==null?void 0:Dt.id)},onDrop:Dt=>te(Dt,null,"name"),onDragOver:me}):A?e.jsxs("div",{role:"button",className:(($e=W==null?void 0:W.firstImage)==null?void 0:$e.cardType)==="text"?"matchup-name":"matchup-image",style:{backgroundColor:`${(Ce=W==null?void 0:W.firstImage)==null?void 0:Ce.bgColor}`},onClick:()=>D(W.id),draggable:!0,onDragStart:Dt=>ce(Dt,W.id,"name"),onDrop:Dt=>te(Dt,W.id,"name"),onDragOver:me,children:[((X=W==null?void 0:W.firstImage)==null?void 0:X.cardType)==="image"&&e.jsx("img",{src:(ct=W==null?void 0:W.firstImage)==null?void 0:ct.src,alt:W.firstImage.text}),((Ve=W==null?void 0:W.firstImage)==null?void 0:Ve.cardType)==="text"&&e.jsx("h5",{className:"m-0",style:{color:`${(Et=W==null?void 0:W.firstImage)==null?void 0:Et.color}`},children:W.firstImage.text}),((Ye=W==null?void 0:W.firstImage)==null?void 0:Ye.cardType)==="audio"&&e.jsxs("div",{className:"matchup-image-audio",style:{backgroundColor:`${(pt=n==null?void 0:n.struct)==null?void 0:pt.colorTheme}`},children:[e.jsx("audio",{ref:Dt=>_e.current[W.id]=Dt,src:(zt=W==null?void 0:W.firstImage)==null?void 0:zt.src}),e.jsx("div",{className:"d-flex justify-content-end align-items-center",children:e.jsx("button",{onClick:()=>he(W.id),children:Pe===W.id?e.jsx("i",{className:"fa-solid fa-circle-pause"}):e.jsx("i",{class:"fa-solid fa-circle-play"})})})]})]}):e.jsx("div",{role:"button",className:"matchup-name",style:{backgroundColor:`${(Xe=n==null?void 0:n.struct)==null?void 0:Xe.colorTheme}`},children:e.jsx("h5",{className:"m-0",style:{color:`${(at=n==null?void 0:n.struct)!=null&&at.color?(yt=n==null?void 0:n.struct)==null?void 0:yt.color:"#000"}`},children:"?"})})},W.id)})})})}),e.jsx("div",{className:"d-flex align-items-center gap-2 flex-wrap justify-content-center mt-4",children:u.map(W=>{var de,Xe,at,yt,$e,Ce,X,ct,Ve,Et,Ye,pt,zt,Dt,Is,kr,pr,qr,Lr,hr,gr,Os,Rr;return e.jsx("div",{className:"matchup-name-image p-2 bg-white shadow rounded-3",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[W.pairId?e.jsxs("div",{role:"button",className:`${g.map(Yt=>Yt.firstImage.cardType==="image")?"matchup-image":"matchup-name"}
                            ${Y&&!q?"shake-animation":""}
                        `,style:{backgroundColor:`${(Xe=(de=g[0])==null?void 0:de.firstImage)==null?void 0:Xe.bgColor}`},draggable:!0,onDragStart:Yt=>ce(Yt,W.pairId,"name"),onDrop:Yt=>te(Yt,W.id,"name"),onDragOver:me,onClick:()=>R(W.id),children:[g.some(Yt=>{var Ps;return((Ps=Yt==null?void 0:Yt.firstImage)==null?void 0:Ps.cardType)==="image"})&&e.jsx("img",{src:(yt=(at=g.find(Yt=>Yt.id===W.pairId))==null?void 0:at.firstImage)==null?void 0:yt.src,alt:(Ce=($e=g.find(Yt=>Yt.id===W.pairId))==null?void 0:$e.firstImage)==null?void 0:Ce.text}),g.some(Yt=>{var Ps;return((Ps=Yt==null?void 0:Yt.firstImage)==null?void 0:Ps.cardType)==="text"})&&e.jsx("h5",{className:"m-0",style:{color:`${(ct=(X=g[0])==null?void 0:X.firstImage)==null?void 0:ct.color}`},children:(Et=(Ve=g.find(Yt=>Yt.id===W.pairId))==null?void 0:Ve.firstImage)==null?void 0:Et.text}),g.some(Yt=>{var Ps;return((Ps=Yt==null?void 0:Yt.firstImage)==null?void 0:Ps.cardType)==="audio"})&&e.jsxs("div",{className:"matchup-image-audio",style:{backgroundColor:`${(Ye=n==null?void 0:n.struct)==null?void 0:Ye.colorTheme}`},children:[e.jsx("audio",{ref:Yt=>_e.current[W.id]=Yt,src:(pt=W==null?void 0:W.firstImage)==null?void 0:pt.src}),e.jsx("div",{className:"d-flex justify-content-end align-items-center",children:e.jsx("button",{onClick:()=>he(W.id),children:Pe===W.id?e.jsx("i",{className:"fa-solid fa-circle-pause"}):e.jsx("i",{class:"fa-solid fa-circle-play"})})})]})]}):e.jsx("div",{role:"button",className:`matchup-blank ${L!==null?"active":""}`,onClick:()=>Z(W.id),onDrop:Yt=>te(Yt,W.id,"image"),onDragOver:me}),e.jsxs("div",{style:{backgroundColor:`${((zt=W==null?void 0:W.firstImage)==null?void 0:zt.cardType)==="text"?(Dt=W==null?void 0:W.firstImage)==null?void 0:Dt.bgColor:""}`,color:`${((Is=W==null?void 0:W.firstImage)==null?void 0:Is.cardType)==="text"?(kr=W==null?void 0:W.firstImage)==null?void 0:kr.color:""}`},className:`matchup-image ${Y&&!q?"shake-animation":""}`,children:[((pr=W==null?void 0:W.firstImage)==null?void 0:pr.cardType)==="text"&&e.jsx("h5",{children:(qr=W==null?void 0:W.firstImage)==null?void 0:qr.text}),((Lr=W==null?void 0:W.firstImage)==null?void 0:Lr.cardType)==="image"&&e.jsx("img",{src:(hr=W==null?void 0:W.firstImage)==null?void 0:hr.src,alt:W.id}),((gr=W==null?void 0:W.firstImage)==null?void 0:gr.cardType)==="audio"&&e.jsxs("div",{className:"matchup-image-audio",style:{backgroundColor:`${(Os=n==null?void 0:n.struct)==null?void 0:Os.colorTheme}`},children:[e.jsx("audio",{ref:Yt=>_e.current[W.id]=Yt,src:(Rr=W==null?void 0:W.firstImage)==null?void 0:Rr.src}),e.jsx("div",{className:"d-flex justify-content-end align-items-center",children:e.jsx("button",{onClick:()=>he(W.id),children:Pe===W.id?e.jsx("i",{className:"fa-solid fa-circle-pause"}):e.jsx("i",{class:"fa-solid fa-circle-play"})})})]})]})]})},W.id)})})]}),(q||we)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fine-one-pair-finalScreen pt-4",children:[e.jsx("div",{className:"fine-one-pair-finalScreen-img",children:we?(et=(Ne=n==null?void 0:n.struct)==null?void 0:Ne.timeIsUpScreen)!=null&&et.imageSrc?e.jsx("img",{src:(Ft=(Be=n==null?void 0:n.struct)==null?void 0:Be.timeIsUpScreen)==null?void 0:Ft.imageSrc,alt:"imagesss"}):e.jsx("div",{style:{height:"300px"}}):e.jsx("img",{src:v==null?void 0:v.imageSrc,alt:"imagesss"})}),e.jsxs("div",{className:"finalScreenBlock",children:[!we&&((Kt=n==null?void 0:n.struct)==null?void 0:Kt.enableTimer)&&e.jsxs("div",{className:"fine-one-pair-finalScreen-result",children:[((Qt=n==null?void 0:n.struct)==null?void 0:Qt.enableStars)&&ae.map((W,de)=>W>j?e.jsx(oi,{},de):e.jsx(ii,{},de)),e.jsxs("p",{className:"m-0",children:["Your result:"," ",((He=(Vt=n==null?void 0:n.struct)==null?void 0:Vt.timerType)==null?void 0:He.value)==="countdown"?le:G,"s"]})]}),e.jsxs("div",{className:"fine-one-pair-finalScreen-text",children:[e.jsx("h5",{children:we?(Ke=(lt=n==null?void 0:n.struct)==null?void 0:lt.timeIsUpScreen)==null?void 0:Ke.header:v==null?void 0:v.header}),e.jsx("p",{children:we?(it=(st=n==null?void 0:n.struct)==null?void 0:st.timeIsUpScreen)==null?void 0:it.description:v==null?void 0:v.description}),!we&&((be=n==null?void 0:n.struct)==null?void 0:be.isActionButton)&&e.jsx("a",{href:(re=n==null?void 0:n.struct)==null?void 0:re.actionButtonLink,style:{backgroundColor:`${(Ee=n==null?void 0:n.struct)==null?void 0:Ee.colorTheme}`},onClick:Lt,className:"btn btn-outline-dark",children:(Re=(pe=n==null?void 0:n.struct)==null?void 0:pe.struct)==null?void 0:Re.actionButtonText}),!((St=n==null?void 0:n.struct)!=null&&St.isHideRestartButton)&&e.jsx("button",{onClick:Lt,className:"btn btn-outline-dark",children:"Restart"})]})]})]}),((ie=n==null?void 0:n.struct)==null?void 0:ie.isShowLeadForm)&&e.jsx("p",{children:"LeadForm"})]})]}),(((Ue=(Me=n==null?void 0:n.struct)==null?void 0:Me.passwordList)==null?void 0:Ue.length)>0||((ke=n==null?void 0:n.struct)==null?void 0:ke.isEnableRating))&&!ee&&!F&&!A&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},role:"dialog",children:e.jsx("div",{className:"modal-dialog modal-md modal-dialog-centered",children:e.jsxs("div",{className:"modal-content p-4",children:[e.jsx("div",{className:"text-start",children:e.jsx("h3",{className:"mb-4",children:"Sign in to play"})}),e.jsx("div",{children:e.jsx("form",{onSubmit:Oe(Ie),children:e.jsxs("div",{className:"row py-3",children:[((vs=(Ht=n==null?void 0:n.struct)==null?void 0:Ht.passwordList)==null?void 0:vs.length)>0&&e.jsxs("div",{className:"col-12 mb-2",children:[e.jsx("lable",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Your code"}),e.jsx("input",{style:{border:"1px solid gray"},className:"answer-input form-control theme-control",type:"text",...Te("code")}),ge.code&&e.jsx("p",{className:"text-danger",children:(Fe=ge==null?void 0:ge.code)==null?void 0:Fe.message})]}),((ht=n==null?void 0:n.struct)==null?void 0:ht.isEnableRating)&&e.jsxs("div",{className:"col-12 mb-2",children:[e.jsx("lable",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Nickname"}),e.jsx("input",{style:{border:"1px solid gray"},className:"answer-input form-control theme-control",type:"text",...Te("nickname")}),ge.nickname&&e.jsx("p",{className:"text-danger",children:ge.nickname.message})]}),((nt=n==null?void 0:n.struct)==null?void 0:nt.isShowRatingEmail)&&((Ae=n==null?void 0:n.struct)==null?void 0:Ae.isEnableRating)&&e.jsxs("div",{className:"col-12 mb-2",children:[e.jsx("lable",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Email"}),e.jsx("input",{style:{border:"1px solid gray"},className:"answer-input form-control theme-control",type:"email",...Te("email")}),ge.email&&e.jsx("p",{className:"text-danger",children:ge==null?void 0:ge.email.message})]}),((us=n==null?void 0:n.struct)==null?void 0:us.legalStatement)!==""&&((or=n==null?void 0:n.struct)==null?void 0:or.isEnableRating)&&e.jsxs("div",{className:"col-12 mb-2",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control shadow-none m-0",...Te("legalStatement")}),e.jsx("label",{className:"ps-2",children:(ir=n==null?void 0:n.struct)==null?void 0:ir.legalStatement})]}),e.jsx("div",{className:"d-flex justify-content-end pt-2",children:e.jsx("button",{type:"submit",className:"button button-primary border-0",children:"Start"})})]})})})]})})}),F&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},role:"dialog",children:e.jsx("div",{className:"modal-dialog modal-sm",children:e.jsx("div",{className:"modal-content p-4",children:e.jsx("div",{className:"modal-body text-center",children:e.jsx("button",{onClick:xe,className:"btn btn-primary",style:{backgroundColor:`${(Ks=n==null?void 0:n.struct)==null?void 0:Ks.colorTheme}`,color:"#000"},children:"Start"})})})})}),ee&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},role:"dialog",children:e.jsx("div",{className:"modal-dialog modal-sm",children:e.jsx("div",{className:"modal-content p-4",children:e.jsxs("div",{className:"modal-body text-center",children:[e.jsx("h4",{children:"Access is closed"}),e.jsx("p",{children:"The code is entered incorrectly or has expired."}),e.jsx("button",{onClick:Ge,className:"btn btn-primary",children:"Restart"})]})})})})]})})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function Sb({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,cloneblock:P,handleMoveDown:p,handleAddBlockFromBlock:h,handleMoveUp:l}){const a=wt(),{templateDetails:n}=bt(A=>A.DrawerReducer),i=c;(A=>A==null?void 0:A.replace(/U\+60;/g,"<").replace(/U\+62;/g,">").replace(/U\+34;/g,'"').replace(/U\+47;/g,"/").replace(/U\+10;/g,`
`))(i==null?void 0:i.text);const[b,g]=d.useState(`${i==null?void 0:i.text}`),[N,u]=d.useState(),[_,j]=d.useState(50),[C,z]=d.useState(105),[E,M]=d.useState(!1),S=d.useRef(null);d.useEffect(()=>{const A=()=>{if(S.current){const we=S.current.getBoundingClientRect(),$=Math.abs(we.top);z(200+$),j(Math.min(80+$)),M($>50)}},U=()=>{window.addEventListener("scroll",A)},ee=()=>{window.removeEventListener("scroll",A),j(50),z(105),M(!1)},oe=S.current;return oe&&(oe.addEventListener("mouseenter",U),oe.addEventListener("mouseleave",ee)),()=>{oe&&(oe.removeEventListener("mouseenter",U),oe.removeEventListener("mouseleave",ee)),window.removeEventListener("scroll",A)}},[]);const F=()=>{console.log("");const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===(c==null?void 0:c.id)?{...ee,text:b}:ee)}))}};u(A)},y=A=>{console.log(""),g(A)};return d.useEffect(()=>{if(N){const A={...n,project_structure:{...n.project_structure,pages:n.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===(c==null?void 0:c.id)?{...ee,text:b}:ee)}))}};a(T(A))}},[N]),e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("timeline",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsx("div",{className:"game_mainParent",children:e.jsx("div",{className:"",children:e.jsx(e.Fragment,{children:e.jsx("div",{className:"container overflow-hidden",children:e.jsx("div",{ref:S,style:{background:`${i!=null&&i.isTransparentBackground?"transparent":i==null?void 0:i.wP_bg}`,height:"100%",overflow:"hidden",position:"relative"},children:e.jsxs("div",{className:"timeline-container editor-timeline",children:[e.jsx("div",{className:"py-2",children:e.jsx("input",{type:"text",defaultValue:i==null?void 0:i.markTitle,className:"w-100"})}),e.jsx("div",{children:e.jsx("input",{type:"text",defaultValue:i==null?void 0:i.markSubtitle,className:"w-100"})}),(i==null?void 0:i.imageUrl)&&e.jsx("div",{className:"timeline-img",children:e.jsx("img",{src:i==null?void 0:i.imageUrl,alt:i==null?void 0:i.markTitle})}),e.jsx("div",{children:e.jsx("p",{style:{color:"gray"},children:i==null?void 0:i.imageDescription})}),e.jsx(Ir,{handleChange:y,handleSave:F,text:b}),e.jsx("div",{className:"timeline-navigation-top",style:{top:`${_}px`,opacity:E?1:0,visibility:E?"visible":"hidden"},onClick:()=>{S.current&&S.current.scrollIntoView({behavior:"smooth",block:"start"})},children:e.jsx("p",{children:i==null?void 0:i.markTitle})}),e.jsx("div",{className:"timeline-navigation-center",style:{top:`${C}px`},onClick:()=>{S.current&&S.current.scrollIntoView({behavior:"smooth",block:"start"})}})]})})})})})}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>P(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function Tb({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,setShowTemplatePreview:P,cloneblock:p,handleMoveDown:h,handleMoveUp:l,handleAddBlockFromBlock:a}){var Ft,Kt,Qt,Vt,He,lt,Ke,st,it,be,re,Ee,pe,Re,St;const n=(Kt=(Ft=c==null?void 0:c.struct)==null?void 0:Ft.leadFormStruct)==null?void 0:Kt.form,i=(Qt=c==null?void 0:c.struct)==null?void 0:Qt.isHideRestartButton,v=(Vt=c==null?void 0:c.struct)==null?void 0:Vt.isShowShuffleButton,b=(He=c==null?void 0:c.struct)==null?void 0:He.isHighlightCorrect,g=(lt=c==null?void 0:c.struct)==null?void 0:lt.callToActionEnabled,N=(Ke=c==null?void 0:c.struct)==null?void 0:Ke.colorTheme,u=(st=c==null?void 0:c.struct)==null?void 0:st.enableTimer,_=(it=c==null?void 0:c.struct)==null?void 0:it.correctColor,j=c==null?void 0:c.struct,C=(be=c==null?void 0:c.struct)==null?void 0:be.timeIsUpScreen,z=(re=c==null?void 0:c.struct)==null?void 0:re.playground,E=c==null?void 0:c.struct,M=z==null?void 0:z.gameType,S=z==null?void 0:z.imageUrl,F=z==null?void 0:z.tilesCount,y=z==null?void 0:z.coverHeader,A=z==null?void 0:z.isShowCover,U=z==null?void 0:z.coverButtonText,ee=z==null?void 0:z.isShowImageNumbers,oe=c==null?void 0:c.struct,we=oe==null?void 0:oe.starsTimeList.split(",").map(ie=>ie.trim()),$={finalMessage:(Ee=E==null?void 0:E.final)==null?void 0:Ee.description,colorTheme:j,image:E.final.image,header:E.final.header,description:E==null?void 0:E.final.description,imageDisclaimer:"",gameType:M,imageUrl:S,tilesCount:F,coverHeader:y,isShowCover:A,coverButtonText:U,isShowImageNumbers:ee,hideRestartButton:""},L={gameType:$==null?void 0:$.gameType,puzzleImage:$==null?void 0:$.imageUrl,tilesCount:$==null?void 0:$.tilesCount,headerMessage:$==null?void 0:$.coverHeader,coverButtonText:$==null?void 0:$.coverButtonText,finalMessage:$==null?void 0:$.description,colorTheme:"#b3d7fc"},[k,q]=d.useState($==null?void 0:$.isShowCover);d.useState(!1);const[V,Y]=d.useState([]),[se,Pe]=d.useState(null),[Se,_e]=d.useState(!1);d.useState(!!n),d.useState("");const[G,le]=d.useState(0);d.useState(!1),d.useState({});const[ae,ye]=d.useState(!1);d.useState(!1),d.useState([]),d.useState({password:"",...(pe=n==null?void 0:n.fields)==null?void 0:pe.reduce((ie,Me)=>(ie[Me.key]="",ie),{})});const[Te,Oe]=d.useState(!0),Q=c==null?void 0:c.struct,ne=(St=(Re=c==null?void 0:c.struct)==null?void 0:Re.timerType)==null?void 0:St.value;d.useEffect(()=>{document.documentElement.style.setProperty("--tilesCount",Math.sqrt(L.tilesCount)),R()},[L.tilesCount]);const[ge,J]=d.useState(0),[he,Ie]=d.useState(Q==null?void 0:Q.countdownTime),Ge=sr.utc(ge*1e3).format("mm:ss"),xe=sr.utc(he*1e3).format("mm:ss"),[D,Z]=d.useState(!1);d.useEffect(()=>{let ie;return D&&!Se&&he>0?ie=setInterval(()=>{Ie(Me=>Me>0?Me-1:0),J(Me=>Me+1)},1e3):he===0&&clearInterval(ie),()=>clearInterval(ie)},[D,Se,he]),console.log(g,"callToActionEnabledButton"),console.log("REOI9903rr98u0r39");const R=()=>{let ie=Array.from({length:L.tilesCount-1},(Ue,ke)=>ke+1);ie.push(0);do ie=me(ie);while(te(ie));const Me=ie.indexOf(0);Pe(Me),Y(ie),_e(!1),le(0),Ie((Q==null?void 0:Q.countdownTime)??30),Oe(!1),J(0)},ce=()=>{let ie=Array.from({length:L.tilesCount-1},(Ue,ke)=>ke+1);ie.push(0);do ie=me(ie);while(te(ie));const Me=ie.indexOf(0);Pe(Me),Y(ie)};d.useEffect(()=>{he<=0&&Oe(!0)},[he]);const te=ie=>ie.every((Me,Ue)=>Me===(Ue+1)%ie.length),me=ie=>{for(let Me=ie.length-1;Me>0;Me--){const Ue=Math.floor(Math.random()*(Me+1));[ie[Me],ie[Ue]]=[ie[Ue],ie[Me]]}return ie},Lt=ie=>{ie.every((Ue,ke)=>Ue===0||Ue===ke+1)&&_e(!0)},Pt=ie=>{if(Z(!0),!Se&&Qe(ie,se)){const Me=[...V];[Me[ie],Me[se]]=[Me[se],Me[ie]],Y(Me),Pe(ie),le(Ue=>Ue+1),setTimeout(()=>{Lt(Me)},100)}},Qe=(ie,Me)=>{const Ue=Math.sqrt(L.tilesCount),ke=Math.floor(ie/Ue),Ht=ie%Ue,vs=Math.floor(Me/Ue),Fe=Me%Ue;return Math.abs(ke-vs)+Math.abs(Ht-Fe)===1},ft=Math.sqrt(L.tilesCount),xt=Math.sqrt(L.tilesCount),dt={struct:{final:{image:$.image,header:$.header,description:$==null?void 0:$.description,imageDisclaimer:""},playground:{gameType:$==null?void 0:$.gameType,imageUrl:$==null?void 0:$.imageUrl,tilesCount:$==null?void 0:$.tilesCount,coverHeader:$==null?void 0:$.coverHeader,isShowCover:$==null?void 0:$.isShowCover,coverButtonText:$==null?void 0:$.coverButtonText,isShowImageNumbers:$==null?void 0:$.isShowImageNumbers}}},{imageUrl:_t,tilesCount:De,isShowImageNumbers:ut}=dt.struct.playground,[Le,ot]=d.useState([]),[B,rt]=d.useState(null),[vt,Nt]=d.useState(!1);d.useEffect(()=>{document.documentElement.style.setProperty("--tilesCount",Math.sqrt(De)),$t()},[]);const $t=()=>{let ie=Array.from({length:De},(Ue,ke)=>ke);ie=We(ie);const Me=ie.indexOf(0);ot(ie),rt(Me),Nt(!1),le(0),Ie((Q==null?void 0:Q.countdownTime)??30),Oe(!1),J(0)},We=ie=>{for(let Me=ie.length-1;Me>0;Me--){const Ue=Math.floor(Math.random()*(Me+1));[ie[Me],ie[Ue]]=[ie[Ue],ie[Me]]}return ie},mt=ie=>{ie.every((Ue,ke)=>Ue===0||Ue===ke+1)&&setTimeout(()=>{ot(Ue=>{const ke=[...Ue],Ht=Ue.indexOf(0);return ke[Ht]=ie.length,ke}),setTimeout(()=>{Nt(!0)},1e3)},500)},fe=ie=>{if(Z(!0),!vt&&Ne(ie,B)){const Me=[...Le];[Me[ie],Me[B]]=[Me[B],Me[ie]],ot(Me),rt(ie),le(Ue=>Ue+1),setTimeout(()=>mt(Me),100)}},Ne=(ie,Me)=>{const Ue=Math.sqrt(De),ke=Math.floor(ie/Ue),Ht=ie%Ue,vs=Math.floor(Me/Ue),Fe=Me%Ue;return Math.abs(ke-vs)+Math.abs(Ht-Fe)===1},et=Math.sqrt(De),Be=Math.sqrt(De);return e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("sliding-puzzle",c),children:[" ",e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsxs("div",{className:"game_mainParent",children:[e.jsx("div",{className:"editButton",children:e.jsx("button",{className:"button-boost",onClick:()=>w("sliding-puzzle",c==null?void 0:c.id),children:"Edit"})}),e.jsxs("div",{className:"preview-alert",children:["You can try the game in action in the"," ",e.jsxs("span",{type:"button",onClick:()=>P("preview"),children:[e.jsx("i",{class:"fa-regular fa-eye"})," Preview mode"]})]}),e.jsx("div",{className:"disabled-panel",children:e.jsxs(e.Fragment,{children:[!Se&&ae!==!0&&($==null?void 0:$.gameType)=="NUMBERS"&&e.jsx("div",{className:"block __28 slidingPuzzle-block",children:e.jsxs("div",{className:"sliding-puzzle-container",children:[!Se&&Te!==!0&&u&&e.jsxs("div",{className:"statistic withMoves",style:{width:"568px"},children:[e.jsxs("div",{className:"statistic__moves",children:[e.jsxs("span",{className:"statistic__moves-title",children:[" ","Number Of Actions"," "]}),e.jsx("span",{children:G})]}),e.jsxs("div",{children:[console.log(xe,"formattedTimeLeftformattedTimeLeft"),e.jsx("div",{className:"statistic__timer",children:ne=="stopwatch"?xe:Ge})]})]}),k&&e.jsx("div",{className:"modal cover-modal",style:{maxWidth:"568px",left:"50%",transform:"translateX(-50%)"},children:e.jsx("div",{className:"modal__content",children:e.jsx("div",{className:"modal__content-scroll",children:e.jsxs("div",{className:"common-cover",children:[e.jsx("h2",{className:"common-cover__title",children:$.coverHeader}),e.jsx("button",{onClick:()=>q(ie=>!ie),style:{backgroundColor:N,color:"rgb(255, 255, 255)"},className:"common-cover__button",children:$.coverButtonText})]})})})}),!Se&&Te!==!0&&e.jsxs("div",{className:"sliding-puzzle__playground",children:[e.jsxs("div",{className:"sliding-puzzle__playground__workplace",style:{maxWidth:"568px",padding:"40px",backgroundColor:N},children:[e.jsx("div",{className:"sliding-puzzle__playground__workplace__helper"}),e.jsx("div",{className:"sliding-puzzle__board",style:{gridTemplateColumns:`repeat(${xt}, 1fr)`,gridTemplateRows:`repeat(${ft}, 1fr)`},children:V.map((ie,Me)=>e.jsx("div",{className:`sliding-puzzle__tile ${Me===se?"sliding-puzzle__tile--is-hidden":"sliding-puzzle__tile--is-can-move"}`,style:{backgroundColor:b&&ie!==0&&ie===Me+1?_:N,display:"flex",justifyContent:"center",alignItems:"center",fontSize:"36px",fontWeight:"bold",color:"white",cursor:"pointer",borderRadius:4,aspectRatio:"1/1"},onClick:()=>Pt(Me),children:Me!==se&&e.jsx("div",{className:"sliding-puzzle__tile__inner",children:ie})},Me))})]}),v==!0&&e.jsx("div",{className:"sliding-puzzle__shuffle-button-container",children:e.jsx("button",{onClick:ce,className:"common__button custom sliding-puzzle__shuffle-button",children:"Shuffle"})})]})]})}),Se&&ae!==!0&&($==null?void 0:$.gameType)==="NUMBERS"&&e.jsxs("div",{className:"final-screen is-win",children:[e.jsx("div",{className:"final-screen__image-container",style:{paddingBottom:"75%"},children:e.jsx("div",{className:"final-screen__image",style:{backgroundImage:`url(${L.puzzleImage})`}})}),e.jsxs("div",{className:"final-screen__content",children:[e.jsx("div",{className:"final-screen__content-header",children:L.finalMessage}),e.jsx("div",{className:"restart-button__wrapper",children:i!==!0&&e.jsx("button",{onClick:R,className:"restart-button__btn",children:"Restart"})}),e.jsx("div",{className:"restart-button__wrapper",children:g===!0&&e.jsx("button",{onClick:R,className:"restart-button__btn",children:"accccc"})})]})]}),!Se&&Te&&e.jsxs("div",{className:"final-screen__content no-image with-time",style:{paddingBottom:"72px"},children:[e.jsx("div",{className:"final-screen__content-result",style:{backgroundImage:`url(${L.puzzleImage})`},children:e.jsxs("div",{className:"final-screen__content-result-counter",children:[e.jsx("p",{className:"final-screen__content-result-counter-title",children:"Your Result"}),e.jsx("p",{className:"final-screen__content-result-counter-time",children:xe})]})}),e.jsx("div",{className:"final-screen__content-header",children:C==null?void 0:C.header}),e.jsxs("div",{className:"final-screen__content-description",children:[C==null?void 0:C.description,e.jsxs("div",{className:"fine-one-pair-finalScreen-result",children:[(oe==null?void 0:oe.enableStars)&&we.map((ie,Me)=>ie>ge?"star icon":"eguar star"),e.jsxs("p",{className:"m-0",children:["Your result:"," ",ne=="stopwatch"?Ge:xe]})]})]}),e.jsx("div",{className:"restart-button__wrapper",children:C.isRetryButton==!0&&e.jsx("button",{onClick:R,className:"restart-button__btn",children:"Retry"})})]}),($==null?void 0:$.gameType)=="IMAGE"&&ae!==!0&&e.jsxs(e.Fragment,{children:[!vt&&e.jsx("div",{className:"slidingPuzzle-block",children:e.jsxs("div",{className:"sliding-puzzle-container",children:[!vt&&Te!==!0&&u&&e.jsxs("div",{className:"statistic withMoves",style:{width:"568px"},children:[e.jsxs("div",{className:"statistic__moves",children:[e.jsxs("span",{className:"statistic__moves-title",children:[" ","Number Of Actions"," "]}),e.jsx("span",{children:G})]}),e.jsxs("div",{children:[console.log(xe,"formattedTimeLeftformattedTimeLeft"),e.jsx("div",{className:"statistic__timer",children:ne=="stopwatch"?Ge:xe})]})]}),k&&e.jsx("div",{className:"modal cover-modal",style:{maxWidth:"568px",left:"50%",transform:"translateX(-50%)"},children:e.jsx("div",{className:"modal__content",children:e.jsx("div",{className:"modal__content-scroll",children:e.jsxs("div",{className:"common-cover",children:[e.jsx("h2",{className:"common-cover__title",children:$.coverHeader}),e.jsx("button",{onClick:()=>q(ie=>!ie),style:{backgroundColor:N,color:"rgb(255, 255, 255)"},className:"common-cover__button",children:$.coverButtonText})]})})})}),!vt&&Te!==!0&&e.jsxs("div",{className:"sliding-puzzle__playground",children:[e.jsx("div",{className:"sliding-puzzle__playground__workplace",children:e.jsx("div",{className:"sliding-puzzle__board",style:{minHeight:500,gridTemplateColumns:`repeat(${Be}, 1fr)`},children:Le.map((ie,Me)=>{Le.indexOf(0);const Ue=ie===0&&vt?B+1:ie;return e.jsx("div",{className:`sliding-puzzle__tile ${ie===0&&!vt?"sliding-puzzle__tile--is-hidden":"sliding-puzzle__tile--is-can-move"}`,style:{backgroundImage:Ue!==0?`url(${_t})`:"none",backgroundSize:`${Be*100}% ${et*100}%`,backgroundPosition:Ue!==0?`${(Ue-1)%Be*(100/(Be-1))}% ${Math.floor((Ue-1)/Be)*(100/(et-1))}%`:`${Le.length%Be*(100/(Be-1))}% ${Math.floor(Le.length/Be)*(100/(et-1))}%`,margin:"4px",border:"3px solid transparent",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"24px",fontWeight:"bold",color:"white",cursor:ie!==0?"pointer":"default"},onClick:()=>ie!==0&&fe(Me),children:ut&&ie!==0&&e.jsx("span",{className:"sliding-puzzle__tile-number",children:ie})},Me)})})}),e.jsx("div",{className:"sliding-puzzle__shuffle-button-container",children:v!==!0&&e.jsx("button",{onClick:$t,className:"common__button custom sliding-puzzle__shuffle-button",children:"Shuffle"})})]}),"f"]})}),vt&&!Te&&e.jsxs("div",{className:"final-screen is-win",children:[e.jsx("div",{className:"final-screen__image-container",style:{paddingBottom:"75%"},children:e.jsx("div",{className:"final-screen__image",style:{backgroundImage:`url(${dt.struct.final.image})`}})}),e.jsxs("div",{className:"final-screen__content",children:[e.jsx("div",{className:"final-screen__content-header",children:dt.struct.final.header}),e.jsx("div",{className:"restart-button__wrapper",children:v!==!0&&e.jsx("button",{onClick:$t,className:"restart-button__btn",children:"Restart"})})]})]})]})]})})]}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})}function Ib({data:c,isSelected:m,handleSelectBlock:s,handleDeleteBlock:x,handleEditModal:w,handleChangeLogo:P,handleMoveDown:p,handleMoveUp:h,cloneblock:l,handleAddBlockFromBlock:a}){var xe,D,Z,R,ce,te,me,Lt,Pt,Qe,ft,xt,dt,_t;const n={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:1200,width:"100%",backgroundColor:"#fff",boxShadow:24,borderRadius:"12px",overflow:"hidden"};console.log(c,"Dcheckhiddenobjectsasta");const{templateDetails:i}=bt(De=>De.DrawerReducer),v=wt(),b=c;console.log((xe=b==null?void 0:b.struct)==null?void 0:xe.pins,"blocks?.struct?.pins");const g=(R=(D=b==null?void 0:b.struct)==null?void 0:D.pins)==null?void 0:R.slice(0,(Z=b==null?void 0:b.struct)==null?void 0:Z.count);(ce=b==null?void 0:b.struct)==null||ce.starsTimeList.split(",").map(De=>De.trim());const N=Ts().shape({email:(te=b==null?void 0:b.struct)!=null&&te.isShowRatingEmail&&((me=b==null?void 0:b.struct)!=null&&me.isEnableRating)?Rt().required("Required"):Rt(),code:((Pt=(Lt=b==null?void 0:b.struct)==null?void 0:Lt.passwordList)==null?void 0:Pt.length)>0?Rt().required("Required"):Rt(),nickname:(Qe=b==null?void 0:b.struct)!=null&&Qe.isEnableRating?Rt().required("Required"):Rt(),legalStatement:(b==null?void 0:b.legalStatement)!==""&&((ft=b==null?void 0:b.struct)!=null&&ft.isEnableRating)?rr().required("Required"):rr()}),u=d.useRef(null);d.useRef(null);const[_,j]=d.useState(g);d.useState(!1);const[C,z]=d.useState(!1),[E,M]=d.useState(null),[S,F]=d.useState(!1),[y,A]=d.useState({});d.useState({x:0,y:0}),d.useState({x:0,y:0}),d.useState(!1);const[U,ee]=d.useState(!1),[oe,we]=d.useState([]),[$,L]=d.useState(!1);d.useState(0);const[k,q]=d.useState(0),[V,Y]=d.useState((xt=b==null?void 0:b.struct)==null?void 0:xt.countdownTime),[se,Pe]=d.useState({}),[Se,_e]=d.useState(!1);d.useState(!1),d.useState((dt=b==null?void 0:b.struct)==null?void 0:dt.isShowCover);const[G,le]=d.useState(!1),[ae,ye]=d.useState(!1);sr.utc(k*1e3).format("mm:ss"),sr.utc(V*1e3).format("mm:ss");const Te={resolver:cr(N)};nr(Te);const Oe=(De,ut,Le)=>{De.preventDefault(),z(!0),M(ut),console.log(Le,"checkpindataifhereornot")},Q=()=>{C&&(z(!1),M(null))},ne=De=>{var vt,Nt;if(!C||E===null)return;const ut=u.current.getBoundingClientRect(),Le=De.clientX-ut.left,ot=De.clientY-ut.top,B=Math.min(Math.max(Le,0),ut.width-((vt=b==null?void 0:b.struct)==null?void 0:vt.psize)),rt=Math.min(Math.max(ot,0),ut.height-((Nt=b==null?void 0:b.struct)==null?void 0:Nt.psize));E!==-1&&E<_.length&&(_[E].l=B/ut.width*100,_[E].t=rt/ut.height*100,j([..._]))},ge=De=>{console.log(De,"checkdata"),A(De),ee(!0)};d.useEffect(()=>{oe.length===_.length&&setTimeout(()=>{_e(!1),L(!0)},2e3)},[oe,_]),d.useEffect(()=>{var De;if((De=b==null?void 0:b.struct)!=null&&De.enableTimer){let ut;return S&&!$&&!Se&&(ut=setInterval(()=>{Y(Le=>Le>0?Le-1:0),q(Le=>Le+1)},1e3)),()=>clearInterval(ut)}},[S,$,Se]),d.useEffect(()=>{Object.keys(se).length>0&&((se==null?void 0:se.blink)!==""||(se==null?void 0:se.d)!==""||(se==null?void 0:se.h)!==""||(se==null?void 0:se.i)!=="")&&_e(!0)},[se]),d.useEffect(()=>(C?(window.addEventListener("mousemove",ne),window.addEventListener("mouseup",Q)):(window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",Q)),()=>{window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",Q)}),[C]),d.useEffect(()=>{var De,ut,Le;((ut=(De=b==null?void 0:b.struct)==null?void 0:De.timerType)==null?void 0:ut.value)==="countdown"&&((Le=b==null?void 0:b.struct)!=null&&Le.enableTimer)&&V===0&&le(!0)},[V,b,c]),d.useEffect(()=>{var De,ut,Le;(((ut=(De=b==null?void 0:b.struct)==null?void 0:De.passwordList)==null?void 0:ut.length)>0||(Le=b==null?void 0:b.struct)!=null&&Le.isEnableRating)&&ye(!0)},[]);const J=(De,ut)=>{const Le={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(ot=>({...ot,blocks:ot.blocks.map(B=>{var rt;return B.id===(c==null?void 0:c.id)?{...B,struct:{...B.struct,pins:(rt=B.struct.pins)==null?void 0:rt.map(vt=>vt.id===ut?{...vt,h:De}:vt)}}:B})}))}};v(T(Le))},he=(De,ut)=>{const Le={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(ot=>({...ot,blocks:ot.blocks.map(B=>{var rt;return B.id===(c==null?void 0:c.id)?{...B,struct:{...B.struct,pins:(rt=B.struct.pins)==null?void 0:rt.map(vt=>vt.id===ut?{...vt,d:De}:vt)}}:B})}))}};v(T(Le))},Ie=De=>{const ut={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(Le=>({...Le,blocks:Le.blocks.map(ot=>{var B;return ot.id===(c==null?void 0:c.id)?{...ot,struct:{...ot.struct,pins:(B=ot.struct.pins)==null?void 0:B.map(rt=>rt.id===id?{...rt,btext:De}:rt)}}:ot})}))}};v(T(ut))},Ge=De=>{const ut={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(Le=>({...Le,blocks:Le.blocks.map(ot=>{var B;return ot.id===(c==null?void 0:c.id)?{...ot,struct:{...ot.struct,pins:(B=ot.struct.pins)==null?void 0:B.map(rt=>rt.id===id?{...rt,blink:De}:rt)}}:ot})}))}};v(T(ut))};return d.useEffect(()=>{var De,ut,Le;if(b){const ot=(Le=(De=b==null?void 0:b.struct)==null?void 0:De.pins)==null?void 0:Le.slice(0,(ut=b==null?void 0:b.struct)==null?void 0:ut.count);j(ot)}},[c]),console.log(_,"checkpinddsdsdsddayaioooioio"),e.jsxs("div",{style:{fontSize:"unset"},className:m?"block-builder selected":"block-builder",onClick:()=>s("hidden-objects",c),children:[e.jsx("button",{className:"plus-selected",onClick:()=>a(c.id),children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsx("div",{className:"game_mainParent",children:e.jsx("div",{className:"",children:e.jsx(e.Fragment,{children:e.jsx("div",{className:"hidden-objects pt-4",children:e.jsxs("div",{ref:u,className:"hidden-objects-img",children:[e.jsx("img",{src:(_t=b==null?void 0:b.struct)==null?void 0:_t.bimg,alt:"imagesssss"}),_.map((De,ut)=>{var Le,ot,B,rt,vt,Nt,$t;return e.jsx("div",{className:`hidden-object-marker ${C&&E===ut?"dragging":""}`,style:{position:"absolute",left:`${De.l}%`,top:`${De.t}%`,transform:"translate(-50%, -50%)",cursor:C&&E===ut?"grabbing":"grab"},onClick:()=>ge(De),onMouseDown:We=>Oe(We,ut,De),children:((Le=b==null?void 0:b.struct)==null?void 0:Le.sucImg)!==""?e.jsx("img",{style:{width:`${(ot=b==null?void 0:b.struct)==null?void 0:ot.psize}px`,height:`${(B=b==null?void 0:b.struct)==null?void 0:B.psize}px`},src:(rt=b==null?void 0:b.struct)==null?void 0:rt.sucImg,alt:"matched"}):e.jsx("div",{style:{width:`${(vt=b==null?void 0:b.struct)==null?void 0:vt.psize}px`,height:`${(Nt=b==null?void 0:b.struct)==null?void 0:Nt.psize}px`,backgroundColor:`${($t=b==null?void 0:b.struct)==null?void 0:$t.pcl}`},className:"hidden-object-marker-pin"})},ut)})]})})})})}),e.jsxs("ul",{className:`${m?"inlineControls selected-controls":"inlineControls"}  `,children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>h(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>p(c.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("li",{className:"Inline_control__list",title:"Clone",role:"button",onClick:()=>l(c.id),children:e.jsx("i",{className:"fa-solid fa-copy"})}),e.jsx("li",{className:"Inline_control__list",title:"Remove","data-test":"delete-block",role:"button",onClick:()=>x(c==null?void 0:c.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]}),e.jsx(mr,{open:U,children:e.jsx("div",{className:"",style:n,children:e.jsxs("div",{className:"modal-form",children:[e.jsxs("div",{className:"modal-header-form",children:[e.jsx("h3",{children:"Hidden objects"}),e.jsx("button",{className:"btn text-white",style:{fontSize:"30px"},onClick:()=>ee(!1),children:e.jsx("i",{class:"fa-solid fa-xmark"})})]}),e.jsx("div",{className:"p-4 modal-form-body",children:e.jsx("div",{className:"form-left",children:e.jsx("div",{className:"fields-output",children:e.jsx("div",{className:"formFieldsList}",children:e.jsx("div",{className:"additionalInfo",children:e.jsxs("div",{className:"fields_info",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Title"}),e.jsx("input",{className:" form-control theme-control",type:"text",defaultValue:y==null?void 0:y.h,onChange:De=>J(De.target.value,y.id)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Description"}),e.jsx("textarea",{className:"form-control theme-control",defaultValue:y==null?void 0:y.d,onChange:De=>he(De.target.value,y.id)})]}),e.jsxs("div",{className:"d-flex w-100 gap-3 mb-3",role:"button",children:[e.jsxs("div",{children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Image"}),e.jsxs("div",{className:"coverchangeImage",children:[(y==null?void 0:y.i)&&e.jsx("img",{src:y==null?void 0:y.i,alt:"cover"}),e.jsx("button",{className:"button button-primary border-0 font-sm",onClick:()=>P("pin-image",c==null?void 0:c.id,y==null?void 0:y.id),children:y!=null&&y.i?"Change":"Upload"})]})]}),e.jsxs("div",{className:"w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Button text"}),e.jsx("input",{className:"form-control theme-control",defaultValue:y==null?void 0:y.btext,onChange:De=>Ie(De.target.value,y.id)})]})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Button link"}),e.jsx("input",{className:"form-control theme-control",defaultValue:y==null?void 0:y.blink,onChange:De=>Ge(De.target.value,y.id)})]})]})})})})})})]})})})]})}function kb({handleSelectBlock:c,pageData:m,isSelected:s,handleDeleteBlock:x,handleAddBlock:w,handleCloneBlock:P,setSelectedBlock:p,setSelectedBlockSettings:h,handleEditModal:l,toggleDrawer:a,openDrawer:n,setOpenDrawer:i,handleClickDrawer:v,handleChangeLogo:b,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}){var z,E,M,S,F,y,A,U,ee,oe,we,$,L;const{templateDetails:C}=bt(k=>k.DrawerReducer);return console.log(C,"checktemplateDetailstemplateDetails"),console.log(C==null?void 0:C.project_structure,"checkimagedetailsss"),console.log(m,"checkifpagadataupdatyedornopt"),e.jsx("div",{className:"dash-center ",children:e.jsxs("div",{className:"block_page__container",children:[e.jsx("div",{className:"block-page",style:{backgroundColor:(E=(z=C==null?void 0:C.project_structure)==null?void 0:z.app)!=null&&E.backgroundImage?"none":(S=(M=C==null?void 0:C.project_structure)==null?void 0:M.app)!=null&&S.isTransparentBackground?(y=(F=C==null?void 0:C.project_structure)==null?void 0:F.app)==null?void 0:y.isTransparentBackground:(U=(A=C==null?void 0:C.project_structure)==null?void 0:A.app)==null?void 0:U.colorTheme,backgroundImage:(oe=(ee=C==null?void 0:C.project_structure)==null?void 0:ee.app)!=null&&oe.backgroundImage?`url(${($=(we=C==null?void 0:C.project_structure)==null?void 0:we.app)==null?void 0:$.backgroundImage})`:"none"},children:(L=m==null?void 0:m.blocks)==null?void 0:L.map((k,q)=>e.jsxs("div",{children:[(k==null?void 0:k.block)==="text"&&e.jsx(hb,{handleSelectBlock:c,data:k,handleDeleteBlock:x,isSelected:s,handleCloneBlock:P,handleAddBlock:w,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="image"&&e.jsx(e.Fragment,{children:e.jsx(db,{data:k,handleSelectBlock:c,isSelected:!0,handleDeleteBlock:x,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j})}),(k==null?void 0:k.block)==="logo"&&e.jsx(ub,{data:k,handleSelectBlock:c,handleDeleteBlock:x,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="youtubeVideo"&&e.jsx(pb,{data:k,handleSelectBlock:c,handleDeleteBlock:x,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="button"&&e.jsx(lb,{data:k,handleSelectBlock:c,handleDeleteBlock:x,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="audio"&&e.jsx(ib,{handleSelectBlock:c,data:k,isSelected:s,handleDeleteBlock:x,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="cover"&&e.jsx(ab,{data:k,handleSelectBlock:c,handleDeleteBlock:x,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="text-image"&&e.jsx(mb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="quiz"&&e.jsx(od,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="personality-quiz"&&e.jsx(od,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="treasure-hunt"&&e.jsx(gb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="then-now"&&e.jsx(xb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="rank-battle"&&e.jsx(fb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="slide-show"&&e.jsx(jb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="horoscope"&&e.jsx(bb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="cookies"&&e.jsx(vb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="flip-card"&&e.jsx(Nb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="form"&&e.jsx(_b,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="spin-wheel"&&e.jsx(hj,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="puzzle"&&e.jsx(Od,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="memory"&&e.jsx(wb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="find-pair"&&e.jsx(Cb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="match-up"&&e.jsx(yb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="timeline"&&e.jsx(Sb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="sliding-puzzle"&&e.jsx(Tb,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,setShowTemplatePreview:g,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j}),(k==null?void 0:k.block)==="hidden-objects"&&e.jsx(Ib,{data:k,handleSelectBlock:c,isSelected:s,handleDeleteBlock:x,handleEditModal:l,handleChangeLogo:b,handleMoveUp:N,handleMoveDown:u,cloneblock:_,handleAddBlockFromBlock:j})]},q))}),e.jsx(k0,{toggleDrawer:a,openDrawer:n,setOpenDrawer:i,handleClickDrawer:v})]})})}const Wd="data:image/svg+xml,%3csvg%20width='70'%20height='90'%20viewBox='0%200%2070%2090'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M39.0435%200H4.65229C1.45229%200%200%201.45229%200%204.66968V84.3912C0%2087.6086%201.45229%2089.0435%204.66968%2089.0609H65.3303C68.5477%2089.0609%2069.9826%2087.6086%2070%2084.3912L69.8261%2025.7391L39.0435%200Z'%20fill='%2300ADCC'/%3e%3cpath%20d='M63.3357%2042.8634C65.4052%2039.0747%2066.7781%2034.2827%2067.0444%2029.5412C67.2135%2026.4979%2066.5936%2025.6161%2065.2515%2022.612C60.1332%2018.5027%2059.555%2017.9244%2056.0359%2014.9934C53.4285%2013.0822%2050.9645%2012.434%2049.2228%209.85583L48.9104%209.39625C47.8807%207.883%2046.7179%209.63721%2046.5335%208.19682C46.3491%206.73962%2045.0999%205.78215%2043.8185%204.63042C42.4764%204.7313%2041.4365%202.47828%2041.4365%203.9523V49.2639C39.2901%2047.8403%2036.6468%2046.966%2033.7525%2046.966C26.6936%2046.966%2016.1897%2049.3915%2016.1897%2058.1753C16.1897%2066.9591%2026.6936%2069.3845%2033.7525%2069.3845C40.8115%2069.3845%2046.5591%2064.3572%2046.5591%2058.1753C46.5591%2058.1753%2042.712%2023.903%2046.5591%2025.5115C50.4062%2027.12%2056.7019%2031.217%2058.4333%2040.7841C58.1106%2041.3053%2057.8032%2041.8658%2057.4446%2042.3142C56.5072%2043.4743%2056.6097%2045.2454%2057.6752%2046.2654C58.7304%2047.2967%2060.3492%2047.1734%2061.2866%2046.0132C61.973%2045.1613%2062.5826%2044.1637%2063.1666%2043.1212C63.2281%2043.0428%2063.2846%2042.9587%2063.3357%2042.8634Z'%20fill='%230096B0'/%3e%3cpath%20d='M39.0435%200L38.9565%2021.6612C38.9565%2021.6612%2039.0435%2025.7391%2043.0345%2025.7391H69.8261L39.0435%200Z'%20fill='%234ED9F2'/%3e%3cpath%20d='M36.0787%2064.7406C37.0602%2062.9838%2037.7112%2060.7618%2037.8375%2058.5632C37.9177%2057.152%2037.6238%2055.6706%2036.9873%2054.2777C35.9888%2052.0894%2034.2737%2050.8602%2032.6169%2049.6725C31.3804%2048.7863%2030.2119%2047.9495%2029.3859%2046.754L29.2377%2046.5409C28.7494%2045.8392%2028.198%2045.044%2028.1105%2044.3761C28.0231%2043.7004%2027.4497%2043.2196%2026.823%2043.2586C26.1865%2043.3053%2025.6933%2043.8693%2025.6933%2044.5528V67.7085C24.6755%2067.0484%2023.4219%2066.643%2022.0494%2066.643C18.7018%2066.643%2013.7205%2067.7676%2013.7205%2071.8407C13.7205%2075.9137%2018.7018%2077.0383%2022.0494%2077.0383C25.397%2077.0383%2028.1227%2074.7072%2028.1227%2071.8407C28.1227%2071.8407%2026.2983%2055.9487%2028.1227%2056.6946C29.9471%2057.4405%2032.9327%2059.3402%2033.7538%2063.7764C33.6008%2064.0181%2033.455%2064.278%2033.285%2064.4859C32.8404%2065.0239%2032.889%2065.8451%2033.3943%2066.3181C33.8947%2066.7963%2034.6624%2066.7391%2035.107%2066.2012C35.4325%2065.8061%2035.7216%2065.3435%2035.9985%2064.8602C36.0277%2064.8238%2036.0545%2064.7848%2036.0787%2064.7406Z'%20fill='white'/%3e%3c/svg%3e";var ki={},Lb=cs;Object.defineProperty(ki,"__esModule",{value:!0});var Li=ki.default=void 0,Rb=Lb(os()),Eb=e;Li=ki.default=(0,Rb.default)((0,Eb.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");var Ri={},Ab=cs;Object.defineProperty(Ri,"__esModule",{value:!0});var Ei=Ri.default=void 0,Pb=Ab(os()),Fb=e;Ei=Ri.default=(0,Pb.default)((0,Fb.jsx)("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause");function zb({isLoading:c,data:m,handlecheckMedia:s,activeImage:x,handleSearch:w,handleSelectMedia:P,selectedAudioFile:p,setSelectedAudioFIle:h}){const[l,a]=d.useState(null),[n,i]=d.useState(!1),[v,b]=d.useState(null),g=(N,u)=>{if(v===u)if(n&&l)l.pause(),i(!1);else{const _=new Audio(N);_.play(),_.onended=()=>i(!1),a(_),i(!0)}else{l&&l.pause();const _=new Audio(N);_.play(),_.onended=()=>i(!1),a(_),i(!0),b(u)}};return e.jsxs(e.Fragment,{children:[e.jsxs(ss,{container:!0,spacing:2,alignItems:"center",className:"modal-grid-wrap",children:[e.jsx(ss,{item:!0,xs:12,md:12,children:e.jsx(Sr,{variant:"h6",children:"My library"})}),e.jsxs(ss,{item:!0,xs:12,md:12,children:[e.jsx(ri,{}),e.jsx(ci,{placeholder:"Search",variant:"outlined",fullWidth:!0,onChange:N=>w(N)})]})]}),e.jsxs(ss,{container:!0,spacing:2,style:{marginTop:"20px"},children:[!m.length&&e.jsx("p",{children:"No Data found"}),m.map(({media_url:N,id:u,name:_})=>e.jsx(ss,{item:!0,xs:12,sm:6,md:4,children:e.jsx(tn,{children:c?e.jsx(Wc,{variant:"circular",animation:"wave",width:210,height:118}):e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:`selected-media?id=${u}`,className:`media-selected ${x===u?"checked-label":""} audio_container`,children:e.jsxs("div",{onClick:()=>{h({...p,url:N,name:_})},role:"button",children:[e.jsx("button",{className:"play_button",onClick:()=>g(N,u),children:v===u&&n?e.jsx(Ei,{}):e.jsx(Li,{})}),e.jsx("div",{className:"check-icon",children:e.jsx(ni,{color:"#fff"})}),e.jsx("img",{src:Wd,alt:"icon"}),e.jsx("input",{onChange:()=>s(u),id:`selected-media?id=${u}`,type:"checkbox",style:{display:"none"},checked:x===u})]})}),e.jsx(Wn,{className:"p-0 pt-2",children:e.jsx(Sr,{variant:"body2",color:"textSecondary",children:_})})]})})},u))]})]})}var Ai={},Bb=cs;Object.defineProperty(Ai,"__esModule",{value:!0});var Ud=Ai.default=void 0,Hb=Bb(os()),Mb=e;Ud=Ai.default=(0,Hb.default)((0,Mb.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"}),"Folder");function $b({isLoading:c,data:m,handleSearch:s,handleSelectMedia:x,handlecheckMedia:w,activeImage:P,setSelectedCategory:p,audioList:h,selectedAudioFile:l,setSelectedAudioFIle:a}){console.log(h,m,"cdchbdbdkbfdfdfdfd");const[n,i]=d.useState(null),[v,b]=d.useState(!1),[g,N]=d.useState(null),u=(_,j)=>{if(g===j)if(v&&n)n.pause(),b(!1);else{const C=new Audio(_);C.play(),C.onended=()=>b(!1),i(C),b(!0)}else{n&&n.pause();const C=new Audio(_);C.play(),C.onended=()=>b(!1),i(C),b(!0),N(j)}};return e.jsxs(e.Fragment,{children:[e.jsxs(ss,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(ss,{item:!0,xs:12,md:12,children:e.jsx(Sr,{variant:"h6",children:"Free boost library"})}),e.jsxs(ss,{item:!0,xs:12,md:12,children:[e.jsx(ri,{}),e.jsx(ci,{placeholder:"Search",variant:"outlined",fullWidth:!0,onChange:_=>s(_)})]})]}),e.jsx("button",{className:"btn",onClick:()=>p(""),children:e.jsx(mj,{})}),e.jsx(ss,{container:!0,spacing:2,style:{marginTop:"20px"},children:h!=null&&h.length?e.jsx(e.Fragment,{children:h==null?void 0:h.map(_=>e.jsx(ss,{item:!0,xs:12,sm:6,md:4,children:e.jsx(tn,{children:c?e.jsx(Wc,{variant:"circular",animation:"wave",width:210,height:118}):e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:`selected-media?id=${_==null?void 0:_.id}`,className:`media-selected ${P===(_==null?void 0:_.id)?"checked-label":""} audio_container`,children:e.jsx("div",{onClick:()=>{a({...l,url:_==null?void 0:_.url,name:_==null?void 0:_.name})},role:"button",children:e.jsxs("div",{onClick:()=>{var j;p((j=_==null?void 0:_.name)==null?void 0:j.replace(/[\s/]+/g,"-").toLowerCase())},role:"button",children:[e.jsx("button",{className:"play_button",onClick:()=>u(_==null?void 0:_.url,_==null?void 0:_.id),children:g===(_==null?void 0:_.id)&&v?e.jsx(Ei,{}):e.jsx(Li,{})}),e.jsx("div",{className:"check-icon",children:e.jsx(ni,{color:"#fff"})}),e.jsx("img",{src:Wd,alt:"icon"}),e.jsx("input",{onChange:()=>w(_==null?void 0:_.id),id:`selected-media?id=${_==null?void 0:_.id}`,type:"checkbox",style:{display:"none"},checked:P===(_==null?void 0:_.id)})]})})}),e.jsx(Wn,{children:e.jsx(Sr,{variant:"body2",color:"textSecondary",className:"text-center",children:(_==null?void 0:_.name)||"Audio File"})})]})})},_==null?void 0:_.id))}):e.jsxs(e.Fragment,{children:[!(m!=null&&m.length)&&e.jsx("p",{children:"No Data found"}),m==null?void 0:m.map(({title:_},j)=>e.jsx(ss,{item:!0,xs:12,sm:6,md:4,children:e.jsx(tn,{children:c?e.jsx(Wc,{variant:"circular",animation:"wave",width:210,height:118}):e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:`selected-media?id=${j}`,className:`media-selected ${P===j?"checked-label":""} audio_container`,children:e.jsxs("div",{onClick:()=>{p(_==null?void 0:_.replace(/[\s/]+/g,"-").toLowerCase())},role:"button",children:[e.jsx(Ud,{className:"icon_folder"}),e.jsx("input",{onChange:()=>w(j),id:`selected-media?id=${j}`,type:"checkbox",style:{display:"none"},checked:P===j})]})}),e.jsx(Wn,{children:e.jsx(Sr,{variant:"body2",color:"textSecondary",className:"text-center",children:_})})]})})},j))]})})]})}(function(){(c=>{try{if(typeof window>"u")return;var m=document.createElement("style");m.appendChild(document.createTextNode(c)),document.head.appendChild(m)}catch(s){console.error("vite-plugin-css-injected-by-js",s)}})(".audio-recorder{background-color:#ebebeb;box-shadow:0 2px 5px #bebebe;border-radius:20px;box-sizing:border-box;color:#000;width:40px;display:flex;align-items:center;transition:all .2s ease-in;-webkit-tap-highlight-color:transparent}.audio-recorder-mic{box-sizing:content-box;cursor:pointer;height:16px;color:#000;padding:12px}.audio-recorder .audio-recorder-mic{border-radius:20px}.audio-recorder.recording .audio-recorder-mic{border-radius:0}.audio-recorder-timer,.audio-recorder-status{color:#000;margin-left:10px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:14px;font-weight:400;line-height:1}.audio-recorder-status{margin-left:15px;display:flex;align-items:baseline;flex-grow:1;animation-name:fading-ar-status;animation-duration:2s;animation-iteration-count:infinite}.audio-recorder-status-dot{background-color:#d00;border-radius:50%;height:10px;width:9px;margin-right:5px}.audio-recorder-options{box-sizing:content-box;height:16px;cursor:pointer;padding:12px 6px 12px 12px}.audio-recorder-options~.audio-recorder-options{padding:12px 12px 12px 6px;border-radius:0 5px 5px 0}.recording{border-radius:12px;width:300px;transition:all .2s ease-out}.display-none{display:none}.audio-recorder-visualizer{margin-left:15px;flex-grow:1;align-self:center;display:flex;align-items:center}@keyframes fading-ar-status{0%{opacity:1}50%{opacity:0}to{opacity:1}}")})();var qd={exports:{}},Mn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld;function Ob(){if(ld)return Mn;ld=1;var c=si,m=Symbol.for("react.element"),s=Symbol.for("react.fragment"),x=Object.prototype.hasOwnProperty,w=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P={key:!0,ref:!0,__self:!0,__source:!0};function p(h,l,a){var n,i={},v=null,b=null;a!==void 0&&(v=""+a),l.key!==void 0&&(v=""+l.key),l.ref!==void 0&&(b=l.ref);for(n in l)x.call(l,n)&&!P.hasOwnProperty(n)&&(i[n]=l[n]);if(h&&h.defaultProps)for(n in l=h.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:m,type:h,key:v,ref:b,props:i,_owner:w.current}}return Mn.Fragment=s,Mn.jsx=p,Mn.jsxs=p,Mn}qd.exports=Ob();var Xs=qd.exports;const Gd=(c,m,s)=>{const[x,w]=d.useState(!1),[P,p]=d.useState(!1),[h,l]=d.useState(0),[a,n]=d.useState(),[i,v]=d.useState(),[b,g]=d.useState(),N=d.useCallback(()=>{const z=setInterval(()=>{l(E=>E+1)},1e3);v(z)},[l,v]),u=d.useCallback(()=>{i!=null&&clearInterval(i),v(void 0)},[i,v]),_=d.useCallback(()=>{i==null&&navigator.mediaDevices.getUserMedia({audio:c??!0}).then(z=>{w(!0);const E=new MediaRecorder(z,s);n(E),E.start(),N(),E.addEventListener("dataavailable",M=>{g(M.data),E.stream.getTracks().forEach(S=>S.stop()),n(void 0)})}).catch(z=>{console.log(z.name,z.message,z.cause),m==null||m(z)})},[i,w,n,N,g,m,s]),j=d.useCallback(()=>{a==null||a.stop(),u(),l(0),w(!1),p(!1)},[a,l,w,p,u]),C=d.useCallback(()=>{P?(p(!1),a==null||a.resume(),N()):(p(!0),u(),a==null||a.pause())},[a,p,N,u]);return{startRecording:_,stopRecording:j,togglePauseResume:C,recordingBlob:b,isRecording:x,isPaused:P,recordingTime:h,mediaRecorder:a}},Wb="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDQ3MCA0NzAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ3MCA0NzA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KCTxnPgoJCTxwYXRoIGQ9Ik0yMzUsMzAyLjI5NmM0Ny4xNzcsMCw4NS40MjMtMzguMjQ1LDg1LjQyMy04NS40MjNWODUuNDIzQzMyMC40MjMsMzguMjQ1LDI4Mi4xNzcsMCwyMzUsMHMtODUuNDIzLDM4LjI0NS04NS40MjMsODUuNDIzCgkJCXYxMzEuNDUxQzE0OS41NzcsMjY0LjA1MSwxODcuODIzLDMwMi4yOTYsMjM1LDMwMi4yOTZ6Ii8+CgkJPHBhdGggZD0iTTM1MC40MjMsMTM2LjE0OHYzMGgxNXY1MC43MjZjMCw3MS45MTUtNTguNTA4LDEzMC40MjMtMTMwLjQyMywxMzAuNDIzcy0xMzAuNDIzLTU4LjUwNy0xMzAuNDIzLTEzMC40MjN2LTUwLjcyNmgxNXYtMzAKCQkJaC00NXY4MC43MjZDNzQuNTc3LDMwMC4yNzMsMTM4LjU1MSwzNjksMjIwLDM3Ni41ODlWNDQwaC05MC40NDR2MzBoMjEwLjg4OXYtMzBIMjUwdi02My40MTEKCQkJYzgxLjQ0OS03LjU4OSwxNDUuNDIzLTc2LjMxNywxNDUuNDIzLTE1OS43MTZ2LTgwLjcyNkgzNTAuNDIzeiIvPgoJPC9nPgo8L3N2Zz4K",Ub="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDcuNjA3IDQ3LjYwNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDcuNjA3IDQ3LjYwNzsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgoJPGc+CgkJPHBhdGggZD0iTTE3Ljk5MSw0MC45NzZjMCwzLjY2Mi0yLjk2OSw2LjYzMS02LjYzMSw2LjYzMWwwLDBjLTMuNjYyLDAtNi42MzEtMi45NjktNi42MzEtNi42MzFWNi42MzFDNC43MjksMi45NjksNy42OTgsMCwxMS4zNiwwCgkJCWwwLDBjMy42NjIsMCw2LjYzMSwyLjk2OSw2LjYzMSw2LjYzMVY0MC45NzZ6Ii8+CgkJPHBhdGggZD0iTTQyLjg3Nyw0MC45NzZjMCwzLjY2Mi0yLjk2OSw2LjYzMS02LjYzMSw2LjYzMWwwLDBjLTMuNjYyLDAtNi42MzEtMi45NjktNi42MzEtNi42MzFWNi42MzEKCQkJQzI5LjYxNiwyLjk2OSwzMi41ODUsMCwzNi4yNDYsMGwwLDBjMy42NjIsMCw2LjYzMSwyLjk2OSw2LjYzMSw2LjYzMVY0MC45NzZ6Ii8+Cgk8L2c+Cjwvc3ZnPgo=",qb="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDQ5NC4xNDggNDk0LjE0OCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDk0LjE0OCA0OTQuMTQ4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZD0iTTQwNS4yODQsMjAxLjE4OEwxMzAuODA0LDEzLjI4QzExOC4xMjgsNC41OTYsMTA1LjM1NiwwLDk0Ljc0LDBDNzQuMjE2LDAsNjEuNTIsMTYuNDcyLDYxLjUyLDQ0LjA0NHY0MDYuMTI0CgkJCQljMCwyNy41NCwxMi42OCw0My45OCwzMy4xNTYsNDMuOThjMTAuNjMyLDAsMjMuMi00LjYsMzUuOTA0LTEzLjMwOGwyNzQuNjA4LTE4Ny45MDRjMTcuNjYtMTIuMTA0LDI3LjQ0LTI4LjM5MiwyNy40NC00NS44ODQKCQkJCUM0MzIuNjMyLDIyOS41NzIsNDIyLjk2NCwyMTMuMjg4LDQwNS4yODQsMjAxLjE4OHoiLz4KCQk8L2c+Cgk8L2c+Cjwvc3ZnPgo=",Gb="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTE3Ljg1IDMuMTVsLTIuOTktM0EuNTA4LjUwOCAwIDAgMCAxNC41IDBIMS40QTEuNDE3IDEuNDE3IDAgMCAwIDAgMS40M3YxNS4xNEExLjQxNyAxLjQxNyAwIDAgMCAxLjQgMThoMTUuMmExLjQxNyAxLjQxNyAwIDAgMCAxLjQtMS40M1YzLjVhLjQ3LjQ3IDAgMCAwLS4xNS0uMzV6TTIgNVYzYTEgMSAwIDAgMSAxLTFoOGExIDEgMCAwIDEgMSAxdjJhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTF6bTcgMTFhNCA0IDAgMSAxIDQtNCA0IDQgMCAwIDEtNCA0eiIvPgo8L3N2Zz4K",Qb="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDYuNzM0IDQ2LjczNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDYuNzM0IDQ2LjczNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIGQ9Ik00MS4zNDYsMEg1LjM4OEMyLjQxNywwLDAsMi40MTcsMCw1LjM4OHYzNS45NThjMCwyLjk3MSwyLjQxNyw1LjM4OCw1LjM4OCw1LjM4OGgzNS45NThjMi45NzEsMCw1LjM4OC0yLjQxNyw1LjM4OC01LjM4OAoJCVY1LjM4OEM0Ni43MzMsMi40MTcsNDQuMzE2LDAsNDEuMzQ2LDB6Ii8+CjwvZz4KPC9zdmc+Cg==",Yb=si.lazy(async()=>{const{LiveAudioVisualizer:c}=await gd(()=>import("./react-audio-visualize.es-69216c73-CTJrFg0g.js"),__vite__mapDeps([0,1,2]));return{default:c}}),Zb=({onRecordingComplete:c,onNotAllowedOrFound:m,recorderControls:s,audioTrackConstraints:x,downloadOnSavePress:w=!1,downloadFileExtension:P="webm",showVisualizer:p=!1,mediaRecorderOptions:h,classes:l})=>{const{startRecording:a,stopRecording:n,togglePauseResume:i,recordingBlob:v,isRecording:b,isPaused:g,recordingTime:N,mediaRecorder:u}=s??Gd(x,m,h),[_,j]=d.useState(!1),C=(M=!0)=>{j(M),n()},z=async M=>{const S=(await gd(()=>import("./index-1c988149-CHwx96yG.js"),[]).then(U=>U.i)).createFFmpeg({log:!1});await S.load();const F="input.webm",y=`output.${P}`;S.FS("writeFile",F,new Uint8Array(await M.arrayBuffer())),await S.run("-i",F,y);const A=S.FS("readFile",y);return new Blob([A.buffer],{type:`audio/${P}`})},E=async M=>{!crossOriginIsolated&&P!=="webm"&&console.warn('This website is not "cross-origin isolated". Audio will be downloaded in webm format, since mp3/wav encoding requires cross origin isolation. Please visit https://web.dev/cross-origin-isolation-guide/ and https://web.dev/coop-coep/ for information on how to make your website "cross-origin isolated"');const S=crossOriginIsolated?await z(M):M,F=crossOriginIsolated?P:"webm",y=URL.createObjectURL(S),A=document.createElement("a");A.style.display="none",A.href=y,A.download=`audio.${F}`,document.body.appendChild(A),A.click(),A.remove()};return d.useEffect(()=>{(_||s)&&v!=null&&c!=null&&(c(v),w&&E(v))},[v]),Xs.jsxs("div",{className:`audio-recorder ${b?"recording":""} ${(l==null?void 0:l.AudioRecorderClass)??""}`,"data-testid":"audio_recorder",children:[Xs.jsx("img",{src:b?Gb:Wb,className:`audio-recorder-mic ${(l==null?void 0:l.AudioRecorderStartSaveClass)??""}`,onClick:b?()=>C():a,"data-testid":"ar_mic",title:b?"Save recording":"Start recording"}),Xs.jsxs("span",{className:`audio-recorder-timer ${b?"":"display-none"} ${(l==null?void 0:l.AudioRecorderTimerClass)??""}`,"data-testid":"ar_timer",children:[Math.floor(N/60),":",String(N%60).padStart(2,"0")]}),p?Xs.jsx("span",{className:`audio-recorder-visualizer ${b?"":"display-none"}`,children:u&&Xs.jsx(d.Suspense,{fallback:Xs.jsx(Xs.Fragment,{}),children:Xs.jsx(Yb,{mediaRecorder:u,barWidth:2,gap:2,width:140,height:30,fftSize:512,maxDecibels:-10,minDecibels:-80,smoothingTimeConstant:.4})})}):Xs.jsxs("span",{className:`audio-recorder-status ${b?"":"display-none"} ${(l==null?void 0:l.AudioRecorderStatusClass)??""}`,children:[Xs.jsx("span",{className:"audio-recorder-status-dot"}),"Recording"]}),Xs.jsx("img",{src:g?qb:Ub,className:`audio-recorder-options ${b?"":"display-none"} ${(l==null?void 0:l.AudioRecorderPauseResumeClass)??""}`,onClick:i,title:g?"Resume recording":"Pause recording","data-testid":"ar_pause"}),Xs.jsx("img",{src:Qb,className:`audio-recorder-options ${b?"":"display-none"} ${(l==null?void 0:l.AudioRecorderDiscardClass)??""}`,onClick:()=>C(!1),title:"Discard Recording","data-testid":"ar_cancel"})]})},Jb=d.createContext(null);function ws(c,m,s,x){return new(s||(s=Promise))(function(w,P){function p(a){try{l(x.next(a))}catch(n){P(n)}}function h(a){try{l(x.throw(a))}catch(n){P(n)}}function l(a){var n;a.done?w(a.value):(n=a.value,n instanceof s?n:new s(function(i){i(n)})).then(p,h)}l((x=x.apply(c,m||[])).next())})}class Qn{constructor(){this.listeners={}}on(m,s,x){if(this.listeners[m]||(this.listeners[m]=new Set),this.listeners[m].add(s),x==null?void 0:x.once){const w=()=>{this.un(m,w),this.un(m,s)};return this.on(m,w),w}return()=>this.un(m,s)}un(m,s){var x;(x=this.listeners[m])===null||x===void 0||x.delete(s)}once(m,s){return this.on(m,s,{once:!0})}unAll(){this.listeners={}}emit(m,...s){this.listeners[m]&&this.listeners[m].forEach(x=>x(...s))}}const Mc={decode:function(c,m){return ws(this,void 0,void 0,function*(){const s=new AudioContext({sampleRate:m});return s.decodeAudioData(c).finally(()=>s.close())})},createBuffer:function(c,m){return typeof c[0]=="number"&&(c=[c]),function(s){const x=s[0];if(x.some(w=>w>1||w<-1)){const w=x.length;let P=0;for(let p=0;p<w;p++){const h=Math.abs(x[p]);h>P&&(P=h)}for(const p of s)for(let h=0;h<w;h++)p[h]/=P}}(c),{duration:m,length:c[0].length,sampleRate:c[0].length/m,numberOfChannels:c.length,getChannelData:s=>c==null?void 0:c[s],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Qd(c,m){const s=m.xmlns?document.createElementNS(m.xmlns,c):document.createElement(c);for(const[x,w]of Object.entries(m))if(x==="children")for(const[P,p]of Object.entries(m))typeof p=="string"?s.appendChild(document.createTextNode(p)):s.appendChild(Qd(P,p));else x==="style"?Object.assign(s.style,w):x==="textContent"?s.textContent=w:s.setAttribute(x,w.toString());return s}function ad(c,m,s){const x=Qd(c,m||{});return s==null||s.appendChild(x),x}var Xb=Object.freeze({__proto__:null,createElement:ad,default:ad});const Kb={fetchBlob:function(c,m,s){return ws(this,void 0,void 0,function*(){const x=yield fetch(c,s);if(x.status>=400)throw new Error(`Failed to fetch ${c}: ${x.status} (${x.statusText})`);return function(w,P){ws(this,void 0,void 0,function*(){if(!w.body||!w.headers)return;const p=w.body.getReader(),h=Number(w.headers.get("Content-Length"))||0;let l=0;const a=i=>ws(this,void 0,void 0,function*(){l+=(i==null?void 0:i.length)||0;const v=Math.round(l/h*100);P(v)}),n=()=>ws(this,void 0,void 0,function*(){let i;try{i=yield p.read()}catch{return}i.done||(a(i.value),yield n())});n()})}(x.clone(),m),x.blob()})}};class Vb extends Qn{constructor(m){super(),this.isExternalMedia=!1,m.media?(this.media=m.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),m.mediaControls&&(this.media.controls=!0),m.autoplay&&(this.media.autoplay=!0),m.playbackRate!=null&&this.onMediaEvent("canplay",()=>{m.playbackRate!=null&&(this.media.playbackRate=m.playbackRate)},{once:!0})}onMediaEvent(m,s,x){return this.media.addEventListener(m,s,x),()=>this.media.removeEventListener(m,s,x)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const m=this.getSrc();m.startsWith("blob:")&&URL.revokeObjectURL(m)}canPlayType(m){return this.media.canPlayType(m)!==""}setSrc(m,s){const x=this.getSrc();if(m&&x===m)return;this.revokeSrc();const w=s instanceof Blob&&(this.canPlayType(s.type)||!m)?URL.createObjectURL(s):m;try{this.media.src=w}catch{this.media.src=m}}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(m){this.media=m}play(){return ws(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(m){this.media.currentTime=m}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(m){this.media.volume=m}getMuted(){return this.media.muted}setMuted(m){this.media.muted=m}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(m,s){s!=null&&(this.media.preservesPitch=s),this.media.playbackRate=m}getMediaElement(){return this.media}setSinkId(m){return this.media.setSinkId(m)}}class fn extends Qn{constructor(m,s){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=m;const x=this.parentFromOptionsContainer(m.container);this.parent=x;const[w,P]=this.initHtml();x.appendChild(w),this.container=w,this.scrollContainer=P.querySelector(".scroll"),this.wrapper=P.querySelector(".wrapper"),this.canvasWrapper=P.querySelector(".canvases"),this.progressWrapper=P.querySelector(".progress"),this.cursor=P.querySelector(".cursor"),s&&P.appendChild(s),this.initEvents()}parentFromOptionsContainer(m){let s;if(typeof m=="string"?s=document.querySelector(m):m instanceof HTMLElement&&(s=m),!s)throw new Error("Container not found");return s}initEvents(){const m=s=>{const x=this.wrapper.getBoundingClientRect(),w=s.clientX-x.left,P=s.clientY-x.top;return[w/x.width,P/x.height]};if(this.wrapper.addEventListener("click",s=>{const[x,w]=m(s);this.emit("click",x,w)}),this.wrapper.addEventListener("dblclick",s=>{const[x,w]=m(s);this.emit("dblclick",x,w)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:s,scrollWidth:x,clientWidth:w}=this.scrollContainer,P=s/x,p=(s+w)/x;this.emit("scroll",P,p,s,s+w)}),typeof ResizeObserver=="function"){const s=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{s().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const m=this.parent.clientWidth;m===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=m,this.reRender())}initDrag(){this.subscriptions.push(function(m,s,x,w,P=3,p=0,h=100){if(!m)return()=>{};const l=matchMedia("(pointer: coarse)").matches;let a=()=>{};const n=i=>{if(i.button!==p)return;i.preventDefault(),i.stopPropagation();let v=i.clientX,b=i.clientY,g=!1;const N=Date.now(),u=E=>{if(E.preventDefault(),E.stopPropagation(),l&&Date.now()-N<h)return;const M=E.clientX,S=E.clientY,F=M-v,y=S-b;if(g||Math.abs(F)>P||Math.abs(y)>P){const A=m.getBoundingClientRect(),{left:U,top:ee}=A;g||(x==null||x(v-U,b-ee),g=!0),s(F,y,M-U,S-ee),v=M,b=S}},_=E=>{if(g){const M=E.clientX,S=E.clientY,F=m.getBoundingClientRect(),{left:y,top:A}=F;w==null||w(M-y,S-A)}a()},j=E=>{E.relatedTarget&&E.relatedTarget!==document.documentElement||_(E)},C=E=>{g&&(E.stopPropagation(),E.preventDefault())},z=E=>{g&&E.preventDefault()};document.addEventListener("pointermove",u),document.addEventListener("pointerup",_),document.addEventListener("pointerout",j),document.addEventListener("pointercancel",j),document.addEventListener("touchmove",z,{passive:!1}),document.addEventListener("click",C,{capture:!0}),a=()=>{document.removeEventListener("pointermove",u),document.removeEventListener("pointerup",_),document.removeEventListener("pointerout",j),document.removeEventListener("pointercancel",j),document.removeEventListener("touchmove",z),setTimeout(()=>{document.removeEventListener("click",C,{capture:!0})},10)}};return m.addEventListener("pointerdown",n),()=>{a(),m.removeEventListener("pointerdown",n)}}(this.wrapper,(m,s,x)=>{this.emit("drag",Math.max(0,Math.min(1,x/this.wrapper.getBoundingClientRect().width)))},m=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,m/this.wrapper.getBoundingClientRect().width)))},m=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,m/this.wrapper.getBoundingClientRect().width)))}))}getHeight(m,s){var x;const w=((x=this.audioData)===null||x===void 0?void 0:x.numberOfChannels)||1;if(m==null)return 128;if(!isNaN(Number(m)))return Number(m);if(m==="auto"){const P=this.parent.clientHeight||128;return s!=null&&s.every(p=>!p.overlay)?P/w:P}return 128}initHtml(){const m=document.createElement("div"),s=m.attachShadow({mode:"open"}),x=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return s.innerHTML=`
      <style${x?` nonce="${x}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[m,s]}setOptions(m){if(this.options.container!==m.container){const s=this.parentFromOptionsContainer(m.container);s.appendChild(this.container),this.parent=s}m.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=m,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(m){this.scrollContainer.scrollLeft=m}setScrollPercentage(m){const{scrollWidth:s}=this.scrollContainer,x=s*m;this.setScroll(x)}destroy(){var m,s;this.subscriptions.forEach(x=>x()),this.container.remove(),(m=this.resizeObserver)===null||m===void 0||m.disconnect(),(s=this.unsubscribeOnScroll)===null||s===void 0||s.forEach(x=>x()),this.unsubscribeOnScroll=[]}createDelay(m=10){let s,x;const w=()=>{s&&clearTimeout(s),x&&x()};return this.timeouts.push(w),()=>new Promise((P,p)=>{w(),x=p,s=setTimeout(()=>{s=void 0,x=void 0,P()},m)})}convertColorValues(m){if(!Array.isArray(m))return m||"";if(m.length<2)return m[0]||"";const s=document.createElement("canvas"),x=s.getContext("2d"),w=s.height*(window.devicePixelRatio||1),P=x.createLinearGradient(0,0,0,w),p=1/(m.length-1);return m.forEach((h,l)=>{const a=l*p;P.addColorStop(a,h)}),P}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(m,s,x,w){const P=m[0],p=m[1]||m[0],h=P.length,{width:l,height:a}=x.canvas,n=a/2,i=this.getPixelRatio(),v=s.barWidth?s.barWidth*i:1,b=s.barGap?s.barGap*i:s.barWidth?v/2:0,g=s.barRadius||0,N=l/(v+b)/h,u=g&&"roundRect"in x?"roundRect":"rect";x.beginPath();let _=0,j=0,C=0;for(let z=0;z<=h;z++){const E=Math.round(z*N);if(E>_){const F=Math.round(j*n*w),y=F+Math.round(C*n*w)||1;let A=n-F;s.barAlign==="top"?A=0:s.barAlign==="bottom"&&(A=a-y),x[u](_*(v+b),A,v,y,g),_=E,j=0,C=0}const M=Math.abs(P[z]||0),S=Math.abs(p[z]||0);M>j&&(j=M),S>C&&(C=S)}x.fill(),x.closePath()}renderLineWaveform(m,s,x,w){const P=p=>{const h=m[p]||m[0],l=h.length,{height:a}=x.canvas,n=a/2,i=x.canvas.width/l;x.moveTo(0,n);let v=0,b=0;for(let g=0;g<=l;g++){const N=Math.round(g*i);if(N>v){const _=n+(Math.round(b*n*w)||1)*(p===0?-1:1);x.lineTo(v,_),v=N,b=0}const u=Math.abs(h[g]||0);u>b&&(b=u)}x.lineTo(v,n)};x.beginPath(),P(0),P(1),x.fill(),x.closePath()}renderWaveform(m,s,x){if(x.fillStyle=this.convertColorValues(s.waveColor),s.renderFunction)return void s.renderFunction(m,x);let w=s.barHeight||1;if(s.normalize){const P=Array.from(m[0]).reduce((p,h)=>Math.max(p,Math.abs(h)),0);w=P?1/P:1}s.barWidth||s.barGap||s.barAlign?this.renderBarWaveform(m,s,x,w):this.renderLineWaveform(m,s,x,w)}renderSingleCanvas(m,s,x,w,P,p,h){const l=this.getPixelRatio(),a=document.createElement("canvas");a.width=Math.round(x*l),a.height=Math.round(w*l),a.style.width=`${x}px`,a.style.height=`${w}px`,a.style.left=`${Math.round(P)}px`,p.appendChild(a);const n=a.getContext("2d");if(this.renderWaveform(m,s,n),a.width>0&&a.height>0){const i=a.cloneNode(),v=i.getContext("2d");v.drawImage(a,0,0),v.globalCompositeOperation="source-in",v.fillStyle=this.convertColorValues(s.progressColor),v.fillRect(0,0,a.width,a.height),h.appendChild(i)}}renderMultiCanvas(m,s,x,w,P,p){const h=this.getPixelRatio(),{clientWidth:l}=this.scrollContainer,a=x/h;let n=Math.min(fn.MAX_CANVAS_WIDTH,l,a),i={};if(n===0)return;if(s.barWidth||s.barGap){const u=s.barWidth||.5,_=u+(s.barGap||u/2);n%_!=0&&(n=Math.floor(n/_)*_)}const v=u=>{if(u<0||u>=b||i[u])return;i[u]=!0;const _=u*n,j=Math.min(a-_,n);if(j<=0)return;const C=m.map(z=>{const E=Math.floor(_/a*z.length),M=Math.floor((_+j)/a*z.length);return z.slice(E,M)});this.renderSingleCanvas(C,s,j,w,_,P,p)},b=Math.ceil(a/n);if(!this.isScrollable){for(let u=0;u<b;u++)v(u);return}const g=this.scrollContainer.scrollLeft/a,N=Math.floor(g*b);if(v(N-1),v(N),v(N+1),b>1){const u=this.on("scroll",()=>{const{scrollLeft:_}=this.scrollContainer,j=Math.floor(_/a*b);Object.keys(i).length>fn.MAX_NODES&&(P.innerHTML="",p.innerHTML="",i={}),v(j-1),v(j),v(j+1)});this.unsubscribeOnScroll.push(u)}}renderChannel(m,s,x,w){var{overlay:P}=s,p=function(n,i){var v={};for(var b in n)Object.prototype.hasOwnProperty.call(n,b)&&i.indexOf(b)<0&&(v[b]=n[b]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var g=0;for(b=Object.getOwnPropertySymbols(n);g<b.length;g++)i.indexOf(b[g])<0&&Object.prototype.propertyIsEnumerable.call(n,b[g])&&(v[b[g]]=n[b[g]])}return v}(s,["overlay"]);const h=document.createElement("div"),l=this.getHeight(p.height,p.splitChannels);h.style.height=`${l}px`,P&&w>0&&(h.style.marginTop=`-${l}px`),this.canvasWrapper.style.minHeight=`${l}px`,this.canvasWrapper.appendChild(h);const a=h.cloneNode();this.progressWrapper.appendChild(a),this.renderMultiCanvas(m,p,x,l,h,a)}render(m){return ws(this,void 0,void 0,function*(){var s;this.timeouts.forEach(l=>l()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const x=this.getPixelRatio(),w=this.scrollContainer.clientWidth,P=Math.ceil(m.duration*(this.options.minPxPerSec||0));this.isScrollable=P>w;const p=this.options.fillParent&&!this.isScrollable,h=(p?w:P)*x;if(this.wrapper.style.width=p?"100%":`${P}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=m,this.emit("render"),this.options.splitChannels)for(let l=0;l<m.numberOfChannels;l++){const a=Object.assign(Object.assign({},this.options),(s=this.options.splitChannels)===null||s===void 0?void 0:s[l]);this.renderChannel([m.getChannelData(l)],a,h,l)}else{const l=[m.getChannelData(0)];m.numberOfChannels>1&&l.push(m.getChannelData(1)),this.renderChannel(l,this.options,h,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){if(this.unsubscribeOnScroll.forEach(x=>x()),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:m}=this.scrollContainer,{right:s}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&m!==this.scrollContainer.scrollWidth){const{right:x}=this.progressWrapper.getBoundingClientRect();let w=x-s;w*=2,w=w<0?Math.floor(w):Math.ceil(w),w/=2,this.scrollContainer.scrollLeft+=w}}zoom(m){this.options.minPxPerSec=m,this.reRender()}scrollIntoView(m,s=!1){const{scrollLeft:x,scrollWidth:w,clientWidth:P}=this.scrollContainer,p=m*w,h=x,l=x+P,a=P/2;if(this.isDragging)p+30>l?this.scrollContainer.scrollLeft+=30:p-30<h&&(this.scrollContainer.scrollLeft-=30);else{(p<h||p>l)&&(this.scrollContainer.scrollLeft=p-(this.options.autoCenter?a:0));const n=p-x-a;s&&this.options.autoCenter&&n>0&&(this.scrollContainer.scrollLeft+=Math.min(n,10))}{const n=this.scrollContainer.scrollLeft,i=n/w,v=(n+P)/w;this.emit("scroll",i,v,n,n+P)}}renderProgress(m,s){if(isNaN(m))return;const x=100*m;this.canvasWrapper.style.clipPath=`polygon(${x}% 0, 100% 0, 100% 100%, ${x}% 100%)`,this.progressWrapper.style.width=`${x}%`,this.cursor.style.left=`${x}%`,this.cursor.style.transform=`translateX(-${Math.round(x)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(m,s)}exportImage(m,s,x){return ws(this,void 0,void 0,function*(){const w=this.canvasWrapper.querySelectorAll("canvas");if(!w.length)throw new Error("No waveform data");if(x==="dataURL"){const P=Array.from(w).map(p=>p.toDataURL(m,s));return Promise.resolve(P)}return Promise.all(Array.from(w).map(P=>new Promise((p,h)=>{P.toBlob(l=>{l?p(l):h(new Error("Could not export image"))},m,s)})))})}}fn.MAX_CANVAS_WIDTH=8e3,fn.MAX_NODES=10;class Db extends Qn{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class dd extends Qn{constructor(m=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=m,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return ws(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(m){if(this.currentSrc=m,this._duration=void 0,!m)return this.buffer=null,void this.emit("emptied");fetch(m).then(s=>{if(s.status>=400)throw new Error(`Failed to fetch ${m}: ${s.status} (${s.statusText})`);return s.arrayBuffer()}).then(s=>this.currentSrc!==m?null:this.audioContext.decodeAudioData(s)).then(s=>{this.currentSrc===m&&(this.buffer=s,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var m;if(!this.paused)return;this.paused=!1,(m=this.bufferNode)===null||m===void 0||m.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let s=this.playedDuration*this._playbackRate;s>=this.duration&&(s=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,s),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var m;this.paused=!0,(m=this.bufferNode)===null||m===void 0||m.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return ws(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(m){var s,x;const w=m-this.currentTime;(s=this.bufferNode)===null||s===void 0||s.stop(this.audioContext.currentTime+w),(x=this.bufferNode)===null||x===void 0||x.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(m){return ws(this,void 0,void 0,function*(){return this.audioContext.setSinkId(m)})}get playbackRate(){return this._playbackRate}set playbackRate(m){this._playbackRate=m,this.bufferNode&&(this.bufferNode.playbackRate.value=m)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(m){const s=!this.paused;s&&this._pause(),this.playedDuration=m/this._playbackRate,s&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var m,s;return(m=this._duration)!==null&&m!==void 0?m:((s=this.buffer)===null||s===void 0?void 0:s.duration)||0}set duration(m){this._duration=m}get volume(){return this.gainNode.gain.value}set volume(m){this.gainNode.gain.value=m,this.emit("volumechange")}get muted(){return this._muted}set muted(m){this._muted!==m&&(this._muted=m,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(m){return/^(audio|video)\//.test(m)}getGainNode(){return this.gainNode}getChannelData(){const m=[];if(!this.buffer)return m;const s=this.buffer.numberOfChannels;for(let x=0;x<s;x++)m.push(this.buffer.getChannelData(x));return m}}const ev={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Un extends Vb{static create(m){return new Un(m)}constructor(m){const s=m.media||(m.backend==="WebAudio"?new dd:void 0);super({media:s,mediaControls:m.mediaControls,autoplay:m.autoplay,playbackRate:m.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},ev,m),this.timer=new Db;const x=s?void 0:this.getMediaElement();this.renderer=new fn(this.options,x),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const w=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:P,duration:p}=this.options;(w||P&&p)&&this.load(w,P,p).catch(()=>null)})}updateProgress(m=this.getCurrentTime()){return this.renderer.renderProgress(m/this.getDuration(),this.isPlaying()),m}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const m=this.updateProgress();this.emit("timeupdate",m),this.emit("audioprocess",m)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const m=this.updateProgress();this.emit("timeupdate",m)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",m=>{var s;this.emit("error",(s=this.getMediaElement().error)!==null&&s!==void 0?s:new Error("Media error"))}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(m,s)=>{this.options.interact&&(this.seekTo(m),this.emit("interaction",m*this.getDuration()),this.emit("click",m,s))}),this.renderer.on("dblclick",(m,s)=>{this.emit("dblclick",m,s)}),this.renderer.on("scroll",(m,s,x,w)=>{const P=this.getDuration();this.emit("scroll",m*P,s*P,x,w)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",m=>{this.emit("dragstart",m)}),this.renderer.on("dragend",m=>{this.emit("dragend",m)}));{let m;this.subscriptions.push(this.renderer.on("drag",s=>{if(!this.options.interact)return;let x;this.renderer.renderProgress(s),clearTimeout(m),this.isPlaying()?x=0:this.options.dragToSeek===!0?x=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(x=this.options.dragToSeek.debounceTime),m=setTimeout(()=>{this.seekTo(s)},x),this.emit("interaction",s*this.getDuration()),this.emit("drag",s)}))}}initPlugins(){var m;!((m=this.options.plugins)===null||m===void 0)&&m.length&&this.options.plugins.forEach(s=>{this.registerPlugin(s)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(m=>m()),this.mediaSubscriptions=[]}setOptions(m){this.options=Object.assign({},this.options,m),m.duration&&!m.peaks&&(this.decodedData=Mc.createBuffer(this.exportPeaks(),m.duration)),m.peaks&&m.duration&&(this.decodedData=Mc.createBuffer(m.peaks,m.duration)),this.renderer.setOptions(this.options),m.audioRate&&this.setPlaybackRate(m.audioRate),m.mediaControls!=null&&(this.getMediaElement().controls=m.mediaControls)}registerPlugin(m){return m._init(this),this.plugins.push(m),this.subscriptions.push(m.once("destroy",()=>{this.plugins=this.plugins.filter(s=>s!==m)})),m}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(m){return this.renderer.setScroll(m)}setScrollTime(m){const s=m/this.getDuration();this.renderer.setScrollPercentage(s)}getActivePlugins(){return this.plugins}loadAudio(m,s,x,w){return ws(this,void 0,void 0,function*(){var P;if(this.emit("load",m),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!s&&!x){const h=this.options.fetchParams||{};window.AbortController&&!h.signal&&(this.abortController=new AbortController,h.signal=(P=this.abortController)===null||P===void 0?void 0:P.signal);const l=a=>this.emit("loading",a);s=yield Kb.fetchBlob(m,l,h)}this.setSrc(m,s);const p=yield new Promise(h=>{const l=w||this.getDuration();l?h(l):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>h(this.getDuration()),{once:!0}))});if(!m&&!s){const h=this.getMediaElement();h instanceof dd&&(h.duration=p)}if(x)this.decodedData=Mc.createBuffer(x,p||0);else if(s){const h=yield s.arrayBuffer();this.decodedData=yield Mc.decode(h,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(m,s,x){return ws(this,void 0,void 0,function*(){try{return yield this.loadAudio(m,void 0,s,x)}catch(w){throw this.emit("error",w),w}})}loadBlob(m,s,x){return ws(this,void 0,void 0,function*(){try{return yield this.loadAudio("",m,s,x)}catch(w){throw this.emit("error",w),w}})}zoom(m){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(m),this.emit("zoom",m)}getDecodedData(){return this.decodedData}exportPeaks({channels:m=2,maxLength:s=8e3,precision:x=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const w=Math.min(m,this.decodedData.numberOfChannels),P=[];for(let p=0;p<w;p++){const h=this.decodedData.getChannelData(p),l=[],a=h.length/s;for(let n=0;n<s;n++){const i=h.slice(Math.floor(n*a),Math.ceil((n+1)*a));let v=0;for(let b=0;b<i.length;b++){const g=i[b];Math.abs(g)>Math.abs(v)&&(v=g)}l.push(Math.round(v*x)/x)}P.push(l)}return P}getDuration(){let m=super.getDuration()||0;return m!==0&&m!==1/0||!this.decodedData||(m=this.decodedData.duration),m}toggleInteraction(m){this.options.interact=m}setTime(m){super.setTime(m),this.updateProgress(m),this.emit("timeupdate",m)}seekTo(m){const s=this.getDuration()*m;this.setTime(s)}playPause(){return ws(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(m){this.setTime(this.getCurrentTime()+m)}empty(){this.load("",[[0]],.001)}setMediaElement(m){this.unsubscribePlayerEvents(),super.setMediaElement(m),this.initPlayerEvents()}exportImage(){return ws(this,arguments,void 0,function*(m="image/png",s=1,x="dataURL"){return this.renderer.exportImage(m,s,x)})}destroy(){var m;this.emit("destroy"),(m=this.abortController)===null||m===void 0||m.abort(),this.plugins.forEach(s=>s.destroy()),this.subscriptions.forEach(s=>s()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Un.BasePlugin=class extends Qn{constructor(c){super(),this.subscriptions=[],this.options=c}onInit(){}_init(c){this.wavesurfer=c,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(c=>c())}},Un.dom=Xb;function tv(c){return Un.create(c)}function sv(c){const{plugin:m,options:s,creator:x="create"}=c,w=m[x];if(!m)throw new Error("Please pass a valid plugin in plugin list");if(!x)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof w!="function")throw new Error(`"${x}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return w(s)}const ud=c=>c.reduce((m,s)=>(m[s[0]]=s[1],m),{}),rv=(c,m)=>{const s=Object.entries(c),x=Object.entries(m),w=s.filter(([p])=>x.findIndex(([h])=>h===p)===-1),P=x.filter(([p])=>s.findIndex(([h])=>h===p)===-1);return{disabled:ud(w),enabled:ud(P)}};function md(c,m){const s={},x=[...m];for(;x.length>=1;){const w=x.shift();!!c[w.key]?s[w.key]=c[w.key]:s[w.key]=sv(w)}return s}function nv({container:c,plugins:m=[],onMount:s,...x}){const w=d.useRef(!1),[P,p]=d.useState({}),h=d.useRef([]),[l,a]=d.useState(null);return d.useEffect(()=>{if(!c)return;const n=c;if(w.current)return;w.current=!0;const i=md(P,m);h.current=Object.keys(i);const v=tv({container:c,...x,plugins:Object.values(i)});return s==null||s(v),p(i),a(v),()=>{n!==c&&v.destroy()}},[c]),d.useEffect(()=>{if(l){const n=md(P,m),{disabled:i,enabled:v}=rv(P,n);Object.keys(i).forEach(b=>{i[b].destroy()}),Object.keys(v).forEach(b=>{h.current.includes(b)||(console.log("register plugin",b,v[b]),l==null||l.registerPlugin(v[b]))}),h.current=Object.keys(v),p(n)}},[m]),[l,P,Object.values(P)]}function cv({children:c,plugins:m=[],onMount:s,...x}){const w=nv({plugins:m,onMount:s,...x});return si.createElement(Jb.Provider,{value:w},c)}function pd(c){const{children:m,value:s,index:x,...w}=c;return e.jsx("div",{role:"tabpanel",hidden:s!==x,id:`simple-tabpanel-${x}`,"aria-labelledby":`simple-tab-${x}`,...w,children:s===x&&e.jsx(Tr,{sx:{p:3},children:e.jsx(Sr,{children:m})})})}function ov({handleAddItem:c,setOpen:m,open:s,setSelectedImage:x,selectedImage:w,handleSelectMedia:P,selectedAudioFile:p,setSelectedAudioFIle:h,setSelectedAudioProperties:l}){const[a,n]=d.useState(null),i=d.useRef(null);d.useRef(null);const[v,b]=d.useState(0),[g,N]=d.useState(!1),[u,_]=d.useState(""),[j,C]=d.useState(null),[z,E]=d.useState({});d.useState(null),d.useState({unit:"%",width:30,aspect:16/9,x:10,y:10});const M=Gd();d.useState(null);const[S,F]=d.useState([]),[y,A]=d.useState([]),[U,ee]=d.useState([]);d.useState(6);const[oe,we]=d.useState(""),[$,L]=d.useState(!1),k=(Te,Oe)=>{b(Oe)},{element:q}=bt(Te=>Te.DrawerReducer),V=wt(),Y=async()=>{N(!0);try{const Te=await Or(`${yr.MEDIA_LIST}?type=audio`),{status:Oe,data:{data:{mediaDetails:Q}}}=Te;Oe===200&&F(Q.rows)}catch(Te){Wr.error(`${Te.response.data.message}`)}N(!1)},se=async()=>{N(!0);try{const Te=await Or(`${yr.MEDIA_LIST_AUDIO_CATEGORY}&section=CATEGORY`),{status:Oe,data:{data:Q}}=Te;Oe===200&&E(JSON.parse(Q==null?void 0:Q.value))}catch(Te){Wr.error(`${Te.response.data.message}`)}N(!1)},Pe=async()=>{N(!0);try{const Te=await Or(`${yr.MEDIA_LIST_AUDIO_CATEGORY}&section=${u}`),{status:Oe,data:{data:Q}}=Te;console.log(Q,"checkAudioList"),Oe===200&&A(JSON.parse(Q==null?void 0:Q.value))}catch(Te){Wr.error(`${Te.response.data.message}`)}N(!1)},Se=async()=>{N(!0);try{const Te=await Or(yr.PIXBY_LIST),{status:Oe,data:{data:{images:Q}}}=Te;Oe===200&&ee(Q)}catch{}N(!1)},_e=Te=>{we(Te.target.value)},G=()=>{m(!1),V(On(""))};d.useEffect(()=>{s&&(Y(),se(),Se())},[q,s]),d.useEffect(()=>{Pe()},[u,s]);const le=Te=>{C(Oe=>Oe===Te?null:Te)},ae=async Te=>{N(!0),console.log(Te.target.files[0]);const Oe=Te.target.files,Q=new FormData;for(let ne=0;ne<Oe.length;ne++)Q.append("media_url",Oe[ne]);if(Te.target.files){try{const ne=await Do(yr.CREATE_MEDIA,Q),{status:ge}=ne,{success:J}=ne.data;J&&ge===$c[200]&&alert("success")}catch(ne){console.log(ne)}N(!1)}},ye=async Te=>{N(!0);const Oe=new File([Te],"voice.mp3",{type:Te.type.split(";")[0]});console.log(Oe,"myfileeee"),n(Oe);const Q=new FormData;Q.append("media_url",Oe);try{const ne=await Do(yr.CREATE_MEDIA,Q),{status:ge}=ne,{success:J}=ne.data;J&&ge===$c[200]&&alert("success")}catch(ne){console.log(ne)}N(!1)};return console.log(y,"audioCategoriesaudioCategories"),e.jsxs("div",{children:[e.jsx(mr,{open:s,handleClose:G,children:e.jsxs(ss,{container:!0,spacing:2,className:"modal-grid",children:[e.jsx(ss,{item:!0,xs:3,className:"pt-0 mt-3",sx:{borderRight:"1px solid rgba(0, 0, 0, 0.12)"},children:e.jsxs("div",{className:"d-flex flex-column justify-content-between h-100",children:[e.jsxs(bd,{orientation:"vertical",value:v,onChange:k,"aria-label":"Library Tabs",children:[e.jsx($n,{label:"Audio Library",className:"text-start align-items-start"}),e.jsx($n,{label:"Free boost library",className:"text-start align-items-start"})]}),e.jsxs("div",{className:"",style:{marginTop:"20px",paddingInline:"16px",paddingBottom:"16px"},children:[e.jsxs(Tr,{sx:{},children:[e.jsx("label",{htmlFor:"uploadImage",color:"primary",className:"upload-label-modal w-100",children:"Upload audio"}),e.jsx("input",{type:"file",onChange:ae,multiple:!0,id:"uploadImage",style:{display:"none"}})]}),e.jsx(Tr,{sx:{marginTop:"10px"},children:e.jsx("label",{color:"primary",className:"upload-label-modal record_button w-100",onClick:()=>L(!0),children:"Record Voice"})})]})]})}),e.jsxs(ss,{item:!0,xs:9,className:"ps-0 pt-0 mt-3",children:[e.jsx(pd,{value:v,index:0,children:e.jsx(zb,{isLoading:g,data:S,handleSearch:_e,activeImage:j,handlecheckMedia:le,selectedImage:w,setSelectedImage:x,handleSelectMedia:P,selectedAudioFile:p,setSelectedAudioFIle:h})}),e.jsx(pd,{value:v,index:1,children:e.jsx($b,{data:z==null?void 0:z.categories,handleSearch:_e,handleSelectMedia:P,activeImage:j,handlecheckMedia:le,setSelectedCategory:_,audioList:y==null?void 0:y.audioFiles,selectedAudioFile:p,setSelectedAudioFIle:h})}),w&&e.jsx("div",{className:"next_cover",children:e.jsx(ur,{className:"button button-primary  px-3 text-right",variant:"contained",color:"primary",onClick:()=>c(),children:"Next"})})]})]})}),e.jsxs(mr,{open:$,width:350,handleClose:()=>L(!1),children:[e.jsxs("div",{className:"modal_recorder",children:[e.jsx(Zb,{onRecordingComplete:ye,recorderControls:M,audioTrackConstraints:{noiseSuppression:!0,echoCancellation:!0}}),e.jsx("p",{children:"Click to start recording"})]}),a&&e.jsx(cv,{audioFile:a,ref:i,options:{waveColor:"#4E9F3D",progressColor:"#2C7A32",height:150}})]})]})}function iv({setOpen:c,open:m,handleSelectCoverTemplate:s,selectedBlockType:x}){const[w,P]=d.useState(!1),[p,h]=d.useState("");d.useState([]);const[l,a]=d.useState([]);d.useState("");const n=wt(),i=async()=>{P(!0),console.log(x.toUpperCase(),"selectedBlockTypeselectedBlockType");try{const b=await Or(`${Of.GET_ALL_COVERS}?type=${x==null?void 0:x.toUpperCase()}`),{status:g,data:{data:{blockDetails:{rows:N}}}}=b;console.log(N,"checkAudfdfdfioList"),g===200&&a(N)}catch(b){Wr.error(`${b.response.data.message}`)}P(!1)},v=()=>{c(!1),n(On(""))};return d.useEffect(()=>{i()},[p,m]),console.log(l,"checkbloclidtt"),e.jsx("div",{children:e.jsxs(mr,{open:m,handleClose:v,children:[e.jsx("h1",{className:"p-4",children:"Templates"}),e.jsxs(ss,{container:!0,spacing:2,className:"modal-grid p-4",children:[!(l!=null&&l.length)&&e.jsx("p",{children:"No data found"}),l==null?void 0:l.map(b=>{var g;return e.jsx(ss,{item:!0,xs:4,md:4,sm:3,children:e.jsxs("div",{className:"block-cover",role:"button",onClick:()=>s(b==null?void 0:b.block_json),children:[e.jsx("img",{src:((g=b==null?void 0:b.block_json)==null?void 0:g.imageUrl)||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"coverImage",className:"w-100"}),e.jsx("h4",{className:"text-center mt-4",children:(b==null?void 0:b.title)||"Title"})]})})})]})]})})}const ti=[{id:"snbjdbakd",key:"firstName",type:"text",label:"First name",isRequired:!0,initialValue:""},{id:"ffsfgfghsf",key:"lastName",type:"text",label:"Last name",isRequired:!0,initialValue:""},{id:"fddshgduio",key:"email",type:"email",label:"Email",isRequired:!0,initialValue:""},{id:"lkjhbgvdfd",key:"phoneNumber",type:"number",label:"Phone number",isRequired:!0,initialValue:""},{id:"lhfgfdgfgfg",key:"companyName",type:"text",label:"Company name",isRequired:!0,initialValue:""},{id:"dfddgdff",key:"companyUrl",type:"text",label:"Company URL",isRequired:!0,initialValue:""}],As=[{value:"text",label:"Text input"},{value:"text_area",label:"Text area"},{value:"email",label:"Email"},{value:"phone",label:"Phone Number"},{value:"text",label:"URL"},{value:"checkbox",label:"Checkbox"}],lv=()=>{const c=()=>{const m=`https://login.mailchimp.com/oauth2/authorize?response_type=code&client_id=${Wf}&redirect_uri=${encodeURIComponent("http://localhost:3000")}`,s=600,x=700,w=(window.innerWidth-s)/2,P=(window.innerHeight-x)/2;window.open(m,"MailchimpAuth",`width=${s},height=${x},top=${P},left=${w},resizable,scrollbars=yes,status=1`)};return e.jsx("button",{className:"button button-primary px-3 text-decoration-none",onClick:c,children:"Set up"})};function av({IsOpenFormModal:c,setIsOpenFormModal:m,formData:s,selectedPage:x,handleChangeLogo:w}){var k,q,V,Y,se,Pe,Se,_e;const[P,p]=d.useState([]),[h,l]=d.useState([]),[a,n]=d.useState(""),[i,v]=d.useState(!1),[b,g]=d.useState(!1),[N,u]=d.useState({}),{templateDetails:_}=bt(G=>G.DrawerReducer),j={inputProps:{"aria-label":"Switch demo"}},C={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1200,backgroundColor:"#fff",boxShadow:24,borderRadius:"12px",p:4},z=wt();d.useEffect(()=>{var le,ae,ye;const G=(ye=(ae=(le=s==null?void 0:s.struct)==null?void 0:le.leadFormStruct)==null?void 0:ae.form)==null?void 0:ye.fields.map(Te=>Te.id);p(G)},[s]);const E=(G,le,ae)=>{p(Te=>Te!=null&&Te.includes(le)?Te==null?void 0:Te.filter(Oe=>Oe!==le):[...Te,le]);const ye={..._,project_structure:{..._.project_structure,pages:_.project_structure.pages.map(Te=>({...Te,blocks:Te.blocks.map(Oe=>{var Q;return Oe.id===(s==null?void 0:s.id)?{...Oe,struct:{...Oe.struct,leadFormStruct:{...(Q=Oe==null?void 0:Oe.struct)==null?void 0:Q.leadFormStruct,form:{...Oe.struct.leadFormStruct.form,fields:G.target.checked?[...Oe==null?void 0:Oe.struct.leadFormStruct.form.fields,ae]:Oe.struct.leadFormStruct.form.fields.filter(ne=>ne.id!==(ae==null?void 0:ae.id))}}}}:Oe})}))}};z(T(ye))},M=()=>{const G={id:Jt(),key:"new",type:"text",label:"New",isRequired:!0,initialValue:"New"};l([...h,G]);const le={..._,project_structure:{..._.project_structure,pages:_.project_structure.pages.map(ae=>({...ae,blocks:ae.blocks.map(ye=>ye.id===(s==null?void 0:s.id)?{...ye,struct:{...ye.struct,leadFormStruct:{...ye.struct.leadFormStruct,form:{...ye.struct.leadFormStruct.form,fields:[...ye.struct.leadFormStruct.form.fields,G]}}}}:ye)}))}};z(T(le))};d.useEffect(()=>{As.length>0&&n({value:As[0].value,label:As[0].label})},[As]);const S=(G,le)=>{console.log(G,"checkokornot"),n(G),l(ye=>ye.map(Te=>Te.id===le?{...Te,type:G.value}:Te));const ae={..._,project_structure:{..._.project_structure,pages:_.project_structure.pages.map(ye=>({...ye,blocks:ye.blocks.map(Te=>Te.id===(s==null?void 0:s.id)?{...Te,struct:{...Te.struct,leadFormStruct:{...Te.struct.leadFormStruct,form:{...Te.struct.leadFormStruct.form,fields:Te.struct.leadFormStruct.form.fields.map(Oe=>Oe.id===le?{...Oe,type:G.value}:Oe)}}}}:Te)}))}};z(T(ae))},F=()=>{v(G=>!G)},y=(G,le)=>{l(ae=>ae.map(ye=>ye.id===le?{...ye,initialValue:G,label:G,key:G}:ye))},A=G=>{const le=G;console.log("CALLING"),u(ae=>({...ae,headerText:le}))};console.log(s,"formData");const U=G=>{const le=G;console.log("CALLING"),u(ae=>({...ae,descriptionText:le}))},ee=G=>{const le=G;console.log(!le.trim(),"ioioiioiio"),g(!le.trim()),u(ae=>({...ae,buttonText:le}))},oe=G=>{const le=G;console.log(le,"dwdwdwd"),u(ae=>({...ae,linkPrivacyPolicyLink:le}))},we=G=>{const le=G;u(ae=>({...ae,addtionalText:le}))},$=G=>{l(le=>le.filter(ae=>ae.id!==G))},L=()=>{var le;if(!((le=N==null?void 0:N.buttonText)!=null&&le.trim())){g(!0);return}console.log(N,"formModelformModel"),console.log(_,"templateDetails");const G={..._,project_structure:{..._.project_structure,pages:_.project_structure.pages.map(ae=>({...ae,blocks:ae.blocks.map(ye=>ye.id===(s==null?void 0:s.id)?{...ye,struct:{...ye.struct,leadFormStruct:{...ye.struct.leadFormStruct,form:{...N}}}}:ye)}))}};z(T(G)),m(!1)};return console.log(s,"formData"),d.useEffect(()=>{var G,le;s&&(console.log(s,"rerendereddddd"),u((le=(G=s==null?void 0:s.struct)==null?void 0:G.leadFormStruct)==null?void 0:le.form))},[s,c]),console.log(s==null?void 0:s.struct,"cnewenwlnlkwndksndlnsds"),e.jsxs(e.Fragment,{children:[e.jsx(qn,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",open:c,onClose:()=>m(!1),closeAfterTransition:!0,slots:{backdrop:Gn},children:e.jsxs("div",{style:C,children:[e.jsxs("div",{className:"modal-form",children:[e.jsxs("div",{className:"modal-header-form",children:[e.jsx("h3",{children:"Form options"}),e.jsx("button",{className:"btn text-white",style:{fontSize:"30px"},onClick:()=>m(!1),children:e.jsx("i",{class:"fa-solid fa-xmark"})})]}),e.jsx("div",{className:"modal-form-body",children:e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{className:"form-left",children:e.jsxs("div",{className:"fields-output",children:[e.jsx("h4",{className:"mb-3",children:"Form fields"}),e.jsxs("div",{className:"formFieldsList",children:[e.jsx("div",{className:"row gy-3 gx-4 mb-3",children:ti.map((G,le)=>e.jsx("div",{className:"col-md-4 d-flex gap-2",children:e.jsxs("label",{htmlFor:`field-${G.id}`,className:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer mb-0",children:[e.jsx("input",{id:`field-${G.id}`,className:"form-check-input theme-control shadow-none m-0",type:"checkbox",defaultChecked:P==null?void 0:P.includes(G.id),onChange:ae=>E(ae,G.id,G)}),G.label]})},le))}),e.jsx("div",{className:"newFieldsArray",children:h.length>0&&h.map((G,le)=>e.jsxs("div",{className:"fieldstype d-flex align-items-center justify-content-center mb-3",children:[e.jsxs("div",{className:"selectBox_input w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Field type"}),e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",defaultChecked:G.type,onChange:ae=>S(ae,G.id),options:As,placeholder:"Select input type"},le)]}),e.jsxs("div",{className:"input_field  w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Field Name"}),e.jsx("input",{type:"text",className:"form-control theme-control",defaultValue:G.initialValue,onChange:ae=>y(ae.target.value,G.id)})]}),e.jsxs("div",{className:"deleteField",children:[e.jsx("label",{htmlFor:"",className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:" "}),e.jsx("button",{className:"button button-secondary px-3 border-0",onClick:()=>$(G.id),children:e.jsx("i",{className:"fa-solid fa-trash text-danger"})})]})]}))}),e.jsx("div",{className:"addFieldsButton mb-4",children:e.jsxs("button",{onClick:M,className:"bg-transparent p-0 border-0 primary-text font-sm",children:[e.jsx("i",{className:"fa-solid fa-plus"})," Add field"]})}),e.jsxs("div",{className:"additionalInfo",children:[e.jsx("h4",{className:"mb-3",children:"Additional information"}),e.jsxs("div",{className:"addInfoDetails",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Logo"}),e.jsx("button",{className:"button button-primary border-0 mb-3",onClick:()=>w("formImage",s==null?void 0:s.id),children:"Change"}),e.jsxs("div",{className:"fields_info",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Header"}),console.log(N==null?void 0:N.headerText,"formModel?.headerText"),e.jsx("input",{className:" form-control theme-control",type:"text",defaultValue:N==null?void 0:N.headerText,onChange:G=>A(G.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Description"}),e.jsx("textarea",{className:"form-control theme-control",defaultValue:N==null?void 0:N.descriptionText,onChange:G=>U(G.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:["Button text"," ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{className:`form-control theme-control ${b?"is-invalid":""}`,defaultValue:N==null?void 0:N.buttonText,onChange:G=>ee(G.target.value)}),console.log(b,"sasasa"),b&&e.jsx("div",{className:"invalid-feedback",children:"Button text is required."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Link to your privacy policy"}),console.log(N,"formModel"),e.jsx("input",{className:"form-control theme-control",value:N==null?void 0:N.linkPrivacyPolicyLink,onChange:G=>oe(G.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[console.log(N,"iopioii"),e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Any additional notes"}),e.jsx("textarea",{className:"colorInput form-control theme-control",defaultValue:N==null?void 0:N.addtionalText,onChange:G=>we(G.target.value)})]})]})]})]}),e.jsx("h3",{className:"",children:"Integrations"}),e.jsx("div",{className:"maindiv",children:e.jsxs("div",{className:"MailChimpIntegrations_MailchimpIntegrations__vUrTG",children:[e.jsxs("div",{className:"MailChimpIntegrations_group__PxJ26",children:[e.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdFSURBVHgB7VkJcFNVFD0/yU/SJm3TDVBAoeKCWwEpm+w7CmVQR2QQLJsyCBRGGBeQVZERhl1BEZBVB8qOIEtBGRaHfZF9aVkKpWtI0qRp8v/3vge0JJM0aVmGznhmOpNpfvLPv/fce899EUBQ0qrUgKBeRC/r0J8JTxyUdVDk4ULNzHThLtmjeCKJesAMRaqrgqCZjiefLIOJqUBQ0qsqqDgwq1CxYKpohFHhCGvwgFCoAvYfcWLpGgdOnnVBIwL93jegZ7dQqATvi+lPwAOh/ITp5qcvujF2ugUHjhehfTMdhvQxwmqTMW6GBW63gu5dQnH8jAvrtjmw73ARMjJlhOiBJm9oMTY5HNWeUqOsKHeXSNlciOTxZnRurce44WF4qlLJzQ+dKELigFzEmNT497yLZ8EbdV4WkboiBlFlLKOyR5hu/uUUC5atsWP5zEi0bKTzePvyVTfGUNQzs2TcvCX7/Zpjp124kiE9WsI2u4yx06zYc6gI25ZFo3Ytsfg9SVawcpMDI76x4EaWFPC7dFoBhtCyC7pMj/f9PBu27nZi9dwoD7K3rTIGfmVG7+Fm6Cjg4WEqtG2qw6e9DVD7uUO9V0XEPfMINTx5rhXL19mxdWkMnr5Pr7dyZHTpm4ODJ1wY1teIYf2MOEW6FSh4GZkS0q9LOEHdY+c+Jwrsd27FuscO0m+rxjqUFUFJ4uQ5Fxb8XoCUedEeZC9dcaNz3zxcu+EmogZe9e98kouL6W5YbCVxYARV6pL0J9ODeWv/oRHOzpPRfXA+Zo03Ib52iQxY9Lp9nIezl1yoWkWNxSkO5N/2XWQkb8juu9Elibz2ksgzUB4E1PDUn62oVlmNji30xf9jbWrgKDOP/D3y/sjeQ3WK/sIpkRjykQGT5lghy+XzXKVG+NR5NxatslNHiPGIyBR6iE2phT4/I2oEdGqto+GgQ16+xAfJC3EieiSGonKMCmaLHhtTs3H4pAsJ8Vo8VMILVxbg7VZ6xL9UIoW0a27MXGjzeT17qDkTIjCgh8Fnyh2FCiKMAqpXUfEenBCPh0eYpf23DWw4RHncfM7iAtzwMxBejNP4Jcsw7RcbXSMiIlwFu6N8kvCr4bRrEjSU3vsLjUXl1xS7v4+gUV1tMdlCp4KbbIDcx0tDnSJ1byHv08xjnLvke2yXBr8Rdrpk3vTFu1fcpFH745IC5Jn9F1dm9p33btySMHW+DbKk0HDQYHCSkbe2Qb0MZJhccLkUjJ9pRaekPDRtoMWMryOCHtF+r4qrpuFPvynViYPkxhISs6hYHGhON9DrfOd890En0jPc3AiNGRqGZ6tqUIkKjZE9dspFGpaxYr0dTRN02E6FvG1pNBwkjYmzrAgWpU66A8dd6JmchyyaZqyYEtvpkU8R1hHht5JyuYHxRouGOqyeF4XoSM9YpO514pmn1XiuhsbDJ2/Y4eAjf09KLIJBqXloEC+iz3sGbgVbNdGh17B89BmZj71kfiaNDOfEvbH7gBMbiYQ32rypw/M1PcmySTlpto3742ARcNKl09ht0UiLs2TWZ08w0RiWuCEfkxyGyHCBdOuZIDZyuyeG+P0+JrMM0jjzJZt3FaJhPZGKT4Kb9K5RBx5/AQkbQgRucJj7YthH0W3fXA+tKPAu4o3PBhgRolPhfJqbyyA2SgUtBdBiVXCFjBBbp3LyFXRsqUfK3GiEGQQ81/wWfqB2yTxGIAQsza5tQ7Bmi6O4OzSm9P1ztAhpVyXctnh2DBahdrQqSdTNPiT5sC5zM1ui7EhkhmS8+qKIORMjsX9tLMYNC+MPw0b0lsXRWLnZQa8REAEJN2uo5cXGVh6muaqVVRiaZMC0BTZYCzzlYIoQeOSZ0Wcd4QK5NtbiGClDiAoNqE/XqKaGREaISWzpWjsZ/zvRN+gFCEF0toCSYFGaOc6Ez7+zoH6XLNSqIZJHkHGZRrQ3bGQpmRbDjCqKtB52shtJ74ZwN8e25TRan9b+WcR9RO1aGjJCRl64m3c5uKEPxsCVaQllriyVjPig0eZiM+6NrUuiucaZGWO9d+1WB5dFKEWwZnUNGtbRov7rIs8EA9sBX+uQhQPrY/HKC2JADuXamoeONWM2FYkvtKQt4o+FUQgNCZzfqzTqE/vn8iwe2lQpKI9crpOf0TTF4qr73sf+3u/EiG8tcBaVHoc9NBW79MvhxwBTR0cEbejLfS5x+oIbHXrl4Hqm7w05gYYOa3H1XhFpPKtp0xCQnSvhCMlkGRXbhu2FvCfPn2xC/w8MCBYPdNx6hir9i8kW7jF8uS4WNdbHw4x3wsf88G2Lwg0c2/9+mmRCO+rvohj8vvTA58NOspGrqIfOWmTj1V/a5sMeIDZaja7UJkcNZuboMR5VeaOAei9L9869RTRYnHxztlEnYQcmlWNVePl5EU3ra9G5jZ5WpbITfeiEHxf+P9B+1GCEzahAYISPoaJAUdZXvB8W2c+h7AU1jHV4MsEk+xfjyLj+B0+BHMixZwouAAAAAElFTkSuQmCC",alt:""}),e.jsx("p",{children:" MailChimp"})]}),e.jsxs("div",{className:"MailChimpIntegrations_group__PxJ26",children:[e.jsx(sd,{...j,defaultChecked:!0}),e.jsx("p",{children:"status"}),":",e.jsx("p",{children:"Inactive"})]}),e.jsx(lv,{})]})}),e.jsxs("div",{className:"MailChimpIntegrations_MailchimpIntegrations__vUrTG",children:[e.jsxs("div",{className:"MailChimpIntegrations_group__PxJ26",children:[e.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdFSURBVHgB7VkJcFNVFD0/yU/SJm3TDVBAoeKCWwEpm+w7CmVQR2QQLJsyCBRGGBeQVZERhl1BEZBVB8qOIEtBGRaHfZF9aVkKpWtI0qRp8v/3vge0JJM0aVmGznhmOpNpfvLPv/fce899EUBQ0qrUgKBeRC/r0J8JTxyUdVDk4ULNzHThLtmjeCKJesAMRaqrgqCZjiefLIOJqUBQ0qsqqDgwq1CxYKpohFHhCGvwgFCoAvYfcWLpGgdOnnVBIwL93jegZ7dQqATvi+lPwAOh/ITp5qcvujF2ugUHjhehfTMdhvQxwmqTMW6GBW63gu5dQnH8jAvrtjmw73ARMjJlhOiBJm9oMTY5HNWeUqOsKHeXSNlciOTxZnRurce44WF4qlLJzQ+dKELigFzEmNT497yLZ8EbdV4WkboiBlFlLKOyR5hu/uUUC5atsWP5zEi0bKTzePvyVTfGUNQzs2TcvCX7/Zpjp124kiE9WsI2u4yx06zYc6gI25ZFo3Ytsfg9SVawcpMDI76x4EaWFPC7dFoBhtCyC7pMj/f9PBu27nZi9dwoD7K3rTIGfmVG7+Fm6Cjg4WEqtG2qw6e9DVD7uUO9V0XEPfMINTx5rhXL19mxdWkMnr5Pr7dyZHTpm4ODJ1wY1teIYf2MOEW6FSh4GZkS0q9LOEHdY+c+Jwrsd27FuscO0m+rxjqUFUFJ4uQ5Fxb8XoCUedEeZC9dcaNz3zxcu+EmogZe9e98kouL6W5YbCVxYARV6pL0J9ODeWv/oRHOzpPRfXA+Zo03Ib52iQxY9Lp9nIezl1yoWkWNxSkO5N/2XWQkb8juu9Elibz2ksgzUB4E1PDUn62oVlmNji30xf9jbWrgKDOP/D3y/sjeQ3WK/sIpkRjykQGT5lghy+XzXKVG+NR5NxatslNHiPGIyBR6iE2phT4/I2oEdGqto+GgQ16+xAfJC3EieiSGonKMCmaLHhtTs3H4pAsJ8Vo8VMILVxbg7VZ6xL9UIoW0a27MXGjzeT17qDkTIjCgh8Fnyh2FCiKMAqpXUfEenBCPh0eYpf23DWw4RHncfM7iAtzwMxBejNP4Jcsw7RcbXSMiIlwFu6N8kvCr4bRrEjSU3vsLjUXl1xS7v4+gUV1tMdlCp4KbbIDcx0tDnSJ1byHv08xjnLvke2yXBr8Rdrpk3vTFu1fcpFH745IC5Jn9F1dm9p33btySMHW+DbKk0HDQYHCSkbe2Qb0MZJhccLkUjJ9pRaekPDRtoMWMryOCHtF+r4qrpuFPvynViYPkxhISs6hYHGhON9DrfOd890En0jPc3AiNGRqGZ6tqUIkKjZE9dspFGpaxYr0dTRN02E6FvG1pNBwkjYmzrAgWpU66A8dd6JmchyyaZqyYEtvpkU8R1hHht5JyuYHxRouGOqyeF4XoSM9YpO514pmn1XiuhsbDJ2/Y4eAjf09KLIJBqXloEC+iz3sGbgVbNdGh17B89BmZj71kfiaNDOfEvbH7gBMbiYQ32rypw/M1PcmySTlpto3742ARcNKl09ht0UiLs2TWZ08w0RiWuCEfkxyGyHCBdOuZIDZyuyeG+P0+JrMM0jjzJZt3FaJhPZGKT4Kb9K5RBx5/AQkbQgRucJj7YthH0W3fXA+tKPAu4o3PBhgRolPhfJqbyyA2SgUtBdBiVXCFjBBbp3LyFXRsqUfK3GiEGQQ81/wWfqB2yTxGIAQsza5tQ7Bmi6O4OzSm9P1ztAhpVyXctnh2DBahdrQqSdTNPiT5sC5zM1ui7EhkhmS8+qKIORMjsX9tLMYNC+MPw0b0lsXRWLnZQa8REAEJN2uo5cXGVh6muaqVVRiaZMC0BTZYCzzlYIoQeOSZ0Wcd4QK5NtbiGClDiAoNqE/XqKaGREaISWzpWjsZ/zvRN+gFCEF0toCSYFGaOc6Ez7+zoH6XLNSqIZJHkHGZRrQ3bGQpmRbDjCqKtB52shtJ74ZwN8e25TRan9b+WcR9RO1aGjJCRl64m3c5uKEPxsCVaQllriyVjPig0eZiM+6NrUuiucaZGWO9d+1WB5dFKEWwZnUNGtbRov7rIs8EA9sBX+uQhQPrY/HKC2JADuXamoeONWM2FYkvtKQt4o+FUQgNCZzfqzTqE/vn8iwe2lQpKI9crpOf0TTF4qr73sf+3u/EiG8tcBaVHoc9NBW79MvhxwBTR0cEbejLfS5x+oIbHXrl4Hqm7w05gYYOa3H1XhFpPKtp0xCQnSvhCMlkGRXbhu2FvCfPn2xC/w8MCBYPdNx6hir9i8kW7jF8uS4WNdbHw4x3wsf88G2Lwg0c2/9+mmRCO+rvohj8vvTA58NOspGrqIfOWmTj1V/a5sMeIDZaja7UJkcNZuboMR5VeaOAei9L9869RTRYnHxztlEnYQcmlWNVePl5EU3ra9G5jZ5WpbITfeiEHxf+P9B+1GCEzahAYISPoaJAUdZXvB8W2c+h7AU1jHV4MsEk+xfjyLj+B0+BHMixZwouAAAAAElFTkSuQmCC",alt:""}),e.jsx("p",{children:" Webhook"})]}),e.jsxs("div",{className:"MailChimpIntegrations_group__PxJ26",children:[e.jsx(sd,{...j,defaultChecked:!0}),e.jsx("p",{children:"status"}),":",e.jsx("p",{children:"Inactive"})]}),e.jsx("button",{onClick:F,className:"button button-primary px-3 text-decoration-none",children:"Set up"})]})]})]})}),e.jsxs("div",{className:"form-right scrollable-div border-start p-4",children:[e.jsx("h5",{children:"Approximate preview"}),e.jsxs("div",{className:"formPreview",children:[((q=(k=s==null?void 0:s.struct)==null?void 0:k.form)==null?void 0:q.logoImage)&&e.jsx("img",{src:(Y=(V=s==null?void 0:s.struct)==null?void 0:V.form)==null?void 0:Y.logoImage,alt:"logo",className:"previewLogo"}),(N==null?void 0:N.headerText)&&e.jsx("h4",{className:"text-center",children:N==null?void 0:N.headerText}),e.jsx("p",{className:"text-center",children:N==null?void 0:N.descriptionText}),e.jsx("div",{className:"fields-preview mb-4",children:(_e=(Se=(Pe=(se=s==null?void 0:s.struct)==null?void 0:se.leadFormStruct)==null?void 0:Pe.form)==null?void 0:Se.fields)==null?void 0:_e.map(G=>e.jsx("label",{className:"form-label font-sm w-100",role:"button",children:e.jsxs("div",{children:[(G==null?void 0:G.type)!=="checkbox"&&e.jsx("p",{children:G==null?void 0:G.label}),e.jsxs("div",{children:[(G==null?void 0:G.type)==="checkbox"&&e.jsxs("div",{className:"d-flex ",children:[e.jsx("input",{id:G==null?void 0:G.id,type:"checkbox",className:"checkbox "}),e.jsx("label",{htmlFor:G==null?void 0:G.id,className:"m-1 user-select-none",role:"button",children:G==null?void 0:G.label})]}),(G==null?void 0:G.type)==="text_area"&&e.jsx("textarea",{className:"w-100 form-control"}),(G==null?void 0:G.type)==="text"&&e.jsx("input",{className:"form-control theme-control",type:G==null?void 0:G.type}),(G==null?void 0:G.type)==="email"&&e.jsx("input",{className:"form-control theme-control",type:G==null?void 0:G.type}),(G==null?void 0:G.type)==="number"&&e.jsx("input",{className:"form-control theme-control",type:"number"})]})]})}))}),console.log(N==null?void 0:N.linkPrivacyPolicyLink,"dadadad"),e.jsxs("div",{className:"submitpreview",children:[(N==null?void 0:N.linkPrivacyPolicyLink)&&e.jsxs("div",{className:"termsForm text-center",children:[e.jsx("input",{id:"terms",type:"checkbox"}),e.jsxs("label",{htmlFor:"terms",className:"ps-2",children:["I Agree with"," ",e.jsx(xn,{to:N==null?void 0:N.linkPrivacyPolicyLink,children:"Privacy Policy"})]})]}),console.log(N,"iopioioio"),N==null?void 0:N.addtionalText,e.jsx("div",{className:"text-center m-2",children:e.jsx("button",{className:"btn py-2 w-50",style:{backgroundColor:"#000",color:"#fff"},children:(N==null?void 0:N.buttonText)||"Submit"})})]})]})]})]})})]}),e.jsx("ul",{className:"Footer_footer__bMDNk",children:e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{type:"submit",onClick:()=>L(),className:"button button-primary px-3 text-decoration-none",children:"Save"})})})]})}),e.jsx(mr,{open:i,children:e.jsx("div",{className:"",style:C,children:e.jsxs("div",{className:"modal-form",style:{height:"800px"},children:[e.jsxs("div",{className:"modal-header-form",children:[e.jsx("h3",{children:"Webhooks integration"}),e.jsx("button",{className:"btn text-white",style:{fontSize:"30px"},onClick:()=>v(!1),children:e.jsx("i",{class:"fa-solid fa-xmark"})})]}),e.jsx("div",{className:"p-4 modal-form-body",children:e.jsx("div",{className:"form-left",children:e.jsx("div",{className:"fields-output",children:e.jsx("div",{className:"formFieldsList}",children:e.jsx("div",{className:"additionalInfo",children:e.jsxs("div",{className:"fields_info d-flex align-items-center gap-3",children:[e.jsx("div",{className:"image-container",children:e.jsx("img",{src:"",alt:"Webhook",className:"webhook-image"})}),e.jsxs("div",{className:"d-flex flex-column flex-grow-1",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-block",role:"button",children:"Webhook URL"}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("input",{className:"form-control theme-control input-field",type:"text",style:{width:"100%"}}),e.jsx("button",{className:"button button-secondary px-3",children:"Add"})]})]})]})})})})})})]})})})]})}const dv=Ts().shape({questions:Oc().of(Ts().shape({text:Rt().required("Question text is required"),answers:Oc().min(1,"At least one answer is required").of(Ts().shape({text:Rt().required("Answer text is required"),description:Rt().nullable()}))}))});function uv({isEditMediaTypeDetails:c,updateParentState:m,handleChangeImage:s,handleNext:x,setIsOpenFormModal:w,selecteScreen:P,setTriggerNext:p,formData:h,questions:l,handleSaveQuestion:a,formRef:n,setErrorScreen:i}){var ae,ye,Te,Oe;console.log(m,"setSelectScreensetSelectScreenasasasasasasas"),console.log(l,"questionsquestions"),console.log(h==null?void 0:h.struct,"setSelectScreensetSelectScreen");const{templateDetails:v}=bt(Q=>Q.DrawerReducer),b=nr({mode:"onChange",resolver:cr(dv),defaultValues:{questions:(l==null?void 0:l.questions)||[{text:"",answers:[{text:"",description:""}]}]}}),[g,N]=d.useState((l==null?void 0:l.questions)||[]);console.log(g,"localQuestionslocalQuestions"),console.log(g,"localQuestions"),console.log(l,"templateDetaddilstemplateDetails");const[u,_]=d.useState(""),[j,C]=d.useState(()=>{var ge,J,he,Ie;const Q=(J=(ge=v==null?void 0:v.project_structure)==null?void 0:ge.pages)==null?void 0:J.find(Ge=>{var xe;return(xe=Ge.blocks)==null?void 0:xe.some(D=>D.id===(h==null?void 0:h.id))}),ne=(he=Q==null?void 0:Q.blocks)==null?void 0:he.find(Ge=>Ge.id===(h==null?void 0:h.id));return((Ie=ne==null?void 0:ne.struct)==null?void 0:Ie.questions)||[]});console.log(j,"changeTextchangeText");const[z,E]=d.useState(v||{}),M=d.useRef(!1),[S,F]=d.useState([]),{register:y,watch:A,setValue:U,handleSubmit:ee,formState:{errors:oe},trigger:we}=b;console.log(l,"questionsquestionsquestions"),console.log(oe,"ipoioiioioioi");const $=wt();console.log(z,"dsdsdsdsdsdsdsd");const L=()=>{const Q={id:Jt(),text:"",image:"",isText:!0,answers:[{id:Jt(),text:"text",image:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",isCorrect:!0,imageLabel:"",description:"",imageDescription:""},{id:Jt(),text:"text",image:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",isCorrect:!1,imageLabel:"",description:"",imageDescription:""}],imageDisclaimer:""},ne=[...g,Q];N(ne);const ge={...z,project_structure:{...z.project_structure,pages:z.project_structure.pages.map(J=>({...J,blocks:J.blocks.map(he=>he.id===(h==null?void 0:h.id)?{...he,struct:{...he.struct,questions:ne}}:he)}))}};E(ge)};console.log(z,"updatedtemplateupdatedtemplate");const k=Q=>{console.log(Q,"xaxaaxaxa");const ne={...z,project_structure:{...z.project_structure,pages:z.project_structure.pages.map(J=>({...J,blocks:J.blocks.map(he=>{var Ie;return he.id===(h==null?void 0:h.id)?{...he,struct:{...he.struct,questions:(Ie=he.struct.questions)==null?void 0:Ie.filter(Ge=>Ge.id!==Q)}}:he})}))}};E(ne);const ge=g.filter(J=>J.id!==Q);N(ge)},q=(Q,ne)=>{console.log(Q,"eeeeee",ne,"IIIDIDIDIDIDI989898");const ge={...z,project_structure:{...z.project_structure,pages:z.project_structure.pages.map(J=>({...J,blocks:J.blocks.map(he=>{var Ie;return he.id===(h==null?void 0:h.id)?{...he,struct:{...he.struct,questions:(Ie=he.struct.questions)==null?void 0:Ie.map(Ge=>Ge.id===ne?{...Ge,text:Q}:Ge)}}:he})}))}};E(ge)};console.log(z,"wswswsw");const V=(Q,ne)=>{console.log("Clicked:",Q,"on question:",ne);const ge=g.map(J=>J.id===ne?{...J,isText:Q==="text"}:J);console.log("Updated Questions:",ge),N(ge)},Y=(Q,ne)=>{const ge={...z,project_structure:{...z.project_structure,pages:z.project_structure.pages.map(J=>({...J,blocks:J.blocks.map(he=>{var Ie;return he.id===(h==null?void 0:h.id)?{...he,struct:{...he.struct,questions:(Ie=he.struct.questions)==null?void 0:Ie.map(Ge=>Ge.id===ne?{...Ge,imageDescription:Q}:Ge)}}:he})}))}};E(ge)},se=(Q,ne,ge)=>{const J=g.map(Ie=>Ie.id===ne?{...Ie,answers:Ie.answers.map(Ge=>Ge.id===ge?{...Ge,isCorrect:Q}:Ge)}:Ie);N(J);const he={...z,project_structure:{...z.project_structure,pages:z.project_structure.pages.map(Ie=>({...Ie,blocks:Ie.blocks.map(Ge=>Ge.id===(h==null?void 0:h.id)?{...Ge,struct:{...Ge.struct,questions:J}}:Ge)}))}};E(he)},Pe=(Q,ne)=>{console.log("Deleting answer:",ne);const ge=g.map(he=>he.id===Q?{...he,answers:he.answers.filter(Ie=>Ie.id!==ne)}:he);N(ge);const J={...z,project_structure:{...z.project_structure,pages:z.project_structure.pages.map(he=>({...he,blocks:he.blocks.map(Ie=>Ie.id===(h==null?void 0:h.id)?{...Ie,struct:{...Ie.struct,questions:ge}}:Ie)}))}};E(J)},Se=(Q,ne,ge)=>{const J=g.map(he=>he.id===ne?{...he,answers:he.answers.map(Ie=>Ie.id===ge?{...Ie,text:Q}:Ie)}:he);N(J)},_e=(Q,ne,ge)=>{const J={...z,project_structure:{...z.project_structure,pages:z.project_structure.pages.map(he=>({...he,blocks:he.blocks.map(Ie=>{var Ge;return Ie.id===(h==null?void 0:h.id)?{...Ie,struct:{...Ie.struct,questions:(Ge=Ie.struct.questions)==null?void 0:Ge.map(xe=>xe.id===ne?{...xe,answers:xe.answers.map(D=>D.id===ge?{...D,description:Q}:D)}:xe)}}:Ie})}))}};E(J)},G=Q=>{console.log(Q,"Adding new answer");const ne={id:Jt(),text:"Answer text",isCorrect:!1,imageLabel:"",description:"",imageDescription:"",image:""},ge=g.map(he=>he.id===Q?{...he,answers:[...he.answers,ne]}:he);N(ge);const J={...z,project_structure:{...z.project_structure,pages:z.project_structure.pages.map(he=>({...he,blocks:he.blocks.map(Ie=>Ie.id===(h==null?void 0:h.id)?{...Ie,struct:{...Ie.struct,questions:ge}}:Ie)}))}};E(J)},le=Q=>{var ge,J;const ne={...z,project_structure:{...z.project_structure,pages:z.project_structure.pages.map(he=>({...he,blocks:he.blocks.map(Ie=>{var Ge;return Ie.id===(h==null?void 0:h.id)?{...Ie,struct:{...Ie.struct,questions:(Ge=Ie.struct.questions)==null?void 0:Ge.map(xe=>xe.id===Q?{...xe,image:""}:xe)}}:Ie})}))}};E(ne),N(((J=(ge=ne.project_structure.pages.find(he=>he.blocks.some(Ie=>Ie.id===(h==null?void 0:h.id))))==null?void 0:ge.blocks.find(he=>he.id===(h==null?void 0:h.id)))==null?void 0:J.struct.questions)||[])};return console.log(c,"isEditMediaTypeDetailsisEditMediaTypeDetails"),console.log(u,"localImagelocalImage"),console.log(P,"ioioiweoio"),console.log(oe,"errorserrors"),console.log(c.type,u,"isEditMediaTypeDetails.type"),d.useEffect(()=>{P==="questions"&&n&&(n.current={submitForm:ee(Q=>{console.log(z,"123123123123"),console.log(u!==c.type,"asdsdsd"),$(T(z)),c.type&&m(ne=>({...ne,...c,type:u})),w(!1)}),hasErrors:()=>Object.keys(oe).length>0})},[n,ee,oe,P,z]),console.log(oe,"errors"),d.useEffect(()=>{P==="questions"&&(Object.keys(oe).length>0?(i(!0),p(!0)):(i(!1),p(!1)))},[oe,P,i,p]),console.log((Oe=(Te=(ye=(ae=z==null?void 0:z.project_structure)==null?void 0:ae.pages[0])==null?void 0:ye.blocks[0])==null?void 0:Te.struct)==null?void 0:Oe.questions,"ioiooioo8900"),d.useEffect(()=>{P==="questions"&&(Object.keys(oe).length>0||!M.current)&&(async()=>{const ne=await we();i(!ne),p(!ne),M.current=!0})()},[]),console.log(l,"questionsquestions"),d.useEffect(()=>{var Q;(Q=l==null?void 0:l.questions)!=null&&Q.length&&l.questions.forEach((ne,ge)=>{var J;ne.text&&(U(`questions.${ge}.text`,ne.text),we(`questions.${ge}.text`)),(J=ne==null?void 0:ne.answers)==null||J.forEach((he,Ie)=>{he.text&&(U(`questions.${ge}.answers.${Ie}.text`,he.text),we(`questions.${ge}.answers.${Ie}.text`))})})},[l,U,we]),d.useEffect(()=>{l!=null&&l.questions&&b.reset({questions:l.questions})},[l,b]),d.useEffect(()=>{c!=null&&c.type&&_(c.type)},[c]),d.useEffect(()=>{F(z)},[]),d.useEffect(()=>{N((l==null?void 0:l.questions)||[])},[l]),d.useEffect(()=>{var Q;(Q=l==null?void 0:l.questions)!=null&&Q.length&&N(ne=>l.questions.map(ge=>{const J=ne.find(he=>he.id===ge.id);return{...ge,isText:(J==null?void 0:J.isText)??!0}}))},[l==null?void 0:l.questions]),d.useEffect(()=>{b.reset({questions:g})},[g]),e.jsx(e.Fragment,{children:e.jsxs("div",{class:"d-flex w-100 gap-3 gap-md-0",children:[e.jsx("div",{class:"border-end scrollable-div",children:e.jsxs("div",{className:"sidebarquestions questioncol",children:[l&&(l==null?void 0:l.questions.map((Q,ne)=>e.jsxs("div",{className:"questionSidebarList align-items-center",children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:Q.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsx("p",{className:"mb-0",children:`Question ${ne+1}`})]}))),e.jsx("div",{className:"button_addNewquestion",children:e.jsxs("button",{className:"btn button_boost p-0",onClick:()=>L(),children:[e.jsx("i",{class:"fa-solid fa-plus"})," Add New"]})})]})}),e.jsx("div",{className:"w-100 scrollable-div p-4",children:e.jsx(qc,{...b,children:e.jsx("form",{children:g==null?void 0:g.map((Q,ne)=>{var ge,J;return console.log(Q,"questionquestion"),e.jsxs("div",{className:"questioncontent",children:[e.jsxs("div",{className:"titlequestions d-flex align-items-center justify-content-between",children:[e.jsx("div",{className:"questionTitle",children:e.jsxs("h4",{children:["Question ",ne+1]})}),e.jsxs("div",{className:"questionTitle d-flex align-items-center gap-2",children:[e.jsx("button",{type:"button",className:"button sm button-secondary px-3 border-0 font-sm",children:e.jsx("i",{class:"fa-solid fa-clone"})}),g.length>1&&e.jsx("button",{type:"button",className:"button sm button-secondary px-3 bg-danger text-white border-0 font-sm",onClick:()=>k(Q.id),children:e.jsx("i",{class:"fa-solid fa-trash"})})]})]}),e.jsxs("div",{className:"questionData",children:[e.jsxs("div",{class:"mb-3",children:[e.jsxs("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:["Question text ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("textarea",{class:"form-control theme-control",rows:"4",placeholder:"Enter your text",...y(`questions.${ne}.text`,{required:"Question text is required"}),defaultValue:Q.text,onChange:he=>{q(he.target.value,Q.id)}}),((J=(ge=oe.questions)==null?void 0:ge[ne])==null?void 0:J.text)&&e.jsx("p",{style:{color:"red"},className:"error",children:oe.questions[ne].text.message})]}),e.jsxs("div",{class:"mb-3 d-flex align-items-start gap-3",children:[e.jsxs("div",{className:"",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Question image"}),e.jsxs("div",{class:"d-flex align-items-start",children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:Q.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsx("button",{type:"button",class:"button button-primary border-0 me-2 font-sm",onClick:()=>s("question-image",h==null?void 0:h.id,Q.id),children:Q.image?"Change":"Upload"}),e.jsx("button",{type:"button",class:"button button-secondary px-3 border-0 font-sm",onClick:()=>le(Q.id),children:e.jsx("i",{class:"fa-solid fa-trash"})})]})]}),e.jsxs("div",{className:"w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Image disclaimer"}),e.jsx("input",{type:"text",class:"form-control theme-control",placeholder:"Image disclaimer",defaultValue:Q.imageDisclaimer,onChange:he=>Y(he.target.value,Q.id)}),e.jsxs("div",{className:"textImageOptions d-flex gap-1 mt-3",children:[console.log(g,"ddwdwdwdw"),e.jsxs("button",{type:"button",htmlFor:`question${ne}`,className:`button button-primary sm font-sm py-2 border-0 ${Q.isText===!0?"selected":"outline"}`,onClick:()=>V("text",Q.id),children:[e.jsx("i",{class:"fa-solid fa-bars"})," Text"]}),e.jsxs("button",{type:"button",className:`button button-primary sm font-sm py-2 border-0 ${Q.isText===!1?"selected":"outline"}`,onClick:()=>V("images",Q.id),children:[e.jsx("i",{class:"fa-regular fa-image"})," Images"]})]})]})]}),e.jsxs("div",{className:"answers_content",children:[g==null?void 0:g.map((he,Ie)=>{var Ge;return(Ge=he==null?void 0:he.answers)==null?void 0:Ge.map((xe,D)=>e.jsx("div",{className:"contentAnswer",children:e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex justify-content-between gap-2",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:["Answer ",D+1,e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs("div",{children:[e.jsx("input",{className:"form-check-input",type:"checkbox",checked:xe==null?void 0:xe.isCorrect,onChange:Z=>se(Z.target.checked,he.id,xe.id)}),e.jsx("label",{className:"form-check-label ms-2",children:"Correct answer"}),he.answers.length>0&&e.jsx("i",{typeof:"button",className:"fa-solid fa-trash",role:"button",onClick:()=>Pe(he.id,xe.id)})]})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[!(he!=null&&he.isText)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:xe.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image"})}),e.jsx("button",{type:"button",className:"button button-primary font-sm border-0 me-2",onClick:()=>s("answer-image",h==null?void 0:h.id,he.id,xe.id),children:xe.image?"Change":"Upload"})]}),e.jsx("input",{...y(`questions.${Ie}.answers.${D}.text`,{required:"Answer text is required"}),type:"text",className:"form-control theme-control me-2",placeholder:"Enter answer...",defaultValue:xe==null?void 0:xe.text,onChange:Z=>Se(Z.target.value,he.id,xe.id)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Description"}),e.jsx("textarea",{className:"form-control theme-control",rows:"2",placeholder:"Enter description",defaultValue:xe==null?void 0:xe.description,onChange:Z=>_e(Z.target.value,he.id,xe.id)})]})]})},xe.id))}),e.jsx("div",{children:e.jsxs("button",{type:"button",className:"btn button_boost",onClick:()=>G(Q.id),children:[e.jsx("i",{class:"fa-solid fa-plus"})," Add answer"]})})]})]})]})})})})})]})})}const mv=Ts().shape({results:Oc().of(Ts().shape({header:Rt().required("Header is required")}))});function Ur({setIsOpenFormModal:c,personalityquizquestion:m,finalResult:s,handleNext:x,setParentErros:w,setfinalResult:P,selecteScreen:p,setTriggerNext:h=()=>{},parenterror:l,questions:a,handleSaveQuestion:n,handleDeleteImageMatchUp:i,formRef:v,setErrorScreen:b=()=>{},formData:g,handleChangeImage:N,onRegisterSlideImageCallback:u,handleDeleteImageResultForm:_}){var Te,Oe,Q,ne,ge,J,he,Ie,Ge,xe,D,Z,R,ce,te,me,Lt,Pt,Qe,ft,xt,dt,_t,De,ut,Le,ot,B,rt,vt,Nt,$t,We,mt,fe,Ne,et,Be,Ft,Kt,Qt,Vt;const{templateDetails:j}=bt(He=>He.DrawerReducer);console.log(s,"finalResultfinalResultfinalResult");const C=wt(),z=nr({resolver:cr(mv),defaultValues:{questions:[{text:"",answers:[{text:"",description:""}]}]}}),[E,M]=d.useState(j||{}),{register:S,handleSubmit:F,formState:{errors:y}}=z,A=He=>{P(lt=>lt.filter(Ke=>Ke.id!==He))},U=He=>{const lt={...E,project_structure:{...E.project_structure,pages:E.project_structure.pages.map(Ke=>({...Ke,blocks:Ke.blocks.map(st=>{var it;return st.id===(g==null?void 0:g.id)?{...st,struct:{...st.struct,results:(it=st.struct.results)==null?void 0:it.filter(be=>be.id!==He)}}:st})}))}};M(lt)},ee=He=>{const Ke={...s.find(st=>st.id===He),id:oe()};P(st=>[...st,Ke])},oe=()=>Math.random().toString(36).substring(2,9),we=(He,lt)=>{console.log(He,"dasddaadda");const Ke=s.map(st=>st.id===lt?{...st,header:He}:st);P(Ke)},$=(He,lt)=>{console.log(He,"dasddaadda");const Ke={...E,project_structure:{...E.project_structure,pages:E.project_structure.pages.map(st=>({...st,blocks:st.blocks.map(it=>{var be;return it.id===(g==null?void 0:g.id)?{...it,struct:{...it.struct,results:(be=it.struct.results)==null?void 0:be.map(re=>re.id===lt?{...re,header:He}:re)}}:it})}))}};M(Ke)},L=(He,lt)=>{const Ke={...E,project_structure:{...E.project_structure,pages:E.project_structure.pages.map(st=>({...st,blocks:st.blocks.map(it=>{var be;return it.id===(g==null?void 0:g.id)?{...it,struct:{...it.struct,results:(be=it.struct.results)==null?void 0:be.map(re=>re.id===lt?{...re,description:He}:re)}}:it})}))}};console.log(Ke,"updatedDataupdatedData"),M(Ke)},k=(He,lt)=>{const Ke={...E,project_structure:{...E.project_structure,pages:E.project_structure.pages.map(st=>({...st,blocks:st.blocks.map(it=>{var be;return it.id===(g==null?void 0:g.id)?{...it,struct:{...it.struct,results:(be=it.struct.results)==null?void 0:be.map(re=>re.id===lt?{...re,imageDisclaimer:He}:re)}}:it})}))}};M(Ke)},q=(He,lt)=>{const Ke={...E,project_structure:{...E.project_structure,pages:E.project_structure.pages.map(st=>({...st,blocks:st.blocks.map(it=>{var be;return it.id===(g==null?void 0:g.id)?{...it,struct:{...it.struct,results:(be=it.struct.results)==null?void 0:be.map(re=>re.id===lt?{...re,buttonText:He}:re)}}:it})}))}};M(Ke)},V=(He,lt)=>{const Ke={...E,project_structure:{...E.project_structure,pages:E.project_structure.pages.map(st=>({...st,blocks:st.blocks.map(it=>{var be;return it.id===(g==null?void 0:g.id)?{...it,struct:{...it.struct,results:(be=it.struct.results)==null?void 0:be.map(re=>re.id===lt?{...re,buttonLink:He}:re)}}:it})}))}};M(Ke)},Y=He=>{const lt={...E,project_structure:{...E.project_structure,pages:E.project_structure.pages.map(Ke=>({...Ke,blocks:Ke.blocks.map(st=>{var it;return st.id===(g==null?void 0:g.id)?{...st,struct:{...st.struct,results:(it=st.struct.results)==null?void 0:it.map(be=>be.id===He?{...be,image:""}:be)}}:st})}))}};M(lt)},se=He=>{const lt=He;P(Ke=>({...Ke,description:lt})),console.log(lt,"checkposition")},Pe=He=>{const lt=He;console.log(He,"checkposition"),P(Ke=>({...Ke,headerText:lt})),w(Ke=>({...Ke,finalResultHeader:!1}))},Se=He=>{const lt=He;console.log(He,"checkposition"),P(Ke=>({...Ke,header:lt})),w(Ke=>({...Ke,finalResultHeader:!1}))},_e=He=>{const lt=He;P(Ke=>({...Ke,description:lt}))},G=He=>{const lt=He;console.log(lt,"asaa"),P(Ke=>({...Ke,header:lt})),w(Ke=>({...Ke,finalResultHeader:!1})),console.log(lt,"checkposition")},le=He=>{const lt=He;P(Ke=>({...Ke,descriptionText:lt}))},ae=()=>{const He={id:oe(),image:"",header:"Header text",buttonLink:"",buttonText:"",description:"Description"};P(lt=>[...lt,He])};console.log(g,"finalResult.imageSrc");const ye=He=>{const lt={...j,project_structure:{...j.project_structure,pages:j.project_structure.pages.map(Ke=>({...Ke,blocks:Ke.blocks.map(st=>st.id===He?{...st,struct:{...st.struct,final:{...st.struct.final,imageSrc:""}}}:st)}))}};C(T(lt))};return console.log(E,"updatedtemplateupdatedtemplate"),console.log(g,"checkformdataheerere"),d.useEffect(()=>{v!=null&&v.current&&(v.current={submitFormQuizResult:F(He=>{console.log(E,"123123123123"),C(T(E)),c(!1)}),hasErrors:()=>Object.keys(y).length>0})},[v,F,y,E]),d.useEffect(()=>{Object.keys(y).length>0?(b(!0),h(!0)):(b(!1),h(!1))},[y]),d.useEffect(()=>{z.reset(E)},[E,z]),d.useEffect(()=>{z.trigger("results")},[z]),d.useEffect(()=>{z.reset(E)},[E]),console.log(g==null?void 0:g.struct,"checkformdatatatata"),e.jsxs(e.Fragment,{children:[g.block==="quiz"&&e.jsxs("div",{class:"d-flex w-100 gap-3 gap-md-0",children:[e.jsx("div",{class:"border-end scrollable-div result-list",children:e.jsx("div",{className:"sidebarquestions",children:(Oe=(Te=g==null?void 0:g.struct)==null?void 0:Te.results)==null?void 0:Oe.map((He,lt)=>e.jsxs("div",{className:"questionSidebarList align-items-center",children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:He.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsxs("p",{className:"mb-0",children:["Result ",lt+1]})]}))})}),e.jsx("div",{className:"w-100 scrollable-div",children:e.jsx(qc,{...z,children:e.jsx("form",{children:(ne=(Q=g==null?void 0:g.struct)==null?void 0:Q.results)==null?void 0:ne.map((He,lt)=>{var it,be,re,Ee,pe,Re;const Ke=(be=(it=g==null?void 0:g.struct)==null?void 0:it.questions)==null?void 0:be.length,st=lt<Ke+1?lt:Ke;return e.jsxs("div",{className:"resultsscreen p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("h5",{className:"fw-bold",children:["Result ",lt+1,e.jsxs("span",{className:"text-muted",children:["(",st," correct answer",st>1?"s":"",")"]})]}),e.jsxs("div",{className:"questionTitle d-flex align-items-center gap-2",children:[e.jsx("button",{className:"button sm button-secondary px-3 border-0 font-sm",children:e.jsx("i",{className:"fa-solid fa-clone"})}),((Ee=(re=g==null?void 0:g.struct)==null?void 0:re.results)==null?void 0:Ee.length)>1&&e.jsx("button",{type:"button",className:"button sm button-secondary bg-danger text-white px-3 border-0 font-sm",onClick:()=>U(He.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:["Header",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",...S(`results[${lt}].header`,{required:"Header is required",validate:St=>St.trim()!==""||"Header cannot be empty"}),className:"form-control theme-control",defaultValue:He.header,onChange:St=>$(St.target.value,He.id)}),((Re=(pe=y.results)==null?void 0:pe[lt])==null?void 0:Re.header)&&e.jsx("p",{className:"text-danger font-sm mt-1",children:y.results[lt].header.message})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Description"}),e.jsx("textarea",{className:"form-control theme-control",rows:"3",defaultValue:He.description,onChange:St=>L(St.target.value,He.id)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Result image"}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:He.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsx("button",{className:"button button-primary font-sm border-0 me-2",onClick:()=>N("result-image",g==null?void 0:g.id,He.id),children:"Upload"}),e.jsx("button",{className:"button button-secondary border-0 px-3",onClick:()=>Y(He.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Image disclaimer (optional)"}),e.jsx("input",{type:"text",className:"form-control theme-control",defaultValue:He.imageDisclaimer,onChange:St=>k(St.target.value,He.id)})]}),e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Button text"}),e.jsx("input",{type:"text",className:"form-control theme-control",defaultValue:He.buttonText,onChange:St=>q(St.target.value,He.id)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Link"}),e.jsx("input",{type:"text",className:"form-control theme-control",placeholder:"Internal page",defaultValue:He.buttonLink,onChange:St=>V(St.target.value,He.id)})]})]})]},He.id)})})})})]}),g.block==="personality-quiz"&&e.jsxs("div",{class:"d-flex w-100 gap-3 gap-md-0",children:[e.jsx("div",{class:"border-end scrollable-div result-list",children:e.jsxs("div",{className:"sidebarquestions",children:[s==null?void 0:s.map((He,lt)=>e.jsxs("div",{className:"questionSidebarList align-items-center",children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:He.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"questionimage",className:""})}),e.jsxs("p",{className:"mb-0",children:["Result ",lt+1]})]})),e.jsx("div",{className:"button_addNewquestion pb-3",children:e.jsxs("button",{className:"btn button_boost p-0",onClick:()=>ae(),children:[e.jsx("i",{class:"fa-solid fa-plus"})," Add New"]})})]})}),e.jsx("div",{className:"w-100 scrollable-div",children:s==null?void 0:s.map((He,lt)=>{var it,be;const Ke=m==null?void 0:m.length,st=lt<Ke+1?lt:Ke;return e.jsxs("div",{className:"resultsscreen p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("h5",{className:"fw-bold",children:["Result ",lt+1,e.jsxs("span",{className:"text-muted",children:["(",st," correct answer",st>1?"s":"",")"]})]}),e.jsxs("div",{className:"questionTitle d-flex align-items-center gap-2",children:[e.jsx("button",{onClick:()=>ee(He.id),className:"button sm button-secondary px-3 border-0 font-sm",children:e.jsx("i",{className:"fa-solid fa-clone"})}),(s==null?void 0:s.length)>1&&e.jsx("button",{type:"button",className:"button sm button-secondary bg-danger text-white px-3 border-0 font-sm",onClick:()=>A(He.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:["Header",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",...S(`results[${lt}].header`,{required:"Header is required",validate:re=>re.trim()!==""||"Header cannot be empty"}),className:"form-control theme-control",value:He.header,onChange:re=>we(re.target.value,He.id)}),((be=(it=l.results)==null?void 0:it[lt])==null?void 0:be.header)&&e.jsx("p",{className:"text-danger font-sm mt-1",children:l.results[lt].header}),console.log(l.results,"pioioi")]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Description"}),e.jsx("textarea",{className:"form-control theme-control",rows:"3",defaultValue:He.description,onChange:re=>L(re.target.value,He.id)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Result image"}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:He.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsx("button",{className:"button button-primary font-sm border-0 me-2",onClick:()=>N("result-image",g==null?void 0:g.id,He.id),children:"Upload"}),e.jsx("button",{className:"button button-secondary border-0 px-3",onClick:()=>Y(He.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Image disclaimer (optional)"}),e.jsx("input",{type:"text",className:"form-control theme-control",defaultValue:He.imageDisclaimer,onChange:re=>k(re.target.value,He.id)})]}),e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Button text"}),e.jsx("input",{type:"text",className:"form-control theme-control",defaultValue:He.buttonText,onChange:re=>q(re.target.value,He.id)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Link"}),e.jsx("input",{type:"text",className:"form-control theme-control",placeholder:"Internal page",defaultValue:He.buttonLink,onChange:re=>V(re.target.value,He.id)})]})]})]},He.id)})})]}),g.block==="treasure-hunt"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{class:"form-left scrollable-div",children:[e.jsx("h4",{className:"mb-4",children:"final screen"}),e.jsxs("div",{class:"mb-3",children:[e.jsxs("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:["Header ",e.jsx("span",{class:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control theme-control ${l.finalResultHeader?"is-invalid":""}`,id:"headerInput",placeholder:"Congrats message",value:s==null?void 0:s.header,onChange:He=>Se(He.target.value)}),l.finalResultHeader&&e.jsx("div",{className:"invalid-feedback",children:"Header is required."})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Description"}),e.jsx("textarea",{class:"form-control theme-control",id:"descriptionInput",rows:"3",placeholder:"Description",defaultValue:s==null?void 0:s.description,onChange:He=>_e(He.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Image"}),e.jsxs("div",{class:"d-flex align-items-center gap-2",children:[((J=(ge=g==null?void 0:g.struct)==null?void 0:ge.finalScreen)==null?void 0:J.imageSrc)&&e.jsx("div",{children:e.jsx("img",{src:(Ie=(he=g==null?void 0:g.struct)==null?void 0:he.finalScreen)==null?void 0:Ie.imageSrc,alt:"question-image",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}})}),e.jsx("button",{className:"button button-primary border-0",onClick:()=>N("result-image-treasure",g==null?void 0:g.id),children:"Change"})]})]})]}),console.log(s,"finalResultfinalResult"),e.jsxs("div",{class:"form-right scrollable-div border-start py-4",children:[e.jsx("h6",{children:"Approximate preview"}),e.jsxs("div",{class:"preview-box text-center",children:[((xe=(Ge=g==null?void 0:g.struct)==null?void 0:Ge.finalScreen)==null?void 0:xe.imageSrc)&&e.jsx("img",{id:"previewImage",src:(Z=(D=g==null?void 0:g.struct)==null?void 0:D.finalScreen)==null?void 0:Z.imageSrc,alt:"Preview",style:{height:192,width:"100%",objectFit:"cover"},className:"w-100"}),e.jsxs("div",{className:"p-3 bg-white",children:[e.jsx("p",{class:"preview-text mb-2 fw-medium",id:"previewHeader",children:s==null?void 0:s.header}),e.jsx("p",{id:"previewDescription",className:"mb-0",children:s==null?void 0:s.description})]})]})]})]}),console.log(g.block,"formData.block"),g.block==="form"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{class:"form-left scrollable-div",children:[e.jsx("h4",{className:"mb-4",children:"Thank  you"}),e.jsxs("div",{class:"mb-3",children:[e.jsxs("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:["Header ",e.jsx("span",{class:"text-danger",children:"*"})]}),console.log(s==null?void 0:s.headerText,"finalResult?.headerText"),e.jsx("input",{type:"text",className:`form-control theme-control ${l.finalResultHeader?"is-invalid":""}`,id:"headerInput",placeholder:"Congrats message",value:s==null?void 0:s.headerText,onChange:He=>Pe(He.target.value)}),l.finalResultHeader&&e.jsx("div",{className:"invalid-feedback",children:"Header is required."})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Description"}),e.jsx("textarea",{class:"form-control theme-control",id:"descriptionInput",rows:"3",placeholder:"Description",defaultValue:s.descriptionText,onChange:He=>le(He.target.value)})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Image"}),e.jsxs("div",{className:"d-flex align items-center gap-2",children:[s.imageSrc&&e.jsx("img",{src:s==null?void 0:s.imageSrc,alt:"question-image",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary px-3 border-0",onClick:()=>N("result-image-form",g==null?void 0:g.id),children:"Change"}),e.jsx("button",{className:"button button-secondary sm px-3 border-0 text-muted",onClick:()=>ye(g==null?void 0:g.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})]}),e.jsxs("div",{class:"form-right scrollable-div border-start p-4",children:[e.jsx("h6",{children:"Approximate preview"}),console.log((ce=(R=g==null?void 0:g.struct)==null?void 0:R.final)==null?void 0:ce.imageSrc,"asasasasa"),e.jsxs("div",{class:"preview-box text-center",children:[((me=(te=g==null?void 0:g.struct)==null?void 0:te.final)==null?void 0:me.imageSrc)&&e.jsx("img",{id:"previewImage",src:(Pt=(Lt=g==null?void 0:g.struct)==null?void 0:Lt.final)==null?void 0:Pt.imageSrc,alt:"Preview",className:"w-100"}),e.jsxs("div",{className:"p-3 bg-white",children:[e.jsx("p",{class:"preview-text mb-2 fw-medium",id:"previewHeader",children:s==null?void 0:s.headerText}),e.jsx("p",{className:"previewDescription mb-0 text-break",children:s==null?void 0:s.descriptionText})]})]})]})]}),g.block==="puzzle"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{class:"form-left scrollable-div",children:[e.jsx("h4",{className:"mb-4",children:"Final screen"}),e.jsxs("div",{class:"mb-3",children:[e.jsxs("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:["Header ",e.jsx("span",{class:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",value:s.header||"",onChange:He=>G(He.target.value),className:`form-control theme-control ${l.finalResultHeader?"is-invalid":""}`,placeholder:"Congrats message"}),l.finalResultHeader&&e.jsx("div",{className:"invalid-feedback",children:"Header is required."})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Description"}),console.log(s,"finalResult.description"),e.jsx("textarea",{class:"form-control theme-control",id:"descriptionInput",rows:"3",placeholder:"Description",value:s.description||"",onChange:He=>se(He.target.value)})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Image"}),e.jsxs("div",{className:"d-flex align items-center gap-2",children:[e.jsx("img",{src:((ft=(Qe=g==null?void 0:g.struct)==null?void 0:Qe.finalScreen)==null?void 0:ft.imageSrc)||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary px-3 border-0",onClick:()=>N("puzzle",g==null?void 0:g.id),children:"Change"}),e.jsx("button",{className:"button button-secondary sm px-3 border-0 text-muted",onClick:()=>i(g==null?void 0:g.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})]}),e.jsxs("div",{class:"form-right scrollable-div border-start p-4",children:[e.jsx("h6",{children:"Approximate preview"}),console.log(g,"pipiipipipi"),e.jsxs("div",{class:"preview-box text-center",children:[e.jsx("img",{id:"previewImage",src:((dt=(xt=g==null?void 0:g.struct)==null?void 0:xt.finalScreen)==null?void 0:dt.imageSrc)||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"Preview",className:"w-100"}),e.jsxs("div",{className:"p-3 bg-white",children:[e.jsx("p",{class:"preview-text mb-2 fw-medium",id:"previewHeader",children:s.header}),e.jsx("p",{className:"previewDescription mb-0 text-break",children:s.description})]})]})]})]}),g.block==="sliding-puzzle"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{class:"form-left scrollable-div",children:[e.jsx("h4",{className:"mb-4",children:"Final screen"}),e.jsxs("div",{class:"mb-3",children:[e.jsxs("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:["Header ",e.jsx("span",{class:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",value:s.header||"",onChange:He=>G(He.target.value),className:`form-control theme-control ${l.finalResultHeader?"is-invalid":""}`,placeholder:"Congrats message"}),l.finalResultHeader&&e.jsx("div",{className:"invalid-feedback",children:"Header is required."})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Description"}),console.log(s,"finalResult.description"),e.jsx("textarea",{class:"form-control theme-control",id:"descriptionInput",rows:"3",placeholder:"Description",value:s.description||"",onChange:He=>se(He.target.value)})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Image"}),e.jsxs("div",{className:"d-flex align items-center gap-2",children:[e.jsx("img",{src:((De=(_t=g==null?void 0:g.struct)==null?void 0:_t.finalScreen)==null?void 0:De.imageSrc)||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary px-3 border-0",onClick:()=>N("puzzle-result-image",g==null?void 0:g.id),children:"Change"}),e.jsx("button",{className:"button button-secondary sm px-3 border-0 text-muted",onClick:()=>_(g==null?void 0:g.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})]}),e.jsxs("div",{class:"form-right scrollable-div border-start p-4",children:[e.jsx("h6",{children:"Approximate preview"}),e.jsxs("div",{class:"preview-box text-center",children:[e.jsx("img",{id:"previewImage",src:((Le=(ut=g==null?void 0:g.struct)==null?void 0:ut.finalScreen)==null?void 0:Le.imageSrc)||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"Preview",className:"w-100"}),e.jsxs("div",{className:"p-3 bg-white",children:[e.jsx("p",{class:"preview-text mb-2 fw-medium",id:"previewHeader",children:s.header}),e.jsx("p",{className:"previewDescription mb-0 text-break",children:s.description})]})]})]})]}),g.block==="memory"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{class:"form-left scrollable-div",children:[e.jsx("h4",{className:"mb-4",children:"Final screen"}),e.jsxs("div",{class:"mb-3",children:[e.jsxs("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:["Header ",e.jsx("span",{class:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",value:s.header||"",onChange:He=>G(He.target.value),className:`form-control theme-control ${l.finalResultHeader?"is-invalid":""}`,placeholder:"Congrats message"}),l.finalResultHeader&&e.jsx("div",{className:"invalid-feedback",children:"Header is required."})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Description"}),console.log(s,"finalResult.description"),e.jsx("textarea",{class:"form-control theme-control",id:"descriptionInput",rows:"3",placeholder:"Description",value:s.description||"",onChange:He=>se(He.target.value)})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Image"}),e.jsxs("div",{className:"d-flex align items-center gap-2",children:[e.jsx("img",{src:((B=(ot=g==null?void 0:g.struct)==null?void 0:ot.finalScreen)==null?void 0:B.imageSrc)||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary px-3 border-0",onClick:()=>N("puzzle-result-image",g==null?void 0:g.id),children:"Change"}),e.jsx("button",{className:"button button-secondary sm px-3 border-0 text-muted",onClick:()=>_(g==null?void 0:g.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})]}),e.jsxs("div",{class:"form-right scrollable-div border-start p-4",children:[e.jsx("h6",{children:"Approximate preview"}),e.jsxs("div",{class:"preview-box text-center",children:[e.jsx("img",{id:"previewImage",src:((vt=(rt=g==null?void 0:g.struct)==null?void 0:rt.finalScreen)==null?void 0:vt.imageSrc)||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"Preview",className:"w-100"}),e.jsxs("div",{className:"p-3 bg-white",children:[e.jsx("p",{class:"preview-text mb-2 fw-medium",id:"previewHeader",children:s==null?void 0:s.header}),e.jsx("p",{className:"previewDescription mb-0 text-break",children:s==null?void 0:s.description})]})]})]})]}),g.block==="find-pair"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{class:"form-left scrollable-div",children:[e.jsx("h4",{className:"mb-4",children:"Final screen"}),e.jsxs("div",{class:"mb-3",children:[e.jsxs("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:["Header ",e.jsx("span",{class:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",class:"form-control theme-control",id:"headerInput",placeholder:"Congrats message",defaultValue:($t=(Nt=g==null?void 0:g.struct)==null?void 0:Nt.finalScreen)==null?void 0:$t.header,onChange:He=>G(He.target.value)})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Description"}),e.jsx("textarea",{class:"form-control theme-control",id:"descriptionInput",rows:"3",placeholder:"Description",defaultValue:(mt=(We=g==null?void 0:g.struct)==null?void 0:We.finalScreen)==null?void 0:mt.description,onChange:He=>se(He.target.value)})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Image"}),e.jsxs("div",{className:"d-flex align items-center gap-2",children:[e.jsx("img",{src:((Ne=(fe=g==null?void 0:g.struct)==null?void 0:fe.finalScreen)==null?void 0:Ne.imageSrc)||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary px-3 border-0",onClick:()=>N("puzzle-result-image",g==null?void 0:g.id),children:"Change"}),e.jsx("button",{className:"button button-secondary sm px-3 border-0 text-muted",onClick:()=>_(g==null?void 0:g.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})]}),e.jsxs("div",{class:"form-right scrollable-div border-start p-4",children:[e.jsx("h6",{children:"Approximate preview"}),e.jsxs("div",{class:"preview-box text-center",children:[e.jsx("img",{id:"previewImage",src:((Be=(et=g==null?void 0:g.struct)==null?void 0:et.finalScreen)==null?void 0:Be.imageSrc)||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"Preview",className:"w-100"}),e.jsxs("div",{className:"p-3 bg-white",children:[e.jsx("p",{class:"preview-text mb-2 fw-medium",id:"previewHeader",children:(Kt=(Ft=g==null?void 0:g.struct)==null?void 0:Ft.finalScreen)==null?void 0:Kt.header}),e.jsx("p",{className:"previewDescription mb-0 text-break",children:(Vt=(Qt=g==null?void 0:g.struct)==null?void 0:Qt.finalScreen)==null?void 0:Vt.description})]})]})]})]}),g.block==="match-up"&&e.jsxs(e.Fragment,{children:[console.log(s,"finalResultfinalResult"),e.jsxs("div",{class:"form-left scrollable-div",children:[e.jsx("h4",{className:"mb-4",children:"Final screen"}),e.jsxs("div",{class:"mb-3",children:[e.jsxs("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:["Header ",e.jsx("span",{class:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",value:(s==null?void 0:s.header)||"",onChange:He=>G(He.target.value),className:`form-control theme-control ${l.finalResultHeader?"is-invalid":""}`,placeholder:"Congrats message"}),l.finalResultHeader&&e.jsx("div",{className:"invalid-feedback",children:"Header is required."})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Description"}),e.jsx("textarea",{class:"form-control theme-control",id:"descriptionInput",rows:"3",placeholder:"Description",defaultValue:s==null?void 0:s.description,onChange:He=>se(He.target.value)})]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Image"}),e.jsxs("div",{className:"d-flex align items-center gap-2",children:[e.jsx("img",{src:(s==null?void 0:s.imageSrc)||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),console.log(g,"formDataformData"),e.jsx("button",{className:"button button-primary px-3 border-0",onClick:()=>N("match-up-image",g==null?void 0:g.id),children:"Change"}),e.jsx("button",{className:"button button-secondary sm px-3 border-0 text-muted",onClick:()=>_(g==null?void 0:g.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]})]}),e.jsxs("div",{class:"form-right scrollable-div border-start p-4",children:[e.jsx("h6",{children:"Approximate preview"}),e.jsxs("div",{class:"preview-box text-center",children:[e.jsx("img",{id:"previewImage",src:s.imageSrc||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"Preview",className:"w-100"}),e.jsxs("div",{className:"p-3 bg-white",children:[e.jsx("p",{class:"preview-text mb-2 fw-medium",id:"previewHeader",children:s==null?void 0:s.header}),e.jsx("p",{className:"previewDescription mb-0 text-break",children:s==null?void 0:s.description})]})]})]})]})]})}const pv=Ts().shape({isShowCover:rr(),header:Rt().required("Header is required").min(1,"Header must be at least 3 characters long").max(400,"Header must be at most 100 characters long"),description:Rt().max(500,"Description must be at most 500 characters long"),buttonText:Rt().max(20,"Text must be at most 20 characters long"),imageDisclaimer:Rt()});function hv({selecteScreen:c,setSelectScreen:m,formData:s,handleChangeLogo:x,setIsOpenFormModal:w,isEditMediaTypeDetails:P,updateParentState:p}){var oe,we,$,L,k,q,V,Y,se,Pe,Se,_e,G,le,ae,ye,Te,Oe,Q,ne,ge,J,he,Ie,Ge,xe,D,Z,R,ce,te,me,Lt,Pt,Qe,ft,xt,dt,_t,De,ut;console.log(s,"formDataformData");const h=wt(),{templateDetails:l}=bt(Le=>Le.DrawerReducer);console.log(l,"templateDetailstemplateDetails"),console.log(l,"templateDetails");const[a,n]=d.useState(!1),[i,v]=d.useState(l||{}),[b,g]=d.useState(!1);console.log(i,"templateDatatemplateData");const N=nr({resolver:cr(pv),defaultValues:{isShowCover:((oe=s==null?void 0:s.struct.cover)==null?void 0:oe.isShowCover)??!1,header:(s==null?void 0:s.struct.cover.header)??"",description:(s==null?void 0:s.struct.cover.description)??"",buttonText:(s==null?void 0:s.struct.cover.buttonText)??"",imageDisclaimer:(s==null?void 0:s.struct.cover.imageDisclaimer)??""}});console.log((we=s==null?void 0:s.struct.cover)==null?void 0:we.isShowCover,"kjjjk");const{register:u,handleSubmit:_,formState:{errors:j}}=N,C=Le=>{console.log(Le,"dsdsds");const ot={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(B=>({...B,blocks:B.blocks.map(rt=>rt.id===(s==null?void 0:s.id)?{...rt,struct:{...rt.struct,cover:{...rt.struct.cover,header:Le}}}:rt)}))}};v(ot)};console.log((k=(L=($=i==null?void 0:i.project_structure)==null?void 0:$.pages[0].blocks[0].struct)==null?void 0:L.cover)==null?void 0:k.header,"4242424242"),console.log(j,"wdojwojdo");const z=Le=>{const ot={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(B=>({...B,blocks:B.blocks.map(rt=>rt.id===(s==null?void 0:s.id)?{...rt,struct:{...rt.struct,cover:{...rt.struct.cover,description:Le}}}:rt)}))}};v(ot)},E=Le=>{const ot={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(B=>({...B,blocks:B.blocks.map(rt=>rt.id===(s==null?void 0:s.id)?{...rt,struct:{...rt.struct,cover:{...rt.struct.cover,buttonText:Le}}}:rt)}))}};v(ot)},M=Le=>{const ot={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(B=>({...B,blocks:B.blocks.map(rt=>rt.id===(s==null?void 0:s.id)?{...rt,struct:{...rt.struct,cover:{...rt.struct.cover,imageDisclaimer:Le}}}:rt)}))}};v(ot)};console.log(i,"templateDatatemplateDatatemplateDatasd");const S=Le=>{console.log(Le,"iooioii");const ot={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(B=>({...B,blocks:B.blocks.map(rt=>rt.id===(s==null?void 0:s.id)?{...rt,struct:{...rt.struct,cover:{...rt.struct.cover,isShowCover:Le}}}:rt)}))}};v(ot)},F=d.useRef(),y=()=>{console.log("TRIGGERED"),F.current?(console.log("dkojwodjwdojw"),console.log("formRef:",F.current),typeof F.current.submitForm=="function"?(alert("submit"),F.current.submitForm()):console.log("submitForm is not a function"),typeof F.current.submitmainScreen=="function"?(console.log("4564567546"),F.current.submitmainScreen()):console.log("submitForm is not a function"),typeof F.current.submitFormQuizResult=="function"?(console.log("32332"),F.current.submitFormQuizResult()):console.log("submitFormQuizResult is not a function")):console.log("formRef.current is null or undefined")},[A,U]=d.useState(!1);console.log(A,"ioiooiio");const ee=async()=>{var ot;console.log(Object.keys(j).length>0,"CALLEDDDD"),await N.trigger();let Le=await((ot=F.current)==null?void 0:ot.hasErrors());console.log(Le,"223323232"),c=="questions"&&F.current?(console.log("REACHEDDD"),Le=await F.current.hasErrors(),console.log(Le,"jkjkjkjkjj")):c=="results"&&F.current&&(Le=await F.current.hasErrors(),console.log("inRESULTTT")),Le?(console.log("Form has errors",j),n(!0),U(!0)):(n(!1),U(!1),c=="start-screen"?m("questions"):c=="questions"&&(console.log("jsajasdjhjdh"),m("results"))),console.log("Proceed to next step")};return console.log(s,"qspiqpsiqpsqp8989"),console.log(i,"ioioiooioi"),d.useEffect(()=>{F&&(F.current={submitmainScreen:_(Le=>{console.log(Le,"axaxax");const ot={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(B=>({...B,blocks:B.blocks.map(rt=>{var vt,Nt;return rt.id===(s==null?void 0:s.id)?{...rt,struct:{...rt.struct,cover:{...rt.struct.cover,image:(Nt=(vt=s==null?void 0:s.struct)==null?void 0:vt.cover)==null?void 0:Nt.image}}}:rt})}))}};console.log("ioweur903r793027r9329",ot),console.log(i,"ssssasasasas",s),h(T(ot)),w(!1)}),hasErrors:()=>Object.keys(j).length>0})},[F,_,j,i,s]),d.useEffect(()=>{c==="start-screen"&&Object.keys(j).length>0?(n(!0),U(!0)):(n(!1),U(!1))},[j,c]),console.log(c,"selecteScreenselecteScreen"),d.useEffect(()=>{var Le,ot,B,rt,vt;i!=null&&i.project_structure&&N.reset({isShowCover:((Le=s==null?void 0:s.struct.cover)==null?void 0:Le.isShowCover)||!1,header:((ot=s==null?void 0:s.struct.cover)==null?void 0:ot.header)||"",description:((B=s==null?void 0:s.struct.cover)==null?void 0:B.description)||"",buttonText:((rt=s==null?void 0:s.struct.cover)==null?void 0:rt.buttonText)||"",imageDisclaimer:((vt=s==null?void 0:s.struct.cover)==null?void 0:vt.imageDisclaimer)||""})},[N]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{className:"form-start",children:e.jsxs("div",{className:"optionsEditScreen",children:[e.jsxs("div",{className:`options-settings ${c==="start-screen"?"activeTab":""}`,role:"button",onClick:()=>{var Le;(Le=F.current)!=null&&Le.hasErrors()?(n(!0),U(!0)):m("start-screen")},children:[e.jsx("i",{class:"fa-solid fa-desktop"}),e.jsx("p",{children:"Start Screen"})]}),e.jsxs("div",{className:`options-settings ${c==="questions"?"activeTab":""}`,role:"button",onClick:()=>{var Le;(Le=F.current)!=null&&Le.hasErrors()?(n(!0),U(!0)):m("questions")},children:[e.jsx("i",{class:"fa-solid fa-circle-question"}),e.jsx("p",{children:"Questions"})]}),e.jsxs("div",{className:`options-settings ${c==="results"?"activeTab":""}`,role:"button",onClick:()=>{var Le;(Le=F.current)!=null&&Le.hasErrors()?(n(!0),U(!0)):m("results")},children:[e.jsx("i",{class:"fa-solid fa-square-poll-horizontal"}),e.jsx("p",{children:"Results"})]})]})}),c==="start-screen"&&e.jsxs(e.Fragment,{children:[e.jsx(qc,{...N,children:e.jsx("div",{className:"form-left",children:e.jsxs("div",{className:"fields-output",children:[e.jsxs("label",{class:"toggle-container d-flex align-items-center mb-4",children:["Start screen",e.jsxs("label",{class:"toggle-switch",children:[e.jsx("input",{...u("isShowCover"),type:"checkbox",defaultChecked:(V=(q=s==null?void 0:s.struct)==null?void 0:q.cover)==null?void 0:V.isShowCover,onChange:Le=>S(Le.target.checked)}),e.jsx("span",{class:"slider"})]})]}),e.jsx("div",{className:`formFieldsList ${(se=(Y=s==null?void 0:s.struct)==null?void 0:Y.cover)!=null&&se.isShowCover?"showCover":"hideCover"}`,children:e.jsx("div",{className:"additionalInfo",children:e.jsxs("div",{className:"fields_info",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:["Header ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{...u("header",{required:"Header is required",minLength:1,maxLength:2}),className:" form-control theme-control",type:"text",defaultValue:(_e=(Se=(Pe=i==null?void 0:i.project_structure)==null?void 0:Pe.pages[0].blocks[0].struct)==null?void 0:Se.cover)==null?void 0:_e.header,onChange:Le=>C(Le.target.value)}),j.header&&e.jsx("p",{style:{color:"red"},className:"error",children:j.header.message})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Description"}),e.jsx("textarea",{...u("description",{maxLength:500}),className:"form-control theme-control",defaultValue:(le=(G=s==null?void 0:s.struct)==null?void 0:G.cover)==null?void 0:le.description,onChange:Le=>z(Le.target.value)}),j.description&&e.jsx("p",{style:{color:"red"},className:"error",children:j.description.message})]}),e.jsxs("div",{className:"d-flex w-100 gap-3 mb-3",role:"button",children:[e.jsxs("div",{children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Cover"}),e.jsxs("div",{className:"coverchangeImage",children:[e.jsx("img",{src:(ye=(ae=s==null?void 0:s.struct)==null?void 0:ae.cover)==null?void 0:ye.image,alt:"cover"}),e.jsx("button",{className:"button button-primary border-0 font-sm",onClick:()=>x("quiz-cover",s==null?void 0:s.id),children:"Change"})]})]}),e.jsxs("div",{className:"w-100",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:["Button text",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{...u("buttonText"),className:"form-control theme-control",defaultValue:(Oe=(Te=s==null?void 0:s.struct)==null?void 0:Te.cover)==null?void 0:Oe.buttonText,onChange:Le=>E(Le.target.value)}),j.buttonText&&e.jsx("p",{style:{color:"red"},className:"error",children:j.buttonText.message})]})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Image disclaimer"}),e.jsx("input",{...u("imageDisclaimer"),className:"form-control theme-control",defaultValue:(ne=(Q=s==null?void 0:s.struct)==null?void 0:Q.cover)==null?void 0:ne.imageDisclaimer,onChange:Le=>M(Le.target.value)})]})]})})})]})})}),e.jsxs("div",{className:"form-right border-start py-4",children:[console.log((J=(ge=s==null?void 0:s.struct)==null?void 0:ge.cover)==null?void 0:J.image,"piooioio"),e.jsx("h5",{children:"Approximate preview"}),e.jsxs("div",{className:`formPreview cover_modal ${(Ie=(he=s==null?void 0:s.struct)==null?void 0:he.cover)!=null&&Ie.isShowCover?"showCover":"hideCover"}`,children:[((xe=(Ge=s==null?void 0:s.struct)==null?void 0:Ge.cover)==null?void 0:xe.image)&&e.jsx("img",{src:(Z=(D=s==null?void 0:s.struct)==null?void 0:D.cover)==null?void 0:Z.image,alt:"logo",className:"coverImage"}),((ce=(R=s==null?void 0:s.struct)==null?void 0:R.cover)==null?void 0:ce.header)&&e.jsx("h4",{className:"text-center pt-2",children:(me=(te=s==null?void 0:s.struct)==null?void 0:te.cover)==null?void 0:me.header}),((Pt=(Lt=s==null?void 0:s.struct)==null?void 0:Lt.cover)==null?void 0:Pt.description)&&e.jsx("p",{className:"text-center",children:(ft=(Qe=s==null?void 0:s.struct)==null?void 0:Qe.cover)==null?void 0:ft.description}),e.jsx("div",{className:"submitpreview",children:((dt=(xt=s==null?void 0:s.struct)==null?void 0:xt.cover)==null?void 0:dt.buttonText)&&e.jsx("div",{className:"text-center m-2",children:e.jsx("button",{className:"btn py-2",style:{backgroundColor:`${(_t=s==null?void 0:s.struct)==null?void 0:_t.colorTheme}`,color:"#fff"},children:((ut=(De=s==null?void 0:s.struct)==null?void 0:De.cover)==null?void 0:ut.buttonText)||"Start"})})})]})]})]}),c==="questions"&&e.jsx(uv,{isEditMediaTypeDetails:P,updateParentState:p,setIsOpenFormModal:w,selecteScreen:c,setTriggerNext:U,setErrorScreen:n,formRef:F,handleSaveQuestion:y,formData:s,questions:s==null?void 0:s.struct,handleChangeImage:x}),c==="results"&&e.jsx(Ur,{setIsOpenFormModal:w,setTriggerNext:U,setErrorScreen:n,formRef:F,handleSaveQuestion:y,formData:s,handleChangeImage:x})]}),e.jsxs("ul",{className:"Footer_footer__bMDNk",children:[c!=="results"&&e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{className:"button button-primary outline px-3",onClick:ee,children:"Next"})}),e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{onClick:()=>{g(!0),y()},className:"button button-primary px-3 text-decoration-none",children:"Save"})})]}),console.log(A,"triggerNext",a,"errorScreen"),(a||A)&&e.jsxs("div",{className:"StopPanel_modalStop__Msu+K",children:[e.jsx("div",{className:"StopPanel_modalOverlay__1dGP2"}),e.jsxs("div",{className:"StopPanel_modalContent__8Epq4",children:[e.jsxs("div",{className:"StopPanel_note__c+Qou",children:[e.jsx("div",{className:"StopPanel_imageBox__2Udoo",children:e.jsx("img",{className:"StopPanel_image__2gtri",src:"https://account.interacty.me/static/media/girl.af105485362519d96dd6e5f1bc6da415.svg",alt:""})}),e.jsxs("div",{className:"StopPanel_textBox__stxYL",children:[e.jsx("h4",{className:"StopPanel_textTitle__T8v5c",children:"Oh! Need more information"}),e.jsx("p",{className:"StopPanel_textContent__2I+u6",children:"Please fill all required fields on this tab for the quiz to work correctly."})]})]}),e.jsx("div",{className:"StopPanel_buttons__cZz5n",children:e.jsx("button",{onClick:()=>{n(!1),U(!1)},className:"button button-primary px-3 text-decoration-none",children:"Back"})})]})]})]})}function gv({formData:c,questions:m,handleChangeImage:s,treasurepairs:x,settreasuretiles:w}){var b,g,N;const{templateDetails:P}=bt(u=>u.DrawerReducer);console.log(c,"questionsquestionsquestions");const p=wt();console.log(x,"treasurepairs");const h=(u,_)=>{w(j=>({...j,tileList:j.tileList.map(C=>C.id===_?{...C,quest:u}:C)}))},l=(u,_)=>{w(j=>({...j,tileList:j.tileList.map(C=>C.id===_?{...C,questDescription:u}:C)}))},a=(u,_)=>{w(j=>({...j,tileList:j.tileList.map(C=>C.id===_?{...C,buttonText:u}:C)}))},n=(u,_)=>{w(j=>({...j,tileList:j.tileList.map(C=>C.id===_?{...C,buttonLink:u}:C)}))},i=(u,_)=>{w(j=>({...j,tileList:j.tileList.map(C=>C.id===_?{...C,password:u}:C)}))},v=u=>{const _={...P,project_structure:{...P.project_structure,pages:P.project_structure.pages.map(j=>({...j,blocks:j.blocks.map(C=>{var z,E;return C.id===c.id?{...C,struct:{...C.struct,tiles:{...C.struct.tiles,tileList:(E=(z=C.struct.tiles)==null?void 0:z.tileList)==null?void 0:E.map(M=>M.id===u?{...M,overlaySrc:""}:M)}}}:C})}))}};p(T(_))};return console.log(m,"dfkjbfkjbfjkbfsfs"),e.jsx(e.Fragment,{children:e.jsxs("div",{class:"d-flex w-100 gap-3 gap-md-0",children:[e.jsx("div",{class:"border-end scrollable-div result-list",children:e.jsx("div",{className:"sidebarquestions",children:((b=x==null?void 0:x.tileList)==null?void 0:b.length)!==0&&((g=x==null?void 0:x.tileList)==null?void 0:g.map((u,_)=>e.jsxs("div",{className:"questionSidebarList align-items-center",children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:u.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsx("p",{className:"mb-0",children:`Quest ${_+1}`})]})))})}),e.jsx("div",{className:"w-100 p-4 scrollable-div",children:(x==null?void 0:x.tileList)&&((N=x==null?void 0:x.tileList)==null?void 0:N.map((u,_)=>e.jsxs("div",{className:"questioncontent mb-3",children:[e.jsx("div",{className:"titlequestions d-flex align-items-center justify-content-between",children:e.jsx("div",{className:"questionTitle",children:e.jsxs("h5",{className:"mb-3",children:["Quest ",_+1]})})}),e.jsx("div",{className:"questionData",children:e.jsxs("div",{class:"row g-4",children:[e.jsx("div",{class:"col-md-2",children:e.jsxs("div",{class:"quest-cover rounded-3 overflow-hidden border w-100",children:[e.jsx("img",{src:u.headerImgSrc||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"Upload Icon",className:"w-100"}),e.jsx("label",{onClick:()=>s("quest-header",c==null?void 0:c.id,u.id),role:"button",children:e.jsx("i",{class:"fa-solid fa-camera"})})]})}),e.jsxs("div",{class:"col-md-10",children:[console.log(),e.jsxs("form",{children:[e.jsxs("div",{class:"mb-2",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Quest name"}),e.jsx("input",{type:"text",class:"form-control theme-control",id:"questName",maxlength:"60",defaultValue:u==null?void 0:u.quest,onChange:j=>h(j.target.value,u.id)}),e.jsx("small",{class:"quest-name-counter",children:"Maximum length: 60 characters"})]}),e.jsxs("div",{class:"mb-2",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Quest description"}),e.jsx("textarea",{class:"form-control theme-control",defaultValue:u==null?void 0:u.questDescription,onChange:j=>l(j.target.value,u.id)})]}),e.jsxs("div",{class:"row",children:[e.jsxs("div",{class:"col-md-6",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Button text"}),e.jsx("input",{type:"text",class:"form-control theme-control",defaultValue:u==null?void 0:u.buttonText,onChange:j=>a(j.target.value,u.id)})]}),e.jsxs("div",{class:"col-md-6",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Link"}),e.jsx("input",{type:"text",class:"form-control theme-control",defaultValue:u==null?void 0:u.buttonLink,onChange:j=>n(j.target.value,u.id)})]})]}),e.jsxs("div",{class:"row mt-2",children:[e.jsxs("div",{class:"col-md-6",children:[e.jsxs("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:["Secret code to open the cell"," ",e.jsx("span",{class:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",class:"form-control theme-control",defaultValue:u==null?void 0:u.password,onChange:j=>i(j.target.value,u.id)})]}),e.jsxs("div",{class:"col-md-6",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Quest header illustration"}),e.jsxs("div",{className:"d-flex gap-2",children:[(u==null?void 0:u.overlaySrc)&&e.jsx("img",{src:u==null?void 0:u.overlaySrc,alt:"overlay",style:{height:44,width:44,borderRadius:8,flexShrink:0,objectFit:"cover"}}),e.jsx("label",{htmlFor:"overlayUpload",class:"button button-primary",role:"button",onClick:()=>s("quest-overlay",c==null?void 0:c.id,u.id),children:"Change"}),(u==null?void 0:u.overlaySrc)&&e.jsx("button",{type:"button",className:"button button-secondary px-3 border-0 text-muted",onClick:()=>v(u.id),children:e.jsx("i",{class:"fa-solid fa-trash"})})]})]})]})]})]})]})})]})))})]})})}function xv({selecteScreen:c,setSelectScreen:m,formData:s,handleChangeLogo:x,setIsOpenFormModal:w}){var U,ee,oe,we;const P=[{label:"1 quest(s)",value:"1"},{label:"4 quest(s)",value:"4"},{label:"6 quest(s)",value:"6"},{label:"9 quest(s)",value:"9"}],[p,h]=d.useState({tileList:[]}),[l,a]=d.useState({}),[n,i]=d.useState({header:!1,buttonText:!1,finalResultHeader:!1,headerWordCount:!1,buttonTextWordCount:!1}),[v,b]=d.useState({}),[g,N]=d.useState(!1),[u,_]=d.useState(!1);console.log(l,"treasurePlayground");const j=wt(),{templateDetails:C}=bt($=>$.DrawerReducer),z=$=>{try{console.log("Select change triggered",$);const L=$==null?void 0:$.value;let k,q;if(L.includes("x"))[k,q]=L.split("x").map(Number);else switch(L){case"1":k=1,q=1;break;case"4":k=2,q=2;break;case"6":k=2,q=3;break;case"9":k=3,q=3;break;default:return}if(isNaN(k)||isNaN(q))return;const Y=k*q;a(Pe=>({...Pe,layout:{label:$.label,value:$.value,rows:k,cols:q}}));let se=[...(p==null?void 0:p.tileList)||[]];if(se.length>Y)se=se.slice(0,Y);else for(let Pe=se.length;Pe<Y;Pe++)se.push({id:Jt(),description:"",firstImage:{src:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",cardType:"image"},secondImage:{src:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",cardType:"image"}});h(Pe=>({...Pe,tileList:se})),console.log("Updated layout:",{rows:k,cols:q}),console.log("Updated tile list:",se)}catch(L){console.error("Error in handleSelectChange:",L)}};console.log(p,"treasurepairstreasurepairs"),console.log(l,"treasurepairs");const E=$=>{a(L=>({...L,cardProportions:$})),console.log(memoryData,"sqsqsqsq")},M=$=>{a(L=>({...L,isShowQuestCover:$}))},S=$=>{console.log($,"checkposition"),a(L=>({...L,coverPosition:$}))};console.log(c,"checkacrelkrnl");const F=()=>{var L;const $={finalResultHeader:!((L=v.header)!=null&&L.trim()),finalResultHeaderWordCount:!y(v.header)};return i($),!$.header&&!$.buttonText&&!$.finalResultHeader&&!$.headerWordCount&&!$.buttonTextWordCount&&!$.finalResultHeaderWordCount};console.log(n,"opwidopio");const y=$=>{if(console.log($,"09485"),typeof $!="string")return!1;const L=$.trim().replace(/\s+/g," "),k=L.split(" ").length;return console.log(L,"trimmed text"),console.log(k,"word count"),k<=20&&k>0};d.useEffect(()=>{var $,L,k,q,V;console.log(s,"Form Data"),($=s==null?void 0:s.struct)!=null&&$.playground&&a((L=s==null?void 0:s.struct)==null?void 0:L.playground),(k=s==null?void 0:s.struct)!=null&&k.tiles&&(console.log("IYIYYIY"),h((q=s==null?void 0:s.struct)==null?void 0:q.tiles)),(V=s==null?void 0:s.struct)!=null&&V.finalScreen&&b(s.struct.finalScreen)},[s]),d.useEffect(()=>{console.log(l,"Updated treasurePlayground")},[l]),d.useEffect(()=>{console.log("Updated treasuretiles:",p)},[p]),console.log(s,"sjkdopj");const A=()=>{if(console.log("Saving treasure hunt..."),F()){console.log("in eklseeee");const $={...C,project_structure:{...C.project_structure,pages:C.project_structure.pages.map(L=>({...L,blocks:L.blocks.map(k=>k.id===(s==null?void 0:s.id)?{...k,struct:{...k.struct,playground:{...k.struct.playground,...l},tiles:{...k.struct.tiles,...p},finalScreen:{...k.struct.final,...v}}}:k)}))}};console.log("Dispatching updated data",$),j(T($)),w(!1)}else return};return d.useEffect(()=>{!(l!=null&&l.layout)&&(P!=null&&P[0])&&a($=>({...$,layout:{label:P[0].label,value:P[0].value,rows:2,cols:2}}))},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{className:"form-start",children:e.jsxs("div",{className:"optionsEditScreen",children:[e.jsxs("div",{className:`options-settings ${c==="start-screen"?"activeTab":""}`,role:"button",onClick:()=>m("start-screen"),children:[e.jsx("i",{class:"fa-solid fa-desktop"}),e.jsx("p",{children:"PLayground"})]}),e.jsxs("div",{className:`options-settings ${c==="quests"?"activeTab":""}`,role:"button",onClick:()=>m("quests"),children:[e.jsx("i",{class:"fa-solid fa-circle-question"}),e.jsx("p",{children:"Quests"})]}),e.jsxs("div",{className:`options-settings ${c==="treasureMap"?"activeTab":""}`,role:"button",onClick:()=>m("treasureMap"),children:[e.jsx("i",{class:"fa-solid fa-square-poll-horizontal"}),e.jsx("p",{children:"Treasure map"})]})]})}),c==="start-screen"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-left border-end",children:e.jsxs("div",{className:"fields-output",children:[e.jsx("label",{class:"toggle-container mb-4",children:"PlayGround"}),e.jsx("div",{className:"formFieldsList",children:e.jsx("div",{className:"additionalInfo",children:e.jsxs("div",{className:"fields_info",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Layout"}),console.log(l==null?void 0:l.layout,"opioo"),e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",defaultValue:l!=null&&l.layout?{label:l.layout.label,value:l.layout.value}:null,options:P,onChange:$=>z($),placeholder:"Select input type"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Card proportions"}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("button",{className:`btn btn-propertion ${(l==null?void 0:l.cardProportions)==="1/1"?"selctedProp":""}`,onClick:()=>E("1/1"),style:{height:"unset",aspectRatio:"1/1"},children:"1:1"}),e.jsx("button",{className:`btn btn-propertion ${(l==null?void 0:l.cardProportions)==="5/4"?"selctedProp":""}`,onClick:()=>E("5/4"),style:{height:"unset",aspectRatio:"5/4"},children:"5:4"}),e.jsx("button",{className:`btn btn-propertion ${(l==null?void 0:l.cardProportions)==="4/5"?"selctedProp":""}`,onClick:()=>E("4/5"),style:{height:"unset",aspectRatio:"4/5"},children:"4:5"})]})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",role:"button",children:[e.jsx("input",{id:"showQuest",type:"checkbox",defaultChecked:l==null?void 0:l.isShowQuestCover,onChange:$=>M($.target.checked)}),e.jsx("label",{htmlFor:"showQuest",className:"user-select-none form-label font-sm fw-medium d-flex align-items-center mb-0 cursor-pointer",children:"Show quest name on the cover"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"",className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Text and button position"}),e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx("input",{id:"radio-center",type:"radio",name:"coverPosition",defaultChecked:(l==null?void 0:l.coverPosition)==="center",onChange:()=>S("center")}),e.jsx("label",{htmlFor:"radio-center form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Center"})]}),e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx("input",{id:"radio-bottom",type:"radio",name:"coverPosition",defaultChecked:(l==null?void 0:l.coverPosition)==="bottom",onChange:()=>S("bottom")}),e.jsx("label",{htmlFor:"radio-bottom form-label font-sm fw-medium d-flex align-items-center cursor-pointer mb-0",children:"Bottom"})]})]})]}),e.jsx("label",{className:"form-label font-sm w-100",role:"button",children:e.jsx("p",{})})]})})})]})}),e.jsxs("div",{className:"form-right",children:[e.jsx("h5",{children:"Approximate preview"}),e.jsx("div",{className:"formPreview cover_modal p-0 bg-transparent shadow-none",children:e.jsx("div",{className:"treauseHunt ",children:e.jsx("div",{className:"",children:e.jsx("div",{className:"d-flex align-items-center justify-content-center",children:e.jsxs("div",{className:"w-100",children:[console.log(l,p,"11111111111111111"),e.jsxs("div",{className:"treasure-hunt__tiles",style:{display:"grid",gridTemplateColumns:`repeat(${(U=l==null?void 0:l.layout)==null?void 0:U.cols}, 1fr)`,gridTemplateRows:`repeat(${(ee=l==null?void 0:l.layout)==null?void 0:ee.rows}, 1fr)`},children:[console.log(p==null?void 0:p.tileList,"sqqsqsqqqs0"),(oe=p==null?void 0:p.tileList)==null?void 0:oe.map(($,L)=>e.jsx("div",{className:"treasure-hunt__tile-wrapper_wiheowibd",children:e.jsxs("div",{className:"outer-img",children:[e.jsx("img",{src:$.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"img",style:{aspectRatio:`${l==null?void 0:l.cardProportions}`,objectFit:"cover"}}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#20a2b8",children:e.jsx("path",{d:"M19 10H20C20.5523 10 21 10.4477 21 11V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V11C3 10.4477 3.44772 10 4 10H5V9C5 5.13401 8.13401 2 12 2C15.866 2 19 5.13401 19 9V10ZM17 10V9C17 6.23858 14.7614 4 12 4C9.23858 4 7 6.23858 7 9V10H17ZM11 14V18H13V14H11Z"})}),e.jsxs("div",{className:`middleContent  ${(l==null?void 0:l.coverPosition)==="center"?"justify-content-center":"justify-content-end"} `,children:[(l==null?void 0:l.isShowQuestCover)&&e.jsx("p",{children:$==null?void 0:$.quest}),e.jsx("button",{onClick:()=>handleOpenModal($),children:"Open"})]})]})},`${$==null?void 0:$.id}`))]})]})})})})})]})]}),c==="quests"&&e.jsx(gv,{settreasuretiles:h,treasurepairs:p,formData:s,questions:(we=s==null?void 0:s.struct)==null?void 0:we.questions,handleChangeImage:x}),c==="treasureMap"&&e.jsx(Ur,{setParentErros:i,finalResult:v,setfinalResult:b,setTriggerNext:_,setErrorScreen:N,parenterror:n,formData:s,handleChangeImage:x})]}),e.jsx("ul",{className:"Footer_footer__bMDNk",children:e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{onClick:()=>{A()},className:"button button-primary px-3 text-decoration-none",children:"Save"})})})]})}function fv({formData:c,errors:m,setRankMain:s,setRankCard:x,questions:w,rankCard:P,rankMain:p,handleChangeImage:h}){var g,N;bt(u=>u.DrawerReducer),console.log((N=(g=c==null?void 0:c.struct)==null?void 0:g.playground)==null?void 0:N.cardType,"questionsquestionsquestions"),console.log(p,"rankMain");const[l,a]=d.useState(0),[n,i]=d.useState(0);wt();const v=(u,_)=>{console.log(u.length,"ooioio"),!(u.length>40)&&(a(u==null?void 0:u.length),x(j=>j==null?void 0:j.map(C=>C.id===_?{...C,text:u}:C)))};console.log(p,"sjoqjso");const b=(u,_)=>{u.length>60||(i(u.length),x(j=>Array.isArray(j)?j.map(C=>C.id===_?{...C,description:u}:C):[]))};return console.log(P,"dfkjbfkjbfjkbfsfs"),e.jsx(e.Fragment,{children:e.jsxs("div",{class:"d-flex w-100 gap-3 gap-md-0",children:[e.jsx("div",{class:"border-end scrollable-div result-list",children:e.jsxs("div",{className:"sidebarquestions",children:[e.jsx("h3",{children:"Cards"}),(P==null?void 0:P.length)!==0&&(P==null?void 0:P.map((u,_)=>e.jsxs("div",{className:"questionSidebarList align-items-center",children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:u.imageUrl||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsx("p",{className:"mb-0",children:`Card ${_+1}`})]})))]})}),e.jsx("div",{className:"w-100 scrollable-div p-4",children:P&&(P==null?void 0:P.map((u,_)=>{var j,C,z,E,M,S,F;return e.jsxs("div",{className:"questioncontent mb-3",children:[e.jsx("div",{className:"questionTitle",children:e.jsxs("h5",{className:"mb-3",children:["Card ",_+1]})}),console.log(p==null?void 0:p.cardType,"opwid"),e.jsx("div",{className:"questionData",children:(p==null?void 0:p.cardType)==="TEXT"?e.jsx("div",{class:"row",children:e.jsx("div",{class:"col-md-12",children:e.jsxs("form",{children:[(p==null?void 0:p.cardType)==="TEXT"&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{className:"form-label",children:["Text ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control theme-control ${(C=(j=m==null?void 0:m.questions)==null?void 0:j[u.id])!=null&&C.text?"is-invalid":""}`,id:"questName",maxLength:"60",value:u==null?void 0:u.text,onChange:y=>v(y.target.value,u.id)}),console.log((E=(z=m==null?void 0:m.questions)==null?void 0:z[u.id])==null?void 0:E.text,"Question Error"),((S=(M=m==null?void 0:m.questions)==null?void 0:M[u.id])==null?void 0:S.text)&&e.jsx("div",{className:"invalid-feedback",children:m.questions[u.id].text})]}),e.jsxs("div",{class:"mb-2",children:[e.jsx("label",{class:"form-label",children:"Description"}),e.jsx("textarea",{class:"form-control theme-control",value:u==null?void 0:u.description,onChange:y=>b(y.target.value,u.id)}),e.jsxs("small",{class:"quest-name-counter",children:[((F=u==null?void 0:u.description)==null?void 0:F.length)||0,"/60`"]})]})]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{class:"row g-4",children:[e.jsx("div",{class:"col-md-2",children:e.jsxs("div",{class:"quest-cover border rounded-3 overflow-hidden w-100",children:[e.jsx("img",{src:u.imageUrl||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"Upload Icon",className:"w-100"}),e.jsx("label",{onClick:()=>h("card-image",c==null?void 0:c.id,u.id),role:"button",children:e.jsx("i",{class:"fa-solid fa-camera"})})]})}),e.jsx("div",{class:"col-md-10",children:e.jsx("form",{className:"h-100",children:e.jsxs("div",{class:"d-flex flex-column h-100",children:[e.jsx("label",{class:"form-label",children:"Description"}),e.jsx("textarea",{class:"form-control h-100",defaultValue:u==null?void 0:u.description,onChange:y=>b(y.target.value,u.id)})]})})})]})})})]})}))})]})})}function jv({selecteScreen:c,setSelectScreen:m,formData:s,handleChangeLogo:x,setIsOpenFormModal:w}){var y;const[P,p]=d.useState({left:!1,right:!1}),[h,l]=d.useState({left:0,right:0}),[a,n]=d.useState(!1),[i,v]=d.useState([]),[b,g]=d.useState([]);d.useState({});const[N,u]=d.useState({header:!1,buttonText:!1,finalResultHeader:!1,headerWordCount:!1,buttonTextWordCount:!1});d.useEffect(()=>{h.left>h.right?(p({left:!0,right:!1}),n(!0)):h.left<h.right?(p({left:!1,right:!0}),n(!0)):h.left===h.right&&(p({left:!1,right:!1}),n(!1))},[h]);const _=[{label:"2",value:2},{label:"3",value:3},{label:"4",value:4}],j=wt(),{templateDetails:C}=bt(A=>A.DrawerReducer),z=A=>{var oe;let U=[...((oe=s==null?void 0:s.struct)==null?void 0:oe.cards)||[]];const ee=parseInt(A.value,10);if(U.length>ee)U=U.slice(0,ee);else for(let we=U.length;we<ee;we++)U.push({id:Jt(),imageUrl:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",description:"",text:`Card ${we+1}`});console.log(U,"oioioii"),g(U),console.log(b,"dioaj")},E=()=>{const A=(b||[]).map(oe=>{var $;const we={};return($=oe.text)!=null&&$.trim()||(we.text="Text is required"),we});return u({questions:A}),A.every(oe=>!oe.text)};console.log(N,"ikodjwq");const M=A=>{console.log(A,"ioioioi"),v(U=>({...U,cardType:A}))},S=A=>{v(U=>({...U,cardProportions:A}))},F=()=>{if(!E()){console.log("Form validation failed");return}const A={...C,project_structure:{...C.project_structure,pages:C.project_structure.pages.map(U=>({...U,blocks:U.blocks.map(ee=>ee.id===(s==null?void 0:s.id)?{...ee,struct:{...ee.struct,cards:b,playground:i}}:ee)}))}};console.log("Dispatching updated data",A),j(T(A)),w(!1)};return console.log(N,"piopiipoi"),console.log(s,"cehchccchformdTAaa"),d.useEffect(()=>{var A,U;v((A=s==null?void 0:s.struct)==null?void 0:A.playground),g((U=s==null?void 0:s.struct)==null?void 0:U.cards)},[s]),console.log(i,"rankMain"),e.jsxs(e.Fragment,{children:["   ",e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{className:"form-start",children:e.jsxs("div",{className:"optionsEditScreen",children:[e.jsxs("div",{className:`options-settings ${c==="start-screen"?"activeTab":""}`,role:"button",onClick:()=>m("start-screen"),children:[e.jsx("i",{class:"fa-solid fa-desktop"}),e.jsx("p",{children:"Layout"})]}),e.jsxs("div",{className:`options-settings ${c==="quests"?"activeTab":""}`,role:"button",onClick:()=>m("quests"),children:[e.jsx("i",{class:"fa-solid fa-circle-question"}),e.jsx("p",{children:"Cards"})]})]})}),c==="start-screen"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-left border-end",children:e.jsxs("div",{className:"fields-output",children:[e.jsx("label",{class:"toggle-container mb-4",children:"Layout"}),e.jsx("div",{className:"formFieldsList",children:e.jsx("div",{className:"additionalInfo",children:e.jsxs("div",{className:"fields_info",children:[e.jsxs("div",{className:"row g-3 mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"No of cards"}),console.log(s,"ioioii"),e.jsx(bs,{defaultValue:i!=null&&i.cardsCount?_.find(A=>A.value===(i==null?void 0:i.cardsCount)):null,className:"theme-select",classNamePrefix:"react-select",options:_,onChange:A=>z(A),placeholder:"no of cards"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"cardTypesection",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Card type"}),e.jsxs("div",{className:"button___cardTYPE d-flex gap-2",children:[e.jsxs("button",{className:`btn selectypebutton w-100 ${(i==null?void 0:i.cardType)==="IMAGE"?"selected primary-text":""}`,onClick:()=>M("IMAGE"),children:[e.jsx("i",{class:"fa-solid fa-image"})," Image"]}),e.jsxs("button",{className:`btn selectypebutton w-100 ${(i==null?void 0:i.cardType)==="TEXT"?"selected primary-text":""}`,onClick:()=>M("TEXT"),children:[e.jsx("i",{class:"fa-solid fa-pen-to-square"})," Text"]})]})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Card proportions"}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("button",{className:`btn btn-propertion ${(i==null?void 0:i.cardProportions)==="1/1"?"selctedProp":""}`,style:{aspectRatio:"1/1",height:"unset"},onClick:()=>S("1/1"),children:"1:1"}),e.jsx("button",{className:`btn btn-propertion ${(i==null?void 0:i.cardProportions)==="5/4"?"selctedProp":""}`,style:{aspectRatio:"5/4",height:"unset"},onClick:()=>S("5/4"),children:"5:4"}),e.jsx("button",{className:`btn btn-propertion ${(i==null?void 0:i.cardProportions)==="4/5"?"selctedProp":""}`,style:{aspectRatio:"4/5",height:"unset"},onClick:()=>S("4/5"),children:"4:5"})]})]})]})})})]})}),e.jsxs("div",{className:"form-right scrollable-div",children:[e.jsx("h5",{children:"Approximate preview"}),e.jsx("div",{className:"formPreview cover_modal rankPreview",children:e.jsx(rj,{data:s,rankCard:b,rankMain:i})})]})]}),console.log(c,"selecteScreen"),c==="quests"&&e.jsx(fv,{errors:N,setRankCard:g,setRankMain:v,rankMain:i,rankCard:b,formData:s,questions:(y=s==null?void 0:s.struct)==null?void 0:y.questions,handleChangeImage:x})]}),e.jsx("ul",{className:"Footer_footer__bMDNk",children:e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{onClick:()=>{F()},className:"button button-primary px-3 text-decoration-none",children:"Save"})})})]})}function bv({selecteScreen:c,setSelectScreen:m,formData:s,handleChangeLogo:x,setIsOpenFormModal:w,onRegisterSlideImageCallback:P}){const p=wt(),[h,l]=d.useState({slides:[]}),[a,n]=d.useState(!1);console.log(h,"slideShowslideShow");const{templateDetails:i}=bt(S=>S.DrawerReducer),v=S=>{n(F=>({...F,[S]:!F[S]}))},b=(S,F)=>{l(y=>({...y,slides:y.slides.map(A=>A.id===F?{...A,image:S}:A)}))},g=()=>{const S={...i,project_structure:{...i.project_structure,pages:i.project_structure.pages.map(F=>({...F,blocks:F.blocks.map(y=>y.id===(s==null?void 0:s.id)?{...y,struct:{...y.struct,slides:h.slides}}:y)}))}};console.log(S,"updatedData"),p(T(S)),w(!1)},N=(S,F)=>{console.log("Before update:",h),l(y=>{const A=y.slides.map(U=>U.id===F?{...U,description:S}:U);return console.log("Updated slides:",A),{...y,slides:A}})},u=(S,F)=>{l(y=>{console.log("Previous state:",y);const A=y.slides?y.slides.map(U=>U.id===F?{...U,header:S}:U):[];return console.log("Updated slides:",A),{...y,slides:A}})},_=S=>{l(F=>{var A;const y=((A=F.slides)==null?void 0:A.filter(U=>U.id!==S))||[];return{...F,slides:y}})};console.log(h,"slideShowslideShow");const j=(S,F)=>{l(y=>{console.log("Previous state:",y);const A=y.slides?y.slides.map(U=>U.id===F?{...U,imageCaption:S}:U):[];return console.log("Updated slides:",A),{...y,slides:A}})},C=S=>{l(F=>{const y=F.slides.findIndex(oe=>oe.id===S);if(y===-1)return F;const U={...F.slides[y],id:Jt()},ee=[...F.slides];return ee.splice(y+1,0,U),{...F,slides:ee}})},z=()=>{const S={id:Jt(),header:"",description:"",hasTextOptions:!0,image:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",imageCaption:""};l(F=>({...F,slides:[...F.slides,S]}))},E=S=>{l(F=>{const y=F.slides.findIndex(U=>U.id===S);if(y<=0)return F;const A=[...F.slides];return[A[y],A[y-1]]=[A[y-1],A[y]],{...F,slides:A}})},M=S=>{l(F=>{const y=F.slides.findIndex(U=>U.id===S);if(y===-1||y>=F.slides.length-1)return F;const A=[...F.slides];return[A[y],A[y+1]]=[A[y+1],A[y]],{...F,slides:A}})};return console.log(s==null?void 0:s.struct,"cehchccchformdTAaa"),d.useEffect(()=>{l(s==null?void 0:s.struct)},[s==null?void 0:s.struct]),console.log(h,"slideShow"),d.useEffect(()=>{P&&P(b)},[]),d.useEffect(()=>{const S={};h.slides.forEach(F=>{S[F.id]=!!F.header||!!F.imageCaption}),n(S)},[h.slides]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-option-wrap",children:e.jsxs("div",{className:"w-100 scrollable-div p-3",children:[h.slides&&(h==null?void 0:h.slides.map((S,F)=>e.jsx("div",{className:"questioncontent",children:e.jsx("div",{className:"questionData",children:e.jsx("div",{class:"mb-4",children:e.jsxs("div",{class:"d-flex gap-3",children:[e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer justify-content-center",children:F+1}),e.jsxs("div",{className:"questionImageLabel quest-cover",style:{width:90,height:90,margin:0},children:[e.jsx("img",{src:S.image,alt:"question-image",className:"w-100"}),e.jsx("label",{onClick:()=>x("slider-image",s==null?void 0:s.id,S.id),role:"button",children:e.jsx("i",{class:"fa-solid fa-camera"})})]})]}),e.jsxs("div",{className:"w-100",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between gap-2 mb-2",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Description"}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>E(S.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>M(S.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("button",{onClick:()=>C(S.id),className:"button button-secondary border-0 p-2 h-auto rounded-5 text-muted font-sm",children:e.jsx("i",{className:"fa-solid fa-clone"})}),(h==null?void 0:h.slides.length)>1&&e.jsx("button",{className:"button button-secondary border-0 p-2 h-auto rounded-5 text-muted font-sm",onClick:()=>_(S.id),children:e.jsx("i",{className:"fa-solid fa-trash"})})]})]}),e.jsx("textarea",{className:"form-control theme-control",rows:"4",defaultValue:S.description,onChange:y=>N(y.target.value,S.id)})]}),a[S.id]?e.jsx("p",{onClick:()=>v(S.id),children:"Less Text Option"}):e.jsx("p",{onClick:()=>v(S.id),children:"More Text Option"}),a[S.id]&&e.jsxs("div",{role:"button",className:"d-flex justify-content-between gap-3",children:[e.jsxs("div",{className:"w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Header"}),e.jsx("input",{type:"text",className:"form-control theme-control",defaultValue:S.header,onChange:y=>u(y.target.value,S.id)})]}),e.jsxs("div",{className:"w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Image caption"}),e.jsx("input",{type:"text",className:"form-control theme-control",defaultValue:S.imageCaption,onChange:y=>j(y.target.value,S.id)})]})]})]})]})})})}))),e.jsx("div",{children:e.jsxs("button",{className:"btn button_boost",onClick:()=>z(),children:[e.jsx("i",{class:"fa-solid fa-plus"})," Add new"]})})]})})," ",e.jsx("ul",{className:"Footer_footer__bMDNk",children:e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{onClick:g,className:"button button-primary px-3 text-decoration-none",children:"Save"})})})]})}function vv({selecteScreen:c,setSelectScreen:m,formData:s,handleChangeLogo:x,setIsOpenFormModal:w}){var $;const P=wt(),{templateDetails:p}=bt(L=>L.DrawerReducer),[h,l]=d.useState({}),[a,n]=d.useState(null),[i,v]=d.useState([]),[b,g]=d.useState({}),N=(L,k)=>{const q=i.map(V=>V.id===k?{...V,description:L}:V);v(q)},u=(L,k)=>{const q=i.map(Y=>Y.id===k?{...Y,header:L}:Y);v(q);const V=!L.trim();console.log(`Is header empty for question ${k}?`,V),l(Y=>({...Y,[k]:{...Y[k],header:V}}))};console.log(h,"trhrtht"),console.log(h,"SQSQS");const _=(L,k)=>{const q=i.map(V=>V.id===k?{...V,buttonText:L}:V);v(q)},j=(L,k)=>{const q=i.map(V=>V.id===k?{...V,buttonLink:L}:V);v(q)},C=(L,k)=>{const q=i.map(V=>V.id===k?{...V,disclaimer:L}:V);v(q)},z=L=>{const k=i.filter(q=>q.id!==L);v(k)},E=d.useRef(null),M=()=>{const L={id:Jt(),buttonLink:"",buttonText:"",coverImage:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",description:"description",disclaimer:"",header:"Text"};v(k=>[...k,L])},S=L=>{const k=i.findIndex(Y=>Y.id===L);if(k===-1)return;const q={...i[k],id:Jt()},V=[...i];V.splice(k+1,0,q),v(V)},F=L=>{const k={...p,project_structure:{...p.project_structure,pages:p.project_structure.pages.map(q=>({...q,blocks:q.blocks.map(V=>{var Y;return V.id===(s==null?void 0:s.id)?{...V,struct:{...V.struct,cards:(Y=V.struct.cards)==null?void 0:Y.map(se=>se.id===L?{...se,illustrationImage:""}:se)}}:V})}))}};P(T(k))},y=()=>{let L=!0;const k={};return i.forEach(q=>{var V;(V=q.header)!=null&&V.trim()||(k[q.id]={header:!0},L=!1)}),l(k),L},A=L=>{n(L);const k=document.getElementById(`Card-${L}`);k&&k.scrollIntoView({behavior:"smooth",block:"start"})},U=()=>{const L=document.querySelectorAll(".questioncontent");let k=null;L.forEach((q,V)=>{const Y=q.getBoundingClientRect();Y.top>=0&&Y.top<=window.innerHeight/2&&(k=V)}),k!==null&&k!==a&&n(k)},ee=L=>{const k=i.findIndex(V=>V.id===L);if(k<=0)return;const q=[...i];[q[k],q[k-1]]=[q[k-1],q[k]],v(q)},oe=L=>{const k=i.findIndex(V=>V.id===L);if(k===-1||k>=i.length-1)return;const q=[...i];[q[k],q[k+1]]=[q[k+1],q[k]],v(q)},we=()=>{if(console.log("Saving horoscope..."),!y())return;const L={...p,project_structure:{...p.project_structure,pages:p.project_structure.pages.map(k=>({...k,blocks:k.blocks.map(q=>q.id===(s==null?void 0:s.id)?{...q,struct:{...q.struct,cards:i}}:q)}))}};console.log(L,"✅ Final data to dispatch"),P(T(L)),w(!1)};return console.log(i,"horohoro",($=s==null?void 0:s.struct)==null?void 0:$.cards),d.useEffect(()=>{var L,k;v((L=s==null?void 0:s.struct)==null?void 0:L.cards),g((k=s==null?void 0:s.struct)==null?void 0:k.finalScreen)},[s]),console.log(s==null?void 0:s.struct,"cehchccchformdTAaaformhoroscope"),console.log(i.coverImage,"horo.coverImage"),d.useEffect(()=>{const L=E.current;if(L)return L.addEventListener("scroll",U),()=>{L.removeEventListener("scroll",U)}},[a]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{class:"scrollable-div border-end result-list",children:e.jsxs("div",{className:"sidebarquestions",children:[i&&(i==null?void 0:i.map((L,k)=>e.jsxs("div",{className:`questionSidebarList align-items-center ${a===k?"highlight":""}`,onClick:()=>A(k),children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:L.coverImage||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsx("p",{className:"mb-0",children:`Card ${k+1}`})]}))),e.jsx("div",{className:"button_addNewquestion pb-3",children:e.jsxs("button",{className:"btn button_boost p-0",onClick:()=>M(),children:[e.jsx("i",{class:"fa-solid fa-plus"})," Add New"]})})]})}),e.jsxs("div",{className:"w-100 scrollable-div p-4",ref:E,children:[i&&(i==null?void 0:i.map((L,k)=>{var q,V;return e.jsxs("div",{className:`questioncontent mb-3 ${a===k?"highlight":""}`,style:{backgroundColor:a===k?"#f0f0f0":"transparent"},children:[e.jsxs("div",{className:"titlequestions d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("h4",{children:["Card ",k+1]}),e.jsxs("div",{className:"questionTitle gap-2 d-flex align-items-center",children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>ee(L.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>oe(L.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("button",{onClick:()=>S(L.id),className:"button button-secondary border-0 p-2 h-auto rounded-5 text-muted font-sm",children:e.jsx("i",{class:"fa-solid fa-clone"})}),i.length>1&&e.jsx("button",{className:"button button-secondary border-0 p-2 h-auto rounded-5 text-muted font-sm",onClick:()=>z(L.id),children:e.jsx("i",{class:"fa-solid fa-trash"})})]})]}),e.jsx("div",{className:"questionData",children:e.jsx("div",{class:"mb-3",children:e.jsxs("div",{class:"d-flex gap-4",children:[e.jsxs("div",{className:"questionImageLabel quest-cover",style:{height:128,width:128,objectFit:"cover",borderRadius:8,margin:0},children:[e.jsx("img",{src:L.coverImage||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""}),e.jsx("label",{onClick:()=>x("horoscope-image",s==null?void 0:s.id,L.id),role:"button",children:e.jsx("i",{class:"fa-solid fa-camera"})})]}),e.jsxs("div",{className:"w-100",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:["Header ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-control theme-control ${(q=h[L.id])!=null&&q.header?"is-invalid":""}`,value:L.header,onChange:Y=>u(Y.target.value,L.id),required:!0}),((V=h[L.id])==null?void 0:V.header)&&e.jsx("div",{className:"invalid-feedback",children:"Header is required."}),console.log(h.headerWordCount,"vvvvv")]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Description"}),e.jsx("textarea",{class:"form-control theme-control",rows:"4",placeholder:"Enter your text",defaultValue:L.description,onChange:Y=>N(Y.target.value,L.id)})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:"1 st-page disclaimer"}),e.jsx("input",{type:"text",class:"form-control theme-control w-100",placeholder:"Image disclaimer",defaultValue:L.disclaimer,onChange:Y=>C(Y.target.value,L.id)})]})}),e.jsxs("div",{className:"illustrationUploadImage d-flex align-items-center gap-3 flex-wrap flex-md-nowrap",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Illustration"}),e.jsxs("div",{className:"d-flex gap-2",children:[(L==null?void 0:L.illustrationImage)&&e.jsx("img",{src:L==null?void 0:L.illustrationImage,alt:"illustrationImage",className:"image_illustrate",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0",onClick:()=>x("horoscope-illustrationImage",s==null?void 0:s.id,L.id),children:L!=null&&L.illustrationImage?"Change":"Upload"}),e.jsx("button",{className:"button button-secondary px-3 border-0 text-muted",onClick:()=>F(L.id),children:e.jsx("i",{class:"fa-solid fa-trash"})})]})]}),e.jsxs("div",{className:"buttonlink d-flex w-100 gap-3",children:[e.jsxs("div",{className:"w-100 mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Button text "}),e.jsx("input",{type:"text",class:"form-control theme-control w-100",placeholder:"Button text",defaultValue:L.buttonText,onChange:Y=>_(Y.target.value,L.id)})]}),e.jsxs("div",{className:"w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Link"}),e.jsx("input",{type:"text",class:"form-control theme-control w-100",placeholder:"Header",defaultValue:L.buttonLink,onChange:Y=>j(Y.target.value,L.id)})]})]})]})]})]})})})]},L.id)})),e.jsx("div",{})]})]}),"   ",e.jsx("ul",{className:"Footer_footer__bMDNk",children:e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{onClick:we,className:"button button-primary px-3 text-decoration-none",children:"Save"})})})]})}function Nv({selecteScreen:c,setSelectScreen:m,formData:s,handleChangeLogo:x,setIsOpenFormModal:w}){var $;const P=wt(),{templateDetails:p}=bt(L=>L.DrawerReducer),[h,l]=d.useState({}),[a,n]=d.useState(null),[i,v]=d.useState([]),[b,g]=d.useState({}),N=(L,k)=>{const q=i.map(V=>V.id===k?{...V,description:L}:V);v(q)},u=(L,k)=>{const q=i.map(Y=>Y.id===k?{...Y,header:L}:Y);v(q);const V=!L.trim();console.log(`Is header empty for question ${k}?`,V),l(Y=>({...Y,[k]:{...Y[k],header:V}}))};console.log(h,"trhrtht"),console.log(h,"SQSQS");const _=(L,k)=>{const q=i.map(V=>V.id===k?{...V,buttonText:L}:V);v(q)},j=(L,k)=>{const q=i.map(V=>V.id===k?{...V,buttonLink:L}:V);v(q)},C=(L,k)=>{const q=i.map(V=>V.id===k?{...V,disclaimer:L}:V);v(q)},z=L=>{const k=i.filter(q=>q.id!==L);v(k)},E=d.useRef(null),M=()=>{const L={id:Jt(),buttonLink:"",buttonText:"",coverImage:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",description:"description",disclaimer:"",header:"Text"};v(k=>[...k,L])},S=L=>{const k=i.findIndex(Y=>Y.id===L);if(k===-1)return;const q={...i[k],id:Jt()},V=[...i];V.splice(k+1,0,q),v(V)},F=L=>{const k={...p,project_structure:{...p.project_structure,pages:p.project_structure.pages.map(q=>({...q,blocks:q.blocks.map(V=>{var Y;return V.id===(s==null?void 0:s.id)?{...V,struct:{...V.struct,cards:(Y=V.struct.cards)==null?void 0:Y.map(se=>se.id===L?{...se,illustrationImage:""}:se)}}:V})}))}};P(T(k))},y=()=>{let L=!0;const k={};return i.forEach(q=>{var V;(V=q.header)!=null&&V.trim()||(k[q.id]={header:!0},L=!1)}),l(k),L},A=L=>{n(L);const k=document.getElementById(`Card-${L}`);k&&k.scrollIntoView({behavior:"smooth",block:"start"})},U=()=>{const L=document.querySelectorAll(".questioncontent");let k=null;L.forEach((q,V)=>{const Y=q.getBoundingClientRect();Y.top>=0&&Y.top<=window.innerHeight/2&&(k=V)}),k!==null&&k!==a&&n(k)},ee=L=>{const k=i.findIndex(V=>V.id===L);if(k<=0)return;const q=[...i];[q[k],q[k-1]]=[q[k-1],q[k]],v(q)},oe=L=>{const k=i.findIndex(V=>V.id===L);if(k===-1||k>=i.length-1)return;const q=[...i];[q[k],q[k+1]]=[q[k+1],q[k]],v(q)},we=()=>{if(console.log("Saving horoscope..."),!y())return;const L={...p,project_structure:{...p.project_structure,pages:p.project_structure.pages.map(k=>({...k,blocks:k.blocks.map(q=>q.id===(s==null?void 0:s.id)?{...q,struct:{...q.struct,cards:i}}:q)}))}};console.log(L,"✅ Final data to dispatch"),P(T(L)),w(!1)};return console.log(i,"horohoro",($=s==null?void 0:s.struct)==null?void 0:$.cards),d.useEffect(()=>{var L,k;v((L=s==null?void 0:s.struct)==null?void 0:L.cards),g((k=s==null?void 0:s.struct)==null?void 0:k.finalScreen)},[s]),console.log(s==null?void 0:s.struct,"cehchccchformdTAaaformhoroscope"),console.log(i.coverImage,"horo.coverImage"),d.useEffect(()=>{const L=E.current;if(L)return L.addEventListener("scroll",U),()=>{L.removeEventListener("scroll",U)}},[a]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{class:"scrollable-div border-end result-list",children:e.jsxs("div",{className:"sidebarquestions",children:[i&&(i==null?void 0:i.map((L,k)=>e.jsxs("div",{className:`questionSidebarList align-items-center ${a===k?"highlight":""}`,onClick:()=>A(k),children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:L.coverImage||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsx("p",{className:"mb-0",children:`Card ${k+1}`})]}))),e.jsx("div",{className:"button_addNewquestion pb-3",children:e.jsxs("button",{className:"btn button_boost p-0",onClick:()=>M(),children:[e.jsx("i",{class:"fa-solid fa-plus"})," Add New"]})})]})}),e.jsxs("div",{className:"w-100 scrollable-div p-4",ref:E,children:[i&&(i==null?void 0:i.map((L,k)=>{var q,V;return e.jsxs("div",{className:`questioncontent mb-3 ${a===k?"highlight":""}`,style:{backgroundColor:a===k?"#f0f0f0":"transparent"},children:[e.jsxs("div",{className:"titlequestions d-flex align-items-center justify-content-between mb-3",children:[e.jsxs("h4",{children:["Card ",k+1]}),e.jsxs("div",{className:"questionTitle gap-2 d-flex align-items-center",children:[e.jsx("li",{className:"Inline_control__list",title:"Move up",role:"button",onClick:()=>ee(L.id),children:e.jsx("i",{className:"fa-solid fa-arrow-up"})}),e.jsx("li",{className:"Inline_control__list",title:"Move down",role:"button",onClick:()=>oe(L.id),children:e.jsx("i",{className:"fa-solid fa-arrow-down"})}),e.jsx("button",{onClick:()=>S(L.id),className:"button button-secondary border-0 p-2 h-auto rounded-5 text-muted font-sm",children:e.jsx("i",{class:"fa-solid fa-clone"})}),i.length>1&&e.jsx("button",{className:"button button-secondary border-0 p-2 h-auto rounded-5 text-muted font-sm",onClick:()=>z(L.id),children:e.jsx("i",{class:"fa-solid fa-trash"})})]})]}),e.jsx("div",{className:"questionData",children:e.jsx("div",{class:"mb-3",children:e.jsxs("div",{class:"d-flex gap-4",children:[e.jsxs("div",{className:"questionImageLabel quest-cover",style:{height:128,width:128,objectFit:"cover",borderRadius:8,margin:0},children:[e.jsx("img",{src:L.coverImage||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""}),e.jsx("label",{onClick:()=>x("horoscope-image",s==null?void 0:s.id,L.id),role:"button",children:e.jsx("i",{class:"fa-solid fa-camera"})})]}),e.jsxs("div",{className:"w-100",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:["Header ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-control theme-control ${(q=h[L.id])!=null&&q.header?"is-invalid":""}`,value:L.header,onChange:Y=>u(Y.target.value,L.id),required:!0}),((V=h[L.id])==null?void 0:V.header)&&e.jsx("div",{className:"invalid-feedback",children:"Header is required."}),console.log(h.headerWordCount,"vvvvv")]}),e.jsxs("div",{class:"mb-3",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Description"}),e.jsx("textarea",{class:"form-control theme-control",rows:"4",placeholder:"Enter your text",defaultValue:L.description,onChange:Y=>N(Y.target.value,L.id)})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:"1 st-page disclaimer"}),e.jsx("input",{type:"text",class:"form-control theme-control w-100",placeholder:"Image disclaimer",defaultValue:L.disclaimer,onChange:Y=>C(Y.target.value,L.id)})]})}),e.jsxs("div",{className:"illustrationUploadImage d-flex align-items-center gap-3 flex-wrap flex-md-nowrap",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Illustration"}),e.jsxs("div",{className:"d-flex gap-2",children:[(L==null?void 0:L.illustrationImage)&&e.jsx("img",{src:L==null?void 0:L.illustrationImage,alt:"illustrationImage",className:"image_illustrate",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0",onClick:()=>x("horoscope-illustrationImage",s==null?void 0:s.id,L.id),children:L!=null&&L.illustrationImage?"Change":"Upload"}),e.jsx("button",{className:"button button-secondary px-3 border-0 text-muted",onClick:()=>F(L.id),children:e.jsx("i",{class:"fa-solid fa-trash"})})]})]}),e.jsxs("div",{className:"buttonlink d-flex w-100 gap-3",children:[e.jsxs("div",{className:"w-100 mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Button text "}),e.jsx("input",{type:"text",class:"form-control theme-control w-100",placeholder:"Button text",defaultValue:L.buttonText,onChange:Y=>_(Y.target.value,L.id)})]}),e.jsxs("div",{className:"w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2",children:"Link"}),e.jsx("input",{type:"text",class:"form-control theme-control w-100",placeholder:"Header",defaultValue:L.buttonLink,onChange:Y=>j(Y.target.value,L.id)})]})]})]})]})]})})})]},L.id)})),e.jsx("div",{})]})]}),e.jsx("ul",{className:"Footer_footer__bMDNk",children:e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{onClick:we,className:"button button-primary px-3 text-decoration-none",children:"Save"})})})]})}function _v({selecteScreen:c,setSelectScreen:m,formData:s,handleChangeLogo:x,setIsOpenFormModal:w}){var Se,_e,G,le,ae,ye,Te,Oe,Q,ne,ge,J,he,Ie,Ge,xe;const[P,p]=d.useState([]),[h,l]=d.useState({}),[a,n]=d.useState([]),[i,v]=d.useState({}),[b,g]=d.useState(!1),[N,u]=d.useState(!1),[_,j]=d.useState(""),{templateDetails:C}=bt(D=>D.DrawerReducer);console.log(s,"cehckTemplateDetailks");const z=wt(),[E,M]=d.useState({header:!1,buttonText:!1,finalResultHeader:!1,headerWordCount:!1,buttonTextWordCount:!1});d.useEffect(()=>{var Z,R;const D=(R=(Z=s==null?void 0:s.struct)==null?void 0:Z.form)==null?void 0:R.fields.map(ce=>ce.id);p(D)},[s]),console.log(P,"finalResult"),console.log(i.headerText,"leadformModel");const S=()=>{var Z;const D={buttonText:!h.buttonText,buttonTextWordCount:!F(h.buttonText),finalResultHeader:!((Z=i.headerText)!=null&&Z.trim()),finalResultHeaderWordCount:!F(i.headerText)};return M(D),!D.header&&!D.buttonText&&!D.finalResultHeader&&!D.headerWordCount&&!D.buttonTextWordCount&&!D.finalResultHeaderWordCount};console.log(E,"sqsqsqs");const F=D=>{if(console.log(D,"09485"),typeof D!="string")return!1;const Z=D.trim().replace(/\s+/g," "),R=Z.split(" ").length;return console.log(Z,"trimmed text"),console.log(R,"word count"),R<=20&&R>0};console.log(P,"checkedFields");const y=(D,Z,R)=>{const ce=D.target.checked;p(te=>ce?[...te,Z]:te.filter(me=>me!==Z)),n(te=>te.map(me=>me.id===Z?{...me,checked:ce}:me))},A=()=>{const D={id:Jt(),key:"new",type:"text",label:"New",isRequired:!0,initialValue:"New"};n(Z=>[...Z,D]),p(Z=>[...Z,D.id])};d.useEffect(()=>{As.length>0&&j({value:As[0].value,label:As[0].label})},[As]);const U=[...ti,...a],ee=(D,Z)=>{console.log(D,"checkokornot"),j(D),n(R=>R.map(ce=>ce.id===Z?{...ce,type:D==null?void 0:D.value}:ce))},oe=(D,Z)=>{n(R=>R.map(ce=>ce.id===Z?{...ce,initialValue:D,label:D,key:D}:ce))},we=D=>{const Z=D;l(R=>({...R,headerText:Z}))},$=D=>{const Z=D;l(R=>({...R,descriptionText:Z}))},L=D=>{const Z=D.trim();l(R=>({...R,buttonText:Z})),M(R=>({...R,buttonText:!1,buttonTextWordCount:!1})),console.log(Z,"Button Text"),S()},k=D=>{const Z=D;l(R=>({...R,linkPrivacyPolicyLink:Z}))},q=D=>{const Z=D;l(R=>({...R,addtionalText:Z}))},V=D=>{n(Z=>Z.filter(R=>R.id!==D))};console.log(E,"axaxaax");const Y=()=>{if(console.log("object"),S()){console.log("INELSLSSLL");const D={...C,project_structure:{...C.project_structure,pages:C.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===(s==null?void 0:s.id)?{...R,struct:{...R.struct,form:{...R.struct.form,...h},final:{...R.struct.final,...i}}}:R)}))}};console.log(D,"updatedData"),z(T(D)),w(!1)}else return},se=D=>{const Z={...C,project_structure:{...C.project_structure,pages:C.project_structure.pages.map(R=>({...R,blocks:R.blocks.map(ce=>ce.id===D?{...ce,struct:{...ce.struct,form:{...ce.struct.form,logoImage:""}}}:ce)}))}};z(T(Z))};console.log((Se=s==null?void 0:s.struct)==null?void 0:Se.form,"cehchccchformdTAaa"),d.useEffect(()=>{var D,Z;s&&(console.log(s==null?void 0:s.struct,"rerendereddddd"),v((D=s==null?void 0:s.struct)==null?void 0:D.final),l((Z=s==null?void 0:s.struct)==null?void 0:Z.form))},[s]),console.log(h,"kjijii");const Pe=[...ti,...a];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{className:"form-start",children:e.jsxs("div",{className:"optionsEditScreen",children:[e.jsxs("div",{className:`options-settings ${c==="start-screen"?"activeTab":""}`,role:"button",onClick:()=>m("start-screen"),children:[e.jsx("i",{class:"fa-solid fa-desktop"}),e.jsx("p",{children:"Form"})]}),e.jsxs("div",{className:`options-settings ${c==="quests"?"activeTab":""}`,role:"button",onClick:()=>m("final-screen"),children:[e.jsx("i",{class:"fa-solid fa-circle-question"}),e.jsx("p",{children:"Final Screen"})]})]})}),c==="start-screen"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{className:"form-left",children:e.jsxs("div",{className:"fields-output",children:[e.jsx("h4",{className:"mb-4",children:"Form fields"}),e.jsxs("div",{className:"formFieldsList",children:[e.jsx("div",{className:"row gy-3 gx-4 mb-3",children:U.map((D,Z)=>e.jsx("div",{className:"col-md-4 d-flex gap-2",children:e.jsxs("label",{htmlFor:`field-${D.id}`,className:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer mb-0",children:[e.jsx("input",{id:`field-${D.id}`,type:"checkbox",className:"form-check-input theme-control shadow-none m-0",checked:P.includes(D.id),onChange:R=>y(R,D.id)}),D.label]})},D.id))}),e.jsx("div",{className:"newFieldsArray",children:a.length>0&&a.map((D,Z)=>e.jsxs("div",{className:"fieldstype d-flex align-items-center justify-content-center mb-3",children:[e.jsxs("div",{className:"selectBox_input w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:"Field type"}),e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",defaultChecked:D.type,onChange:R=>ee(R,D.id),options:As,placeholder:"Select input type"},Z)]}),e.jsxs("div",{className:"input_field  w-100",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",children:["Field Name ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",className:"form-control theme-control",defaultValue:D.initialValue,onChange:R=>oe(R.target.value,D.id)})]}),e.jsxs("div",{className:"deleteField",children:[e.jsx("label",{htmlFor:"",className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:" "}),e.jsx("button",{className:"button button-secondary px-3 border-0",onClick:()=>V(D.id),children:e.jsx("i",{className:"fa-solid fa-trash text-danger"})})]})]}))}),e.jsx("div",{className:"addFieldsButton mb-4",children:e.jsxs("button",{onClick:A,className:"bg-transparent p-0 border-0 primary-text font-sm",children:[e.jsx("i",{className:"fa-solid fa-plus"})," Add field"]})}),e.jsxs("div",{className:"additionalInfo",children:[e.jsx("h4",{className:"mb-3",children:"Additional information"}),e.jsxs("div",{className:"addInfoDetails",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Logo"}),e.jsx("div",{className:"d-flex align-items-start",children:e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex gap-2",children:[((G=(_e=s==null?void 0:s.struct)==null?void 0:_e.form)==null?void 0:G.logoImage)&&e.jsx("img",{src:(ae=(le=s==null?void 0:s.struct)==null?void 0:le.form)==null?void 0:ae.logoImage,alt:"illustrationImage",className:"image_illustrate",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0",onClick:()=>x("formImage",s==null?void 0:s.id),children:(Te=(ye=s==null?void 0:s.struct)==null?void 0:ye.form)!=null&&Te.logoImage?"Change":"Upload"}),((Q=(Oe=s==null?void 0:s.struct)==null?void 0:Oe.form)==null?void 0:Q.logoImage)&&e.jsx("button",{className:"button button-secondary px-3 border-0 text-muted",onClick:()=>se(s.id),children:e.jsx("i",{class:"fa-solid fa-trash"})})]})})}),e.jsxs("div",{className:"fields_info",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",role:"button",children:"Header"}),e.jsx("input",{className:"form-control theme-control",type:"text",defaultValue:h==null?void 0:h.headerText,onChange:D=>we(D.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",role:"button",children:"Description"}),e.jsx("textarea",{className:"form-control theme-control",defaultValue:h==null?void 0:h.descriptionText,onChange:D=>$(D.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",role:"button",children:["Button text ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{className:`form-control theme-control ${E.buttonText||E.buttonTextWordCount?"is-invalid":""}`,defaultValue:h==null?void 0:h.buttonText,onChange:D=>L(D.target.value)}),E.buttonText&&e.jsx("div",{className:"invalid-feedback",children:"Button text is required."}),E.buttonTextWordCount&&e.jsx("div",{className:"invalid-feedback",children:"Must be No more than 20 characters ."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",role:"button",children:"Link to your privacy policy"}),e.jsx("input",{className:"form-control theme-control",defaultValue:h==null?void 0:h.linkPrivacyPolicyLink,onChange:D=>k(D.target.value)})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-1 cursor-pointer",role:"button",children:"Any additional notes"}),e.jsx("textarea",{className:"colorInput form-control theme-control",defaultValue:h==null?void 0:h.addtionalText,onChange:D=>q(D.target.value)})]})]})]}),e.jsx("div",{})]})]})]})}),e.jsxs("div",{className:"form-right scrollable-div border-start p-4",children:[e.jsx("h5",{children:"Approximate preview"}),console.log(i,"SSSS"),e.jsxs("div",{className:"formPreview",children:[((ge=(ne=s==null?void 0:s.struct)==null?void 0:ne.form)==null?void 0:ge.logoImage)&&e.jsx("img",{src:(he=(J=s==null?void 0:s.struct)==null?void 0:J.form)==null?void 0:he.logoImage,alt:"logo",className:"previewLogo"}),e.jsx("h4",{className:"text-center",children:h==null?void 0:h.headerText}),e.jsx("p",{className:"text-center",children:h==null?void 0:h.descriptionText}),e.jsx("div",{className:"fields-preview mb-4",children:P.length>0?P.map(D=>{const Z=Pe.find(R=>R.id===D);return Z?e.jsx("label",{className:"form-label font-sm w-100",role:"button",children:e.jsxs("div",{children:[Z.type!=="checkbox"&&e.jsx("p",{children:Z.label}),e.jsxs("div",{children:[Z.type==="checkbox"&&e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("input",{id:Z.id,type:"checkbox",className:"checkbox",checked:!0,readOnly:!0}),e.jsx("label",{htmlFor:Z.id,className:"m-1 user-select-none",role:"button",children:Z.label})]}),Z.type==="text_area"&&e.jsx("textarea",{className:"w-100 form-control"}),Z.type==="text"&&e.jsx("input",{className:"form-control theme-control",type:"text"}),Z.type==="email"&&e.jsx("input",{className:"form-control theme-control",type:"email"}),Z.type==="number"&&e.jsx("input",{className:"form-control theme-control",type:"number"})]})]})},Z.id):null}):e.jsx("p",{children:"No fields selected yet."})}),e.jsxs("div",{className:"submitpreview",children:[(h==null?void 0:h.linkPrivacyPolicyLink)&&e.jsxs("div",{className:"termsForm text-center",children:[e.jsx("input",{id:"terms",type:"checkbox"}),e.jsxs("label",{htmlFor:"terms",className:"ps-2",children:["I Agree with"," ",e.jsx(xn,{to:h==null?void 0:h.linkPrivacyPolicyLink,children:"Privacy Policy"})]})]}),(h==null?void 0:h.addtionalText)&&e.jsx("p",{children:h.addtionalText}),e.jsx("div",{className:"text-center m-2",children:e.jsx("button",{className:"btn py-2 w-50",style:{backgroundColor:`${((Ie=s==null?void 0:s.struct)==null?void 0:Ie.colorTheme)&&((Ge=s==null?void 0:s.struct)==null?void 0:Ge.colorTheme)}`,color:"#fff"},children:(h==null?void 0:h.buttonText)||"Submit"})})]})]})]})]})}),c==="final-screen"&&e.jsx(Ur,{setParentErros:M,finalResult:i,setfinalResult:v,setTriggerNext:u,setErrorScreen:g,parenterror:E,formData:s,questions:(xe=s==null?void 0:s.struct)==null?void 0:xe.questions,handleChangeImage:x})]})," ",e.jsx("ul",{className:"Footer_footer__bMDNk",children:e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{onClick:Y,className:"button button-primary px-3 text-decoration-none",children:"Save"})})})]})}const wv=Ts().shape({sectors:Oc().of(Ts().shape({text:Rt().required("Sector name is required"),probabilityOfWinning:Rt().required("Probability is required"),resultHeader:Rt().required("Header is required"),resultDescription:Rt()}))});function Cv({setIsOpenFormModal:c,setErrorScreen:m,formData:s,questions:x,handleChangeImage:w,formRef:P,setSubmitFn:p}){var M,S,F,y,A,U,ee,oe,we;bt($=>$.DrawerReducer),console.log((S=(M=s==null?void 0:s.struct)==null?void 0:M.playground)==null?void 0:S.cardType,"questionsquestionsquestions"),(y=(F=s==null?void 0:s.struct)==null?void 0:F.sections)==null||y.map($=>({text:$.text||"",probabilityOfWinning:$.probabilityOfWinning||"",resultHeader:$.resultHeader||"",resultDescription:$.resultDescription||"",description:$.description||"",imageUrl:$.imageUrl||""}));const{register:h,control:l,handleSubmit:a,formState:{errors:n}}=nr({defaultValues:{sectors:((A=s==null?void 0:s.struct)==null?void 0:A.sections)||[]},resolver:cr(wv)}),{fields:i}=Xf({control:l,name:"sectors"});console.log(i,"fields");const v=$=>{console.log("Submitted data:",$),c(!1)},[b,g]=d.useState(null),[N,u]=d.useState(!1),_=d.useRef(null),j=$=>{g($);const L=document.getElementById(`sector-${$}`);L&&L.scrollIntoView({behavior:"smooth",block:"start"})},C=()=>{const $=document.querySelectorAll(".questioncontent");let L=null;$.forEach((k,q)=>{const V=k.getBoundingClientRect();V.top>=0&&V.top<=window.innerHeight/2&&(L=q)}),L!==null&&L!==b&&g(L)},z=()=>{u($=>!$)};d.useEffect(()=>{p&&p(a(v))},[p,a]);const E=[{label:"Normal (50%)",value:"Normal (50%)"},{label:"Very High (75%)",value:"Very High (75%)"},{label:"High (60%)",value:"High (60%)"},{label:"Low (33%)",value:"Low (33%)"},{label:"Very Low (9%)",value:"Very Low (9%)"}];return wt(),console.log(s,"dfkjbfkjbfjkbfsfs"),console.log(n,"errrrr"),d.useEffect(()=>{const $=Object.keys(n).length>0;console.log(n,"Errors object"),console.log($,"Has any errors?"),m($)},[n,m,a]),d.useEffect(()=>{const $=_.current;if($)return $.addEventListener("scroll",C),()=>{$.removeEventListener("scroll",C)}},[b]),e.jsx(e.Fragment,{children:e.jsxs("div",{class:"d-flex w-100 gap-3 gap-md-0",children:[e.jsx("div",{class:"border-end scrollable-div result-list",children:e.jsxs("div",{className:"sidebarquestions",children:[e.jsx("h3",{children:"Sectors"}),((ee=(U=s==null?void 0:s.struct)==null?void 0:U.sections)==null?void 0:ee.length)!==0&&((we=(oe=s==null?void 0:s.struct)==null?void 0:oe.sections)==null?void 0:we.map(($,L)=>e.jsxs("div",{className:`questionSidebarList align-items-center ${b===L?"highlight":""}`,onClick:()=>j(L),children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:$.imageUrl||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsx("p",{className:"mb-0",children:`Sector ${L+1}`})]})))]})}),e.jsx("div",{ref:_,className:"w-100 scrollable-div p-4",children:i.map(($,L)=>{var k,q,V,Y,se,Pe,Se,_e,G,le,ae,ye,Te,Oe,Q,ne,ge,J,he,Ie,Ge,xe,D,Z,R,ce;return e.jsxs("div",{id:`sector-${L}`,className:`questioncontent mb-3 ${b===L?"highlight":""}`,style:{backgroundColor:b===L?"#f0f0f0":"transparent"},children:[e.jsx("div",{className:"questionTitle",children:e.jsxs("h5",{className:"mb-3",children:["Sector ",L+1]})}),console.log((k=s==null?void 0:s.struct)==null?void 0:k.playground,"oioioi"),e.jsx("div",{className:"questionData",children:((V=(q=s==null?void 0:s.struct)==null?void 0:q.playground)==null?void 0:V.sectionType)==="TEXT"?e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-12",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Sector name on the wheel"}),e.jsx("input",{type:"text",className:"form-control theme-control",...h(`sectors.${L}.text`),maxLength:60}),e.jsx("p",{className:"text-danger",children:(Pe=(se=(Y=n==null?void 0:n.sectors)==null?void 0:Y[L])==null?void 0:se.text)==null?void 0:Pe.message})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Probability of winning"}),e.jsx(Ua,{control:l,name:`sectors.${L}.probabilityOfWinning`,render:({field:te})=>e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",value:te.value?{label:te.value,value:te.value}:null,onChange:me=>te.onChange(me==null?void 0:me.value),options:E,placeholder:"no of cards"})}),e.jsx("p",{className:"text-danger",children:(G=(_e=(Se=n==null?void 0:n.sectors)==null?void 0:Se[L])==null?void 0:_e.probabilityOfWinning)==null?void 0:G.message})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Result page header"}),e.jsx("input",{type:"text",className:"form-control theme-control",...h(`sectors.${L}.resultHeader`)}),e.jsx("p",{className:"text-danger",children:(ye=(ae=(le=n==null?void 0:n.sectors)==null?void 0:le[L])==null?void 0:ae.resultHeader)==null?void 0:ye.message})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Result page Description"}),e.jsx("textarea",{className:"form-control theme-control",...h(`sectors.${L}.resultDescription`)})]})]}),e.jsx("div",{className:"seeOptions",children:e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Result image"}),e.jsx("div",{className:"d-flex align-items-start",children:e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex gap-2",children:[((Te=s==null?void 0:s.struct)==null?void 0:Te.playground.spinImageUrl)&&e.jsx("img",{src:(Oe=s==null?void 0:s.struct)==null?void 0:Oe.playground.spinImageUrl,alt:"illustrationImage",className:"image_illustrate",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0",onClick:()=>handleChangeLogo("spin-wheel-middle",s==null?void 0:s.id),children:(Q=s==null?void 0:s.struct)!=null&&Q.playground.spinImageUrl?"Change":"Upload"}),((ne=s==null?void 0:s.struct)==null?void 0:ne.playground.spinImageUrl)&&e.jsx("button",{className:"button button-secondary px-3 border-0 text-muted",onClick:()=>handleDeleteImage(s.id),children:e.jsx("i",{class:"fa-solid fa-trash"})}),e.jsx("div",{onClick:()=>z(),children:"More Option"})]})})}),console.log(N,"showoptions"),N&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Image disclaimer"}),e.jsx("textarea",{className:"form-control theme-control",...h(`sectors.${L}.imageDisclaimer`)})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Button text"}),e.jsx("textarea",{className:"form-control theme-control",...h(`sectors.${L}.buttonText`)})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Link"}),e.jsx("textarea",{className:"form-control theme-control",...h(`sectors.${L}.link`)})]})]})]})})]}):e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-2",children:e.jsxs("div",{className:"quest-cover border rounded-3 overflow-hidden w-100",children:[e.jsx("img",{src:$.imageUrl||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"Upload Icon",className:"w-100"}),e.jsx("label",{onClick:()=>w("card-image",s==null?void 0:s.id,$.id),role:"button",children:e.jsx("i",{className:"fa-solid fa-camera"})})]})}),e.jsx("div",{className:"col-md-10",children:e.jsxs("div",{className:"d-flex flex-column h-100",children:[e.jsx("label",{className:"form-label",children:"Description"}),e.jsx("textarea",{className:"form-control h-100",...h(`sectors.${L}.description`)})]})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Probability of winning"}),e.jsx(Ua,{control:l,name:`sectors.${L}.probabilityOfWinning`,render:({field:te})=>e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",value:te.value?{label:te.value,value:te.value}:null,onChange:me=>te.onChange(me==null?void 0:me.value),options:E,placeholder:"Select probability"})}),e.jsx("p",{className:"text-danger",children:(he=(J=(ge=n==null?void 0:n.sectors)==null?void 0:ge[L])==null?void 0:J.probabilityOfWinning)==null?void 0:he.message})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Result page header"}),e.jsx("input",{type:"text",className:"form-control theme-control",...h(`sectors.${L}.resultHeader`)}),e.jsx("p",{className:"text-danger",children:(xe=(Ge=(Ie=n==null?void 0:n.sectors)==null?void 0:Ie[L])==null?void 0:Ge.resultHeader)==null?void 0:xe.message})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Result page image Description"}),e.jsx("textarea",{className:"form-control theme-control",...h(`sectors.${L}.resultDescription`)})]}),e.jsx("div",{className:"seeOptions",children:e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Result image"}),e.jsx("div",{className:"d-flex align-items-start",children:e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex gap-2",children:[((D=s==null?void 0:s.struct)==null?void 0:D.playground.spinImageUrl)&&e.jsx("img",{src:(Z=s==null?void 0:s.struct)==null?void 0:Z.playground.spinImageUrl,alt:"illustrationImage",className:"image_illustrate",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0",onClick:()=>handleChangeLogo("spin-wheel-middle",s==null?void 0:s.id),children:(R=s==null?void 0:s.struct)!=null&&R.playground.spinImageUrl?"Change":"Upload"}),((ce=s==null?void 0:s.struct)==null?void 0:ce.playground.spinImageUrl)&&e.jsx("button",{className:"button button-secondary px-3 border-0 text-muted",onClick:()=>handleDeleteImage(s.id),children:e.jsx("i",{class:"fa-solid fa-trash"})}),e.jsx("div",{onClick:()=>z(),children:"More Option"})]})})}),console.log(N,"showoptions"),N&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Image disclaimer"}),e.jsx("textarea",{className:"form-control theme-control",...h(`sectors.${L}.imageDisclaimer`)})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Button text"}),e.jsx("textarea",{className:"form-control theme-control",...h(`sectors.${L}.buttonText`)})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Link"}),e.jsx("textarea",{className:"form-control theme-control",...h(`sectors.${L}.link`)})]})]})]})})]})})]},$.id)})})]})})}const yv=Ts().shape({animationDuration:qa().typeError("Animation duration must be a number").required("Animation duration is required").positive("Must be greater than 0"),sectionsCount:qa().typeError("Select number of sectors").required("Number of sectors is required"),isShowCover:rr(),coverHeader:Rt().when("isShowCover",{is:!0,then:()=>Rt().required("Cover header is required"),otherwise:()=>Rt().nullable()}),coverButtonText:Rt().when("isShowCover",{is:!0,then:()=>Rt().required("Cover button text is required"),otherwise:()=>Rt().nullable()})});function Sv({setIsOpenFormModal:c,selecteScreen:m,setSelectScreen:s,formData:x,handleChangeLogo:w}){var q,V,Y,se,Pe,Se,_e,G,le,ae,ye,Te,Oe,Q,ne,ge,J,he,Ie,Ge,xe,D,Z,R,ce,te,me,Lt,Pt;const P=nr({resolver:cr(yv),mode:"onSubmit",defaultValues:{animationDuration:((V=(q=x==null?void 0:x.struct)==null?void 0:q.playground)==null?void 0:V.animationDuration)||"",sectionsCount:((se=(Y=x==null?void 0:x.struct)==null?void 0:Y.playground)==null?void 0:se.sectionsCount)||"",sectionType:((Se=(Pe=x==null?void 0:x.struct)==null?void 0:Pe.playground)==null?void 0:Se.sectionType)||"",spinImageUrl:((G=(_e=x==null?void 0:x.struct)==null?void 0:_e.playground)==null?void 0:G.spinImageUrl)||"",isShowCover:((ae=(le=x==null?void 0:x.struct)==null?void 0:le.playground)==null?void 0:ae.isShowCover)||!1,coverHeader:((Te=(ye=x==null?void 0:x.struct)==null?void 0:ye.playground)==null?void 0:Te.coverHeader)||"",coverButtonText:((Q=(Oe=x==null?void 0:x.struct)==null?void 0:Oe.playground)==null?void 0:Q.coverButtonText)||""}}),{register:p,handleSubmit:h,setValue:l,getValues:a,watch:n,formState:{errors:i},trigger:v}=P;console.log(i,"errorserrors");const b=async Qe=>{y.current&&(console.log("TRIHGGEGEEGE"),y.current()),console.log("TERIGGERED",Qe);const ft=await v();if(console.log(ft,"ISDVAVAVA"),!ft){_(!0),console.warn("Parent form has errors");return}const xt=a();console.log("✅ Final values to save:",xt)};console.log(i,"ikoiooio");const[g,N]=d.useState({left:!1,right:!1}),[u,_]=d.useState(!1),[j,C]=d.useState({left:0,right:0}),[z,E]=d.useState(!1);console.log(u,"errorScreen"),console.log(u,"errorScreenerrorScreen"),d.useEffect(()=>{j.left>j.right?(N({left:!0,right:!1}),E(!0)):j.left<j.right?(N({left:!1,right:!0}),E(!0)):j.left===j.right&&(N({left:!1,right:!1}),E(!1))},[j]);const M=[{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"},{label:"8",value:"8"},{label:"9",value:"9"},{label:"10",value:"10"},{label:"11",value:"11"},{label:"12",value:"12"}],S=wt(),{templateDetails:F}=bt(Qe=>Qe.DrawerReducer),y=d.useRef(null),A=Qe=>{var _t;console.log(x==null?void 0:x.struct,"checkcardgherere");let ft=[...((_t=x==null?void 0:x.struct)==null?void 0:_t.sections)||[]];const xt=parseInt(Qe.value,10);if(ft.length>xt)ft=ft.slice(0,xt);else for(let De=ft.length;De<xt;De++)ft.push({id:Jt(),imageUrl:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",probabilityOfWinning:"NORMAL",resultButtonLink:"",resultButtonText:"",resultDescription:`Result ${De+1}`,resultHeader:"Congratulations!",resultImageDisclaimer:"",resultImageUrl:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",text:`Section ${De+1}`});const dt={...F,project_structure:{...F.project_structure,pages:F.project_structure.pages.map(De=>({...De,blocks:De.blocks.map(ut=>ut.id===(x==null?void 0:x.id)?{...ut,struct:{...ut.struct,sections:ft,playground:{...ut.struct.playground,sectionsCount:ft==null?void 0:ft.length}}}:ut)}))}};S(T(dt))},U=Qe=>{const ft={...F,project_structure:{...F.project_structure,pages:F.project_structure.pages.map(xt=>({...xt,blocks:xt.blocks.map(dt=>dt.id===(x==null?void 0:x.id)?{...dt,struct:{...dt.struct,playground:{...dt.struct.playground,isShowCover:Qe}}}:dt)}))}};S(T(ft))},ee=Qe=>{const ft={...F,project_structure:{...F.project_structure,pages:F.project_structure.pages.map(xt=>({...xt,blocks:xt.blocks.map(dt=>dt.id===(x==null?void 0:x.id)?{...dt,struct:{...dt.struct,playground:{...dt.struct.playground,sectionType:Qe}}}:dt)}))}};S(T(ft))},oe=Qe=>{const ft={...F,project_structure:{...F.project_structure,pages:F.project_structure.pages.map(xt=>({...xt,blocks:xt.blocks.map(dt=>dt.id===(x==null?void 0:x.id)?{...dt,struct:{...dt.struct,playground:{...dt.struct.playground,spinImageUrl:""}}}:dt)}))}};S(T(ft))},we=Qe=>{const ft={...F,project_structure:{...F.project_structure,pages:F.project_structure.pages.map(xt=>({...xt,blocks:xt.blocks.map(dt=>dt.id===(x==null?void 0:x.id)?{...dt,struct:{...dt.struct,playground:{...dt.struct.playground,animationDuration:Qe}}}:dt)}))}};S(T(ft))},$=Qe=>{const ft={...F,project_structure:{...F.project_structure,pages:F.project_structure.pages.map(xt=>({...xt,blocks:xt.blocks.map(dt=>dt.id===(x==null?void 0:x.id)?{...dt,struct:{...dt.struct,playground:{...dt.struct.playground,coverHeader:Qe}}}:dt)}))}};S(T(ft))},L=Qe=>{const ft={...F,project_structure:{...F.project_structure,pages:F.project_structure.pages.map(xt=>({...xt,blocks:xt.blocks.map(dt=>dt.id===(x==null?void 0:x.id)?{...dt,struct:{...dt.struct,playground:{...dt.struct.playground,coverButtonText:Qe}}}:dt)}))}};S(T(ft))};console.log(x==null?void 0:x.struct,"cehchccchformdTAaa");const k=async()=>{await v()?(s("quests"),console.log("No errors, proceeding to next step.")):(_(!0),console.log("There are errors, cannot proceed."))};return console.log("wdwd234234"),d.useEffect(()=>{console.log(i,"Form validation errors"),Object.keys(i).length>0&&_(!0)},[i]),e.jsxs(e.Fragment,{children:[console.log(m),e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{className:"form-start",children:e.jsxs("div",{className:"optionsEditScreen",children:[e.jsxs("div",{className:`options-settings ${m==="start-screen"?"activeTab":""}`,role:"button",onClick:()=>{Object.keys(i).length>0?_(!0):(s("start-screen"),_(!1))},children:[e.jsx("i",{class:"fa-solid fa-desktop"}),e.jsx("p",{children:"Layout"})]}),e.jsxs("div",{className:`options-settings ${m==="quests"?"activeTab":""}`,role:"button",onClick:()=>{Object.keys(i).length>0?_(!0):(s("quests"),_(!1))},children:[e.jsx("i",{class:"fa-solid fa-circle-question"}),e.jsx("p",{children:"Sectors"})]})]})}),m==="start-screen"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-left border-end",children:e.jsxs("div",{className:"fields-output",children:[e.jsx("label",{class:"toggle-container mb-4",children:"Layout"}),e.jsx("div",{className:"formFieldsList",children:e.jsx("div",{className:"additionalInfo",children:e.jsx(qc,{...P,children:e.jsx("form",{onSubmit:h(b),children:e.jsxs("div",{className:"fields_info",children:[e.jsxs("div",{className:"row g-3 mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Number of sectors"}),e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",value:n("sectionsCount")?{label:n("sectionsCount"),value:n("sectionsCount")}:null,options:M,onChange:Qe=>{A(Qe),l("sectionsCount",Qe.value)},placeholder:"no of cards"}),i.sectionsCount&&e.jsx("p",{className:"text-danger",children:i.sectionsCount.message})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"cardTypesection",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Sector type"}),e.jsxs("div",{className:"button___cardTYPE d-flex gap-2",children:[e.jsxs("button",{className:`btn selectypebutton w-100 ${((ne=x==null?void 0:x.struct)==null?void 0:ne.playground.sectionType)==="IMAGE"?"selected primary-text":""}`,onClick:()=>ee("IMAGE"),children:[e.jsx("i",{class:"fa-solid fa-image"})," Image"]}),e.jsxs("button",{className:`btn selectypebutton w-100 ${((ge=x==null?void 0:x.struct)==null?void 0:ge.playground.sectionType)==="TEXT"?"selected primary-text":""}`,onClick:()=>ee("TEXT"),children:[e.jsx("i",{class:"fa-solid fa-pen-to-square"})," Text"]})]})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Center pin image"}),e.jsx("div",{className:"d-flex align-items-start",children:e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex gap-2",children:[((J=x==null?void 0:x.struct)==null?void 0:J.playground.spinImageUrl)&&e.jsx("img",{src:(he=x==null?void 0:x.struct)==null?void 0:he.playground.spinImageUrl,alt:"illustrationImage",className:"image_illustrate",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0",onClick:()=>w("spin-wheel-middle",x==null?void 0:x.id),children:(Ie=x==null?void 0:x.struct)!=null&&Ie.playground.spinImageUrl?"Change":"Upload"}),((Ge=x==null?void 0:x.struct)==null?void 0:Ge.playground.spinImageUrl)&&e.jsx("button",{className:"button button-secondary px-3 border-0 text-muted",onClick:()=>oe(x.id),children:e.jsx("i",{class:"fa-solid fa-trash"})})]})})})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Animation time (sec)"}),e.jsx("input",{type:"number",className:"form-control theme-control",...p("animationDuration"),onChange:Qe=>we(Qe.target.value),placeholder:"Enter time",maxLength:"60"}),i.animationDuration&&e.jsx("p",{className:"text-danger",children:i.animationDuration.message})]}),e.jsxs("label",{className:"mt-3 d-flex align-items-center gap-2 font-sm fw-medium mb-0",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control m-0",role:"button",...p("isShowCover"),onChange:Qe=>U(Qe.target.checked),defaultChecked:(D=(xe=x==null?void 0:x.struct)==null?void 0:xe.playground)==null?void 0:D.isShowCover}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Show cover"})]}),((R=(Z=x==null?void 0:x.struct)==null?void 0:Z.playground)==null?void 0:R.isShowCover)&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Header"}),e.jsx("input",{type:"text",class:"form-control theme-control",id:"questName",...p("coverHeader"),maxlength:"60",defaultValue:(te=(ce=x==null?void 0:x.struct)==null?void 0:ce.playground)==null?void 0:te.coverHeader,onChange:Qe=>$(Qe.target.value),required:!0}),i.coverHeader&&e.jsx("p",{className:"text-danger",children:i.coverHeader.message})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Button text"}),e.jsx("input",{...p("coverButtonText"),type:"text",class:"form-control theme-control",id:"questName",maxlength:"60",defaultValue:(Lt=(me=x==null?void 0:x.struct)==null?void 0:me.playground)==null?void 0:Lt.coverButtonText,onChange:Qe=>L(Qe.target.value),required:!0}),i.coverButtonText&&e.jsx("p",{className:"text-danger",children:i.coverButtonText.message})]})]})]})})})})})]})}),e.jsxs("div",{className:"form-right scrollable-div",children:[e.jsx("h5",{children:"Approximate preview"}),e.jsx("div",{className:"formPreview cover_modal rankPreview",children:e.jsx(nj,{data:x})})]})]}),console.log(m,"selecteScreen"),m==="quests"&&e.jsx(Cv,{setIsOpenFormModal:c,setErrorScreen:_,setSubmitFn:Qe=>y.current=Qe,formData:x,questions:(Pt=x==null?void 0:x.struct)==null?void 0:Pt.questions,handleChangeImage:w})]}),e.jsxs("ul",{className:"Footer_footer__bMDNk",children:[m!=="results"&&e.jsx("li",{className:"Footer_footerItem__yaFNE",children:m!=="quests"&&e.jsx("button",{className:"button button-primary outline px-3",onClick:k,children:"Next"})}),e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{type:"submit",onClick:()=>h(b)(),className:"button button-primary px-3 text-decoration-none",children:"Save"})})]}),u&&e.jsxs("div",{className:"StopPanel_modalStop__Msu+K",children:[e.jsx("div",{className:"StopPanel_modalOverlay__1dGP2"}),e.jsxs("div",{className:"StopPanel_modalContent__8Epq4",children:[e.jsxs("div",{className:"StopPanel_note__c+Qou",children:[e.jsx("div",{className:"StopPanel_imageBox__2Udoo",children:e.jsx("img",{className:"StopPanel_image__2gtri",src:"https://account.interacty.me/static/media/girl.af105485362519d96dd6e5f1bc6da415.svg",alt:""})}),e.jsxs("div",{className:"StopPanel_textBox__stxYL",children:[e.jsx("h4",{className:"StopPanel_textTitle__T8v5c",children:"Oh! Need more information"}),e.jsx("p",{className:"StopPanel_textContent__2I+u6",children:"Please fill all required fields on this tab for the quiz to work correctly."})]})]}),e.jsx("div",{className:"StopPanel_buttons__cZz5n",children:e.jsx("button",{onClick:()=>{_(!1)},className:"button button-primary px-3 text-decoration-none",children:"Back"})})]})]})]})}function Tv({selecteScreen:c,setSelectScreen:m,formData:s,handleChangeLogo:x,setIsOpenFormModal:w}){var $,L,k,q,V,Y,se,Pe,Se,_e,G,le,ae,ye,Te,Oe;const[P,p]=d.useState({left:!1,right:!1}),[h,l]=d.useState({}),[a,n]=d.useState({header:!1,buttonText:!1,finalResultHeader:!1,headerWordCount:!1,buttonTextWordCount:!1}),[i,v]=d.useState({left:0,right:0}),[b,g]=d.useState(!1);d.useEffect(()=>{i.left>i.right?(p({left:!0,right:!1}),g(!0)):i.left<i.right?(p({left:!1,right:!0}),g(!0)):i.left===i.right&&(p({left:!1,right:!1}),g(!1))},[i]);const N=[{label:"2x2",value:"2"},{label:"4X4",value:"4"},{label:"6X6",value:"6"}],u=wt(),{templateDetails:_}=bt(Q=>Q.DrawerReducer),[j,C]=d.useState(!1),[z,E]=d.useState(!1),[M,S]=d.useState({});console.log(M,"finalResultfinalResult");const F=Q=>{console.log(s==null?void 0:s.struct,"checkcardgherere");const ne={..._,project_structure:{..._.project_structure,pages:_.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===(s==null?void 0:s.id)?{...J,struct:{...J.struct,playground:{...J.struct.playground,layout:{...J.struct.playground.layout,label:Q.label,value:Q.value}}}}:J)}))}};u(T(ne))},y=Q=>{const ne={..._,project_structure:{..._.project_structure,pages:_.project_structure.pages.map(ge=>({...ge,blocks:ge.blocks.map(J=>J.id===(s==null?void 0:s.id)?{...J,struct:{...J.struct,playground:{...J.struct.playground,isShowCover:Q}}}:J)}))}};u(T(ne))},A=Q=>{console.log(Q,"ikasasa");const ne=Q;n(ge=>{const J={...ge,header:!1};return console.log("Updated Errors in handler:",J),J}),l(ge=>({...ge,coverHeader:ne})),console.log(ne,"kjjiiji"),ee()},U=Q=>{const ne=Q;l(ge=>({...ge,coverButtonText:ne})),n(ge=>({...ge,buttonText:!1,buttonTextWordCount:!1})),ee()},ee=()=>{var ne,ge,J;const Q={header:!((ne=h.coverHeader)!=null&&ne.trim()),headerWordCount:!oe(h.coverHeader),buttonText:!((ge=h.coverButtonText)!=null&&ge.trim()),buttonTextWordCount:!oe(h.coverButtonText),finalResultHeader:!((J=M.header)!=null&&J.trim())};return n(Q),!Q.header&&!Q.buttonText&&!Q.finalResultHeader&&!Q.headerWordCount&&!Q.buttonTextWordCount&&!Q.finalResultHeaderWordCount};console.log(a,"sasasassas");const oe=Q=>{const ne=Q.trim().replace(/\s+/g," "),ge=ne.length;return console.log(ne,"trimmed text"),console.log(ge,"word count"),ge<=30},we=()=>{if(console.log("object"),ee()){const Q={..._,project_structure:{..._.project_structure,pages:_.project_structure.pages.map(ne=>({...ne,blocks:ne.blocks.map(ge=>ge.id===(s==null?void 0:s.id)?{...ge,struct:{...ge.struct,playground:{...ge.struct.playground,...h},finalScreen:{...ge.struct.finalScreen,...M}}}:ge)}))}};console.log(Q,"updatedData"),u(T(Q)),w(!1)}else return};return console.log(c,"cehchccchformdTAaa"),d.useEffect(()=>{var Q,ne;l((Q=s==null?void 0:s.struct)==null?void 0:Q.playground),S((ne=s==null?void 0:s.struct)==null?void 0:ne.finalScreen)},[s]),console.log(s==null?void 0:s.struct,"dssds"),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{className:"form-start",children:e.jsxs("div",{className:"optionsEditScreen",children:[e.jsxs("div",{className:`options-settings ${c==="start-screen"?"activeTab":""}`,role:"button",onClick:()=>m("start-screen"),children:[e.jsx("i",{class:"fa-solid fa-desktop"}),e.jsx("p",{children:"Layout"})]}),e.jsxs("div",{className:`options-settings ${c==="final-screen"?"activeTab":""}`,role:"button",onClick:()=>m("final-screen"),children:[e.jsx("i",{class:"fa-solid fa-circle-question"}),e.jsx("p",{children:"Final screen"})]})]})}),c==="start-screen"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-left border-end",children:e.jsxs("div",{className:"fields-output",children:[e.jsx("label",{class:"toggle-container mb-4",children:"Playground"}),e.jsx("div",{className:"formFieldsList",children:e.jsx("div",{className:"additionalInfo",children:e.jsxs("div",{className:"fields_info",children:[e.jsxs("div",{className:"row g-3 mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Layout"}),e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",defaultValue:(L=($=s==null?void 0:s.struct)==null?void 0:$.playground)!=null&&L.layout?{label:(V=(q=(k=s==null?void 0:s.struct)==null?void 0:k.playground)==null?void 0:q.layout)==null?void 0:V.label,value:(Pe=(se=(Y=s==null?void 0:s.struct)==null?void 0:Y.playground)==null?void 0:se.layout)==null?void 0:Pe.value}:null,options:N,onChange:Q=>F(Q),placeholder:"no of cards"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Image"}),e.jsx("div",{className:"d-flex align-items-start",children:e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex gap-2",children:[((Se=s==null?void 0:s.struct)==null?void 0:Se.playground.image)&&e.jsx("img",{src:(_e=s==null?void 0:s.struct)==null?void 0:_e.playground.image,alt:"illustrationImage",className:"image_illustrate",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0",onClick:()=>x("puzzle-image",s==null?void 0:s.id),children:(G=s==null?void 0:s.struct)!=null&&G.playground.image?"Change":"Upload"})]})})})]})})]}),e.jsxs("label",{className:"mt-3 d-flex align-items-center gap-2 font-sm fw-medium mb-0",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control m-0",role:"button",onChange:Q=>y(Q.target.checked),defaultChecked:(ae=(le=s==null?void 0:s.struct)==null?void 0:le.playground)==null?void 0:ae.isShowCover}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Show cover"})]}),((Te=(ye=s==null?void 0:s.struct)==null?void 0:ye.playground)==null?void 0:Te.isShowCover)&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:["Header ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-control theme-control ${a.header||a.headerWordCount?"is-invalid":""}`,id:"questName",maxLength:"60",value:h.coverHeader||"",onChange:Q=>A(Q.target.value),required:!0}),a.header&&e.jsx("div",{className:"invalid-feedback",children:"Header is required."}),console.log(a.headerWordCount,"vvvvv"),a.headerWordCount&&e.jsx("div",{className:"invalid-feedback",children:"Must be No more than 20 characters ."})]}),e.jsxs("div",{className:"",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:["Button text",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-control theme-control ${a.buttonText||a.buttonTextWordCount?"is-invalid":""}`,id:"buttonTextInput",maxLength:"60",value:h.coverButtonText||"",onChange:Q=>U(Q.target.value),required:!0}),a.buttonText&&e.jsx("div",{className:"invalid-feedback",children:"Button text is required."}),a.buttonTextWordCount&&e.jsx("div",{className:"invalid-feedback",children:"Must be No more than 20 characters ."})]})]})]})})})]})}),e.jsxs("div",{className:"form-right scrollable-div",children:[e.jsx("h5",{children:"Approximate preview"}),e.jsx("div",{className:"formPreview cover_modal rankPreview",children:e.jsx(Od,{approxValue:!0,data:s,finalResult:M,puzzle:h})})]})]}),c==="final-screen"&&e.jsx(Ur,{setParentErros:n,finalResult:M,parenterror:a,setfinalResult:S,setTriggerNext:E,setErrorScreen:C,formData:s,questions:(Oe=s==null?void 0:s.struct)==null?void 0:Oe.questions,handleChangeImage:x})]}),e.jsxs("ul",{className:"Footer_footer__bMDNk",children:[e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{className:"button button-primary outline px-3",onClick:"handleNext",children:"Next"})}),e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{onClick:we,className:"button button-primary px-3 text-decoration-none",children:"Save"})})]})]})}function Iv({formData:c,questions:m,handleChangeLogo:s,pairs:x,setPairs:w}){var u,_,j;const{templateDetails:P}=bt(C=>C.DrawerReducer);console.log(c,"questionsquestionsquestions");const[p,h]=d.useState(!1),[l,a]=d.useState({});console.log("textModalData",l),console.log(x,"pairspairs"),wt();const n=C=>{const z=C;w(E=>({...E,isShowFeedback:z}))},i=(C,z)=>{var E;a({tileId:z.id,imageType:C,[C]:{...z[C]},bgColor:((E=z[C])==null?void 0:E.bgColor)||"#fff"}),h(!0)},v=(C,z)=>{const E={...l,[z]:{...l[z],text:C}};a(E)},b=C=>{const z=l.imageType,E={...l,[z]:{...l[z],bgColor:C},bgColor:C};a(E)};console.log(l,"textModalData");const g=()=>{w(C=>({...C,pairList:C.pairList.map(z=>{var E;return z.id===l.tileId?{...z,[l.imageType]:{...z[l.imageType],text:(E=l==null?void 0:l[l.imageType])==null?void 0:E.text,bgColor:l.bgColor,cardType:"text"}}:z})})),h(!1)},N=(C,z)=>{w(E=>{var M;return{...E,pairList:(M=E==null?void 0:E.pairList)==null?void 0:M.map(S=>S.id===z?{...S,description:C}:S)}})};return console.log("templateDetailstemplateDetails",P),console.log(l,"textModalData"),console.log(x,"ppspsqksqkspqkspqkspkq"),e.jsxs(e.Fragment,{children:[e.jsx("div",{class:"d-flex w-100 gap-3 gap-md-0",children:e.jsx("div",{className:"w-100 p-4 scrollable-div",children:e.jsxs("div",{className:"questioncontent mb-3",children:[e.jsxs("div",{className:"titlequestions d-flex align-items-center justify-content-between",children:[e.jsx("div",{className:"questionTitle",children:e.jsx("h5",{className:"mb-3",children:"Pairs"})}),e.jsx("div",{className:"questionTitle",children:e.jsxs("div",{class:"form-check form-switch toogle-questionsbank m-0",children:[e.jsx("input",{class:"form-check-input",type:"checkbox",id:"useQuestionBank",onChange:C=>n(C.target.checked)}),e.jsx("label",{class:"form-check-label font-sm lh-1 text-muted",for:"useQuestionBank",children:"Show feedback for found pairs"})]})})]}),console.log(x,"09089809"),e.jsx("div",{className:"questionData",children:e.jsx("div",{class:"row g-4 mt-4",children:(x==null?void 0:x.pairList)&&((u=x.pairList)==null?void 0:u.map((C,z)=>e.jsx("div",{class:x!=null&&x.isShowFeedback?"col-md-12":"col-md-3",children:e.jsxs("div",{className:"d-flex gap-3",children:[e.jsxs("div",{className:"pairs_list_items",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:["Pair ",z+1]}),e.jsx("div",{className:"questioncontent",children:e.jsx("div",{className:"questionData",children:e.jsx("div",{class:"d-flex gap-3",children:e.jsx("div",{className:"",children:e.jsx("div",{className:"d-flex align-items-start gap-3",children:["firstImage","secondImage"].map(E=>e.jsxs("div",{className:"questionImageLabel quest-cover",style:{width:90,height:90,margin:0},children:[(()=>{const M=C[E],S=M==null?void 0:M.cardType;return S==="text"?e.jsxs("div",{className:"d-flex align-items-center justify-content-center text-center p-2 h-100 w-100",style:{backgroundColor:(M==null?void 0:M.bgColor)||"#fff",color:(M==null?void 0:M.bgColor)==="#fff"?"#000":"#fff",borderRadius:"8px"},children:[console.log(M==null?void 0:M.text,"data"),e.jsx("span",{className:"font-sm",children:M==null?void 0:M.text})]}):S==="image"?e.jsx("img",{src:M==null?void 0:M.src,alt:"Image",className:"w-100"}):S==="audio"?e.jsxs("audio",{controls:!0,className:"w-100",children:[e.jsx("source",{src:M==null?void 0:M.src,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):null})(),e.jsxs("div",{className:"icons_pairs d-flex align-items-center gap-1 mt-2",children:[e.jsx("label",{onClick:()=>i(E,C),role:"button",children:e.jsx("i",{className:"fa-solid fa-font",title:"Add Text"})}),e.jsx("label",{onClick:()=>s(`${E.replace("Image","")}-image`,c==null?void 0:c.id,C.id),role:"button",children:e.jsx("i",{className:"fa-solid fa-camera",title:"Add Image"})}),e.jsx("label",{onClick:()=>s(`${E.replace("Image","")}-audio`,c==null?void 0:c.id,C.id),role:"button",children:e.jsx("i",{className:"fa-solid fa-music",title:"Add Audio"})})]})]}))})})})})})]}),(x==null?void 0:x.isShowFeedback)&&e.jsxs("div",{className:"w-100",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Description"}),e.jsx("textarea",{className:"form-control theme-control resize-none",rows:"4",placeholder:"Enter your text",value:C.description||"",onChange:E=>N(E.target.value,C.id)})]})]})})))})})]})})}),console.log("sqsqq",l==null?void 0:l[l==null?void 0:l.imageType]),console.log(l,"ikikukuiikuykuk"),e.jsx(mr,{open:p,children:e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"mb-4",children:"Text on card"}),e.jsxs("div",{className:"content_textcard row g-4 mb-3",children:[e.jsx("div",{className:"col-8",children:e.jsxs("div",{children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Text on card"}),e.jsx("textarea",{className:"form-control theme-control resize-none",rows:"4",placeholder:"Enter your text",value:(_=l==null?void 0:l[l==null?void 0:l.imageType])==null?void 0:_.text,onChange:C=>v(C.target.value,l==null?void 0:l.imageType)}),e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Card color"}),e.jsxs("div",{className:"colors_text d-flex align-items-center gap-2 mt-3",children:[e.jsx("span",{className:"white",role:"button",onClick:()=>b("#fff"),style:{display:"flex",justifyContent:"center",alignItems:"center",width:"20px",height:"20px",backgroundColor:"#fff",borderRadius:"100%",border:"1px solid"},children:(l==null?void 0:l.bgColor)==="#fff"&&e.jsx("i",{className:"fa-solid fa-check",style:{color:"#000",fontSize:"14px"}})}),e.jsx("span",{className:"white",role:"button",style:{width:"20px",display:"flex",justifyContent:"center",alignItems:"center",height:"20px",backgroundColor:"rgb(105, 177, 252)",borderRadius:"100%"},onClick:()=>b("rgb(105, 177, 252)"),children:(l==null?void 0:l.bgColor)==="rgb(105, 177, 252)"&&e.jsx("i",{className:"fa-solid fa-check",style:{color:"#fff",fontSize:"14px"}})}),e.jsx("span",{className:"white",role:"button",style:{width:"20px",display:"flex",justifyContent:"center",alignItems:"center",height:"20px",backgroundColor:"rgb(101, 187, 90)",borderRadius:"100%"},onClick:()=>b("rgb(101, 187, 90)"),children:(l==null?void 0:l.bgColor)==="rgb(101, 187, 90)"&&e.jsx("i",{className:"fa-solid fa-check",style:{color:"#fff",fontSize:"14px"}})}),e.jsx("span",{className:"white",role:"button",style:{width:"20px",display:"flex",justifyContent:"center",alignItems:"center",height:"20px",backgroundColor:"rgb(255, 86, 86)",borderRadius:"100%"},onClick:()=>b("rgb(255, 86, 86)"),children:(l==null?void 0:l.bgColor)==="rgb(255, 86, 86)"&&e.jsx("i",{className:"fa-solid fa-check",style:{color:"#fff",fontSize:"14px"}})}),e.jsx("span",{className:"white",role:"button",style:{width:"20px",display:"flex",justifyContent:"center",alignItems:"center",height:"20px",backgroundColor:"rgb(255, 170, 44)",borderRadius:"100%"},onClick:()=>b("rgb(255, 170, 44)"),children:(l==null?void 0:l.bgColor)==="rgb(255, 170, 44)"&&e.jsx("i",{className:"fa-solid fa-check",style:{color:"#fff",fontSize:"14px"}})}),e.jsx("span",{className:"white",role:"button",style:{width:"20px",display:"flex",justifyContent:"center",alignItems:"center",height:"20px",backgroundColor:"rgb(134, 70, 156)",borderRadius:"100%"},onClick:()=>b("rgb(134, 70, 156)"),children:(l==null?void 0:l.bgColor)==="rgb(134, 70, 156)"&&e.jsx("i",{className:"fa-solid fa-check",style:{color:"#fff",fontSize:"14px"}})}),e.jsx("span",{className:"white",role:"button",style:{width:"20px",display:"flex",justifyContent:"center",alignItems:"center",height:"20px",backgroundColor:"rgb(0, 0, 0)",borderRadius:"100%"},onClick:()=>b("rgb(0, 0, 0)"),children:(l==null?void 0:l.bgColor)==="rgb(0, 0, 0)"&&e.jsx("i",{className:"fa-solid fa-check",style:{color:"#fff",fontSize:"14px"}})})]})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{class:"h-100 d-flex flex-column",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Approx view"}),e.jsx("div",{className:"viewdiv d-flex align-items-center justify-content-center h-100 rounded-3 text-center",style:{backgroundColor:l!=null&&l.bgColor?`${l==null?void 0:l.bgColor}`:"#f9f9f9",border:`1px solid ${l!=null&&l.bgColor?l==null?void 0:l.bgColor:"#ccc"}`,color:`${l!=null&&l.bgColor?(l==null?void 0:l.bgColor)==="#fff"?"#000":"#fff":"#000"}`},children:e.jsx("span",{children:(j=l==null?void 0:l[l==null?void 0:l.imageType])==null?void 0:j.text})})]})})]}),e.jsxs("div",{className:"text-end d-flex align-items-center gap-2 justify-content-end",children:[e.jsx("button",{onClick:()=>h(!1),className:"button button-secondary border-0",children:"Cancel"}),e.jsx("button",{onClick:()=>g(l.id),className:"button button-primary border-0",children:"Saveqssqs"})]})]})})]})}function hd({selecteScreen:c,setSelectScreen:m,formData:s,handleChangeLogo:x,setIsOpenFormModal:w}){var ee,oe,we,$,L,k,q,V;console.log(s,"checkfiormdqartasdvja");const P=[{label:"2x2",value:"2x2"},{label:"4x4",value:"4x4"},{label:"4X2",value:"4x2"},{label:"6X4",value:"6x4"}],p=wt(),{templateDetails:h}=bt(Y=>Y.DrawerReducer),[l,a]=d.useState({}),[n,i]=d.useState({}),[v,b]=d.useState({header:!1,buttonText:!1,finalResultHeader:!1,headerWordCount:!1,buttonTextWordCount:!1}),[g,N]=d.useState(!1),[u,_]=d.useState(!1),[j,C]=d.useState({}),z=Y=>{var le,ae;if(!(Y!=null&&Y.value)||!Y.value.includes("x"))return;const[se,Pe]=Y.value.toLowerCase().split("x").map(Number);if(isNaN(se)||isNaN(Pe))return;const _e=se*Pe/2;let G=[...((ae=(le=s==null?void 0:s.struct)==null?void 0:le.pairs)==null?void 0:ae.pairList)||[]];if(G.length>_e)G=G.slice(0,_e);else for(let ye=G.length;ye<_e;ye++)G.push({id:Jt(),description:"",firstImage:{src:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",cardType:"image"},secondImage:{src:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",cardType:"image"}});a(ye=>({...ye,cardLayout:{...ye==null?void 0:ye.cardLayout,label:Y.label,value:Y.value}})),i(ye=>({...ye,pairList:G}))};console.log(l,"sqsqsqsq"),console.log(n,"pairs");const E=Y=>{a(se=>({...se,cardProportions:Y})),console.log(l,"sqsqsqsq")},M=Y=>{const se=Y;console.log(se,"wddwd"),a(Pe=>({...Pe,isShowCover:se}))},S=Y=>{if(console.log(Y,"09485"),typeof Y!="string")return!1;const se=Y.trim().replace(/\s+/g," "),Pe=se.split(" ").length;return console.log(se,"trimmed text"),console.log(Pe,"word count"),Pe<=20&&Pe>0},F=()=>{var se;const Y={finalResultHeader:!((se=j.header)!=null&&se.trim()),finalResultHeaderWordCount:!S(j.header)};return console.log(j,"axaaxaaxaxaax33r3"),b(Y),!Y.finalResultHeader&&!(Y!=null&&Y.buttonTextWordCount)},y=Y=>{const se=Y;a(Pe=>({...Pe,coverHeader:se}))},A=Y=>{const se={...h,project_structure:{...h.project_structure,pages:h.project_structure.pages.map(Pe=>({...Pe,blocks:Pe.blocks.map(Se=>Se.id===(s==null?void 0:s.id)?{...Se,struct:{...Se.struct,playground:{...Se.struct.playground,coverButtonText:Y}}}:Se)}))}};p(T(se))};console.log((ee=s==null?void 0:s.struct)==null?void 0:ee.pairs,"chekcformDataokornot"),d.useEffect(()=>{var Y,se,Pe;a((Y=s==null?void 0:s.struct)==null?void 0:Y.playground),i((se=s==null?void 0:s.struct)==null?void 0:se.pairs),C((Pe=s==null?void 0:s.struct)==null?void 0:Pe.finalScreen)},[s]),console.log(j,"memoryData");const U=()=>{if(F()){console.log(n,"cjhsdjcbkjsdjksdsds");const Y={...h,project_structure:{...h.project_structure,pages:h.project_structure.pages.map(se=>({...se,blocks:se.blocks.map(Pe=>Pe.id===s.id?{...Pe,struct:{...Pe.struct,playground:l,pairs:{...Pe.struct.pairs,pairList:n.pairList},finalScreen:j}}:Pe)}))}};console.log(Y,"checkokoritijknjnupdatedData"),p(T(Y)),w(!1)}else return;console.log("Memory Data saved to Redux successfully 🚀")};return console.log(n,"pairspairspairs"),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{className:"form-start",children:e.jsxs("div",{className:"optionsEditScreen",children:[e.jsxs("div",{className:`options-settings ${c==="start-screen"?"activeTab":""}`,role:"button",onClick:()=>m("start-screen"),children:[e.jsx("i",{class:"fa-solid fa-desktop"}),e.jsx("p",{children:"Playground"})]}),e.jsxs("div",{className:`options-settings ${c==="pairs"?"activeTab":""}`,role:"button",onClick:()=>m("pairs"),children:[e.jsx("i",{class:"fa-solid fa-desktop"}),e.jsx("p",{children:"Pairs"})]}),e.jsxs("div",{className:`options-settings ${c==="final-screen"?"activeTab":""}`,role:"button",onClick:()=>m("final-screen"),children:[e.jsx("i",{class:"fa-solid fa-circle-question"}),e.jsx("p",{children:"Final screen"})]})]})}),c==="start-screen"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-left border-end",children:e.jsxs("div",{className:"fields-output",children:[e.jsx("label",{class:"toggle-container mb-4",children:"Playground"}),e.jsx("div",{className:"formFieldsList",children:e.jsx("div",{className:"additionalInfo",children:e.jsxs("div",{className:"fields_info",children:[e.jsxs("div",{className:"row g-3 mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Layout"}),e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",value:l!=null&&l.cardLayout?{label:(oe=l==null?void 0:l.cardLayout)==null?void 0:oe.label,value:(we=l==null?void 0:l.cardLayout)==null?void 0:we.value}:null,options:P,onChange:Y=>z(Y),placeholder:"no of cards"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Playing card back"}),e.jsx("div",{className:"d-flex align-items-start",children:e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex gap-2",children:[(($=s==null?void 0:s.struct)==null?void 0:$.playground.cardBackImage)&&e.jsx("img",{src:(L=s==null?void 0:s.struct)==null?void 0:L.playground.cardBackImage,alt:"illustrationImage",className:"image_illustrate",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0",onClick:()=>x("playing-card-back",s==null?void 0:s.id),children:(k=s==null?void 0:s.struct)!=null&&k.playground.image?"Change":"Upload"})]})})})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Card proportions"}),e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("button",{className:`btn btn-propertion ${(l==null?void 0:l.cardProportions)==="1/1"?"selctedProp":""}`,style:{aspectRatio:"1/1",height:"unset"},onClick:()=>E("1/1"),children:"1:1"}),e.jsx("button",{className:`btn btn-propertion ${(l==null?void 0:l.cardProportions)==="5/4"?"selctedProp":""}`,style:{aspectRatio:"5/4",height:"unset"},onClick:()=>E("5/4"),children:"5:4"}),e.jsx("button",{className:`btn btn-propertion ${(l==null?void 0:l.cardProportions)==="4/5"?"selctedProp":""}`,style:{aspectRatio:"4/5",height:"unset"},onClick:()=>E("4/5"),children:"4:5"})]})]})]}),e.jsxs("label",{className:"mt-3 d-flex align-items-center gap-2 font-sm fw-medium mb-0",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control m-0",role:"button",onChange:Y=>M(Y.target.checked),checked:l==null?void 0:l.isShowCover}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Show cover"})]}),(l==null?void 0:l.isShowCover)&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Header"}),e.jsx("input",{type:"text",class:"form-control theme-control",id:"questName",value:l==null?void 0:l.coverHeader,onChange:Y=>y(Y.target.value),required:!0})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Button text"}),e.jsx("input",{type:"text",class:"form-control theme-control",id:"questName",maxlength:"60",value:l==null?void 0:l.coverButtonText,onChange:Y=>A(Y.target.value),required:!0})]})]})]})})})]})}),e.jsxs("div",{className:"form-right scrollable-div",children:[e.jsx("h5",{children:"Approximate preview"}),e.jsx("div",{className:"formPreview cover_modal rankPreview",children:e.jsx(cj,{data:s,approxvalue:!1,memoryData:l})})]})]}),c==="pairs"&&e.jsx(Iv,{setPairs:i,pairs:n,formData:s,questions:(q=s==null?void 0:s.struct)==null?void 0:q.questions,handleChangeLogo:x}),c==="final-screen"&&e.jsx(Ur,{setParentErros:b,finalResult:j,setfinalResult:C,setTriggerNext:_,setErrorScreen:N,parenterror:v,formData:s,questions:(V=s==null?void 0:s.struct)==null?void 0:V.questions,handleChangeImage:x})]}),e.jsx("ul",{className:"Footer_footer__bMDNk",children:e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{onClick:U,className:"button button-primary px-3 text-decoration-none",children:"Save"})})})]})}function kv({formData:c,onRegisterSlideImageCallback:m,questions:s,pairData:x,setPairData:w,handleChangeLogo:P,selecteScreen:p}){var j,C,z,E,M;bt(S=>S.DrawerReducer),console.log(c,"questionsquestionsquestions");const[h,l]=d.useState(!1),[a,n]=d.useState({});console.log(x,"pairDatapairData"),wt();const i=S=>{w(F=>({...F,isLargeCards:S}))};console.log(p,"selecteScreen"),console.log(p,"selecteScreen");const v=(S,F)=>{n({tileId:F.id,imageType:S,[S]:{...F[S]}}),l(!0)};console.log(a==null?void 0:a.imageType,"textModalData?.imageTypetextModalData?.imageType");const b=(S,F)=>{const y={...a,[F]:{...a[F],text:S}};n(y)},g=S=>{const F=a.imageType;console.log(F,"ojoj");const y={...a,[F]:{...a[F],bgColor:S}};n(y)},N=()=>{const S=a.imageType;w(F=>({...F,pairList:F.pairList.map(y=>{var A,U;return y.id===a.tileId?{...y,[S]:{...y[S],text:((A=a==null?void 0:a[S])==null?void 0:A.text)||"",bgColor:((U=a==null?void 0:a[S])==null?void 0:U.bgColor)||"#ffffff",cardType:"text"}}:y})})),l(!1)};console.log("object",x);const u=()=>{const S={id:Jt(),firstImage:{src:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",text:"",bgColor:"#ffffff",cardType:"image"},description:"",secondImage:{src:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",text:"",bgColor:"#ffffff",cardType:"image"}};w(F=>({...F,pairList:[...F.pairList,S]}))},_=S=>{w(F=>({...F,pairList:F.pairList.filter(y=>y.id!==S)}))};return console.log(x,"aooduo"),d.useEffect(()=>{var S;(S=c==null?void 0:c.struct)!=null&&S.pairs&&w(c.struct.pairs)},[c]),e.jsxs(e.Fragment,{children:[e.jsx("div",{class:"d-flex w-100 gap-3 gap-md-0",children:e.jsx("div",{className:"w-100 p-4 scrollable-div d-flex flex-column",children:e.jsx("div",{style:{flexGrow:1},children:e.jsxs("div",{className:"questioncontent mb-3",children:[e.jsxs("div",{className:"titlequestions d-flex align-items-center justify-content-between",children:[e.jsx("div",{className:"questionTitle",children:e.jsx("h5",{className:"mb-3",children:"Pairs"})}),e.jsx("div",{className:"questionTitle",children:e.jsxs("div",{class:"form-check form-switch toogle-questionsbank",children:[e.jsx("input",{class:"form-check-input",type:"checkbox",id:"useQuestionBank",onChange:S=>i(S.target.checked),checked:x.isLargeCards}),e.jsx("label",{class:"form-check-label font-sm lh-1 text-muted",for:"useQuestionBank",children:"Large cards"}),e.jsx("button",{className:"button button-primary border-0 px-3 py-2 ms-2",onClick:()=>u(),children:"+ Add Pair"})]})})]}),e.jsx("div",{className:"questionData",children:e.jsx("div",{class:"row g-4 mt-4",children:(x==null?void 0:x.pairList)&&((j=x.pairList)==null?void 0:j.map((S,F)=>e.jsx("div",{class:"col-md-3",children:e.jsxs("div",{className:"pairs_list_items",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:e.jsxs("span",{children:["Pair ",F+1]})}),e.jsx("button",{type:"button",className:"btn button-secondary px-3 border-0 text-muted",onClick:()=>_(S.id),children:e.jsx("i",{class:"fa-solid fa-trash"})})]}),e.jsx("div",{className:"questioncontent",children:e.jsx("div",{className:"questionData",children:e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"d-flex align-items-start gap-3",children:["firstImage","secondImage"].map(y=>{const A=S[y],U=A==null?void 0:A.cardType;return e.jsxs("div",{className:"questionImageLabel quest-cover",style:{width:90,height:90,margin:0},children:[U==="text"?e.jsx("div",{className:"d-flex align-items-center justify-content-center text-center p-2 h-100 w-100",style:{backgroundColor:(A==null?void 0:A.bgColor)||"#ffffff",color:`${a!=null&&a.bgColor?(a==null?void 0:a.bgColor)==="#ffffff"?"#000":"#fff":"#000"}`,borderRadius:"8px"},children:e.jsx("span",{className:"font-sm",children:A==null?void 0:A.text})}):U==="image"?e.jsx("img",{src:A==null?void 0:A.src,alt:"Image",className:"w-100"}):U==="audio"?e.jsxs("audio",{controls:!0,className:"w-100",children:[e.jsx("source",{src:A==null?void 0:A.src,type:"audio/mpeg"}),"Your browser does not support the audio element."]}):null,e.jsxs("div",{className:"icons_pairs d-flex align-items-center gap-1 mt-2",children:[e.jsx("label",{onClick:()=>v(y,S),role:"button",children:e.jsx("i",{className:"fa-solid fa-font",title:"Add Text"})}),e.jsx("label",{onClick:()=>P(`${y.replace("Image","")}-image`,c==null?void 0:c.id,S.id),role:"button",children:e.jsx("i",{className:"fa-solid fa-camera",title:"Add Image"})}),e.jsx("label",{onClick:()=>P(`${y.replace("Image","")}-audio`,c==null?void 0:c.id,S.id),role:"button",children:e.jsx("i",{className:"fa-solid fa-music",title:"Add Audio"})})]})]},`${S.id}-${y}`)})})})})})]})})))})})]})})})}),console.log(a,"textModalData"),e.jsx(mr,{open:h,children:e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"mb-4",children:"Texxzaxat on card"}),e.jsxs("div",{className:"content_textcard row g-4 mb-3",children:[e.jsx("div",{className:"col-8",children:e.jsxs("div",{class:"",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Text on xaxacard"}),e.jsx("textarea",{class:"form-control theme-control mb-3",rows:"4",placeholder:"Enter your text",value:((C=a==null?void 0:a[a==null?void 0:a.imageType])==null?void 0:C.text)||"",onChange:S=>b(S.target.value,a==null?void 0:a.imageType)}),e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Card color"}),e.jsxs("div",{className:"colors_text d-flex gap-2 align-items-center mt-3",children:[e.jsx("span",{className:"white",role:"button",onClick:()=>g("#fff"),style:{display:"inline-block",width:"20px",height:"20px",backgroundColor:"#fff",borderRadius:"100%",border:"1px solid"}}),e.jsx("span",{className:"white",role:"button",style:{width:"20px",display:"inline-block",height:"20px",backgroundColor:"rgb(105, 177, 252)",borderRadius:"100%"},onClick:()=>g("rgb(105, 177, 252)")}),e.jsx("span",{className:"white",role:"button",style:{width:"20px",display:"inline-block",height:"20px",backgroundColor:"rgb(101, 187, 90)",borderRadius:"100%"},onClick:()=>g("rgb(101, 187, 90)")}),e.jsx("span",{className:"white",role:"button",style:{width:"20px",display:"inline-block",height:"20px",backgroundColor:"rgb(255, 86, 86)",borderRadius:"100%"},onClick:()=>g("rgb(255, 86, 86)")}),e.jsx("span",{className:"white",role:"button",style:{width:"20px",display:"inline-block",height:"20px",backgroundColor:"rgb(255, 170, 44)",borderRadius:"100%"},onClick:()=>g("rgb(255, 170, 44)")}),e.jsx("span",{className:"white",role:"button",style:{width:"20px",display:"inline-block",height:"20px",backgroundColor:"rgb(134, 70, 156)",borderRadius:"100%"},onClick:()=>g("rgb(134, 70, 156)")}),e.jsx("span",{className:"white",role:"button",style:{width:"20px",display:"inline-block",height:"20px",backgroundColor:"rgb(0, 0, 0)",borderRadius:"100%"},onClick:()=>g("rgb(0, 0, 0)")})]})]})}),e.jsxs("div",{className:"col-4",children:[console.log(a,"textModalData"),e.jsxs("div",{class:"h-100 d-flex flex-column",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center cursor-pointer",children:"Approx view"}),e.jsxs("div",{className:"viewdiv d-flex align-items-center justify-content-center h-100 rounded-3 text-center",style:{backgroundColor:`${(z=a==null?void 0:a[a==null?void 0:a.imageType])==null?void 0:z.bgColor}`,color:`${a!=null&&a.bgColor?(a==null?void 0:a.bgColor)==="#ffffff"?"#000":"#fff":"#000"}`},children:[console.log(a==null?void 0:a.bgColor,"textModalData?.bgColor"),e.jsx("span",{children:(E=a==null?void 0:a[a==null?void 0:a.imageType])==null?void 0:E.text})]})]})]})]}),e.jsxs("div",{className:"text-end d-flex align-items-center gap-2 justify-content-end",children:[e.jsx("button",{onClick:()=>l(!1),className:"button button-secondary border-0",children:"Cancel"}),e.jsx("button",{onClick:()=>N(a.id),className:"button button-primary border-0",children:"Save"})]})]})}),p==="final-screen"&&e.jsx(ResultScreen,{onRegisterSlideImageCallback:m,formData:c,questions:(M=c==null?void 0:c.struct)==null?void 0:M.questions,handleChangeImage:P})]})}function Lv({selecteScreen:c,setSelectScreen:m,formData:s,handleChangeLogo:x,setIsOpenFormModal:w,onRegisterSlideImageCallback:P}){var M,S,F;const{templateDetails:p}=bt(y=>y.DrawerReducer),[h,l]=d.useState({isLargeCards:!1,pairList:[]}),[a,n]=d.useState({}),[i,v]=d.useState(!1),[b,g]=d.useState(!1),[N,u]=d.useState({finalResultHeader:!1});console.log(N,"errorserrors");const _=wt();console.log(a,"finalResultfinalResult");const j=()=>{var A;const y={finalResultHeader:!((A=a.header)!=null&&A.trim())};return u(y),!y.finalResultHeader};console.log(s,"formData"),console.log(N,"sSSSSS");const C=()=>{if(!j()){console.log("Validation failed");return}const y={...p,project_structure:{...p.project_structure,pages:p.project_structure.pages.map(A=>({...A,blocks:A.blocks.map(U=>U.id===(s==null?void 0:s.id)?{...U,struct:{...U.struct,pairs:h,finalScreen:a}}:U)}))}};console.log(y,"✅ Updated data with pairData and finalResult"),_(T(y)),w(!1)},z=(y,A)=>{console.log(y,"slideId",A),n(U=>({...U,imageSrc:y}))},E=(y,A)=>{console.log(y,"slideId",A),n(U=>({...U,imageSrc:""}))};return console.log((M=s==null?void 0:s.struct)==null?void 0:M.finalScreen,"oioioioio"),d.useEffect(()=>{var y;s&&n((y=s==null?void 0:s.struct)==null?void 0:y.finalScreen)},[s]),d.useEffect(()=>{P&&P(z)},[]),d.useEffect(()=>{var y;(y=s==null?void 0:s.struct)!=null&&y.pairs&&l(s.struct.pairs)},[s]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{className:"form-start",children:e.jsxs("div",{className:"optionsEditScreen",children:[e.jsxs("div",{className:`options-settings ${c==="start-screen"?"activeTab":""}`,role:"button",onClick:()=>m("start-screen"),children:[e.jsx("i",{class:"fa-solid fa-desktop"}),e.jsx("p",{children:"Pairs"})]}),e.jsxs("div",{className:`options-settings ${c==="final-screen"?"activeTab":""}`,role:"button",onClick:()=>m("final-screen"),children:[e.jsx("i",{class:"fa-solid fa-circle-question"}),e.jsx("p",{children:"`Final` screen"})]})]})}),c==="start-screen"&&e.jsx(kv,{setPairData:l,pairData:h,selecteScreen:c,formData:s,questions:(S=s==null?void 0:s.struct)==null?void 0:S.questions,handleChangeLogo:x}),c==="final-screen"&&e.jsx(Ur,{handleDeleteImageResultForm:E,setParentErros:u,finalResult:a,setfinalResult:n,setTriggerNext:g,setErrorScreen:v,parenterror:N,formData:s,questions:(F=s==null?void 0:s.struct)==null?void 0:F.questions,handleChangeImage:x})]}),e.jsx("ul",{className:"Footer_footer__bMDNk",children:e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{onClick:C,className:"button button-primary px-3 text-decoration-none",children:"Save"})})})]})}function Rv({selecteScreen:c,setSelectScreen:m,formData:s,handleChangeLogo:x,setIsOpenFormModal:w}){var U,ee,oe,we,$,L,k,q,V,Y,se,Pe,Se,_e,G,le,ae,ye,Te,Oe,Q,ne,ge,J,he,Ie,Ge,xe;const P=[{label:"2x2",value:"4"},{label:"3X3",value:"9"},{label:"4X4",value:"16"}],p=[{label:"Number",value:"NUMBERS"},{label:"Image",value:"IMAGE"}],h=wt(),{templateDetails:l}=bt(D=>D.DrawerReducer),[a,n]=d.useState(!1),[i,v]=d.useState(!1);d.useState(""),d.useState("");const[b,g]=d.useState({}),[N,u]=d.useState({}),[_,j]=d.useState({header:!1,buttonText:!1,finalResultHeader:!1,headerWordCount:!1,buttonTextWordCount:!1}),C=()=>{var Z,R,ce;const D={header:!((Z=b.coverHeader)!=null&&Z.trim()),headerWordCount:!z(b.coverHeader),buttonText:!((R=b.coverButtonText)!=null&&R.trim()),buttonTextWordCount:!z(b.coverButtonText),finalResultHeader:!((ce=N.header)!=null&&ce.trim()),finalResultHeaderWordCount:!z(N.header)};return j(D),!D.header&&!D.buttonText&&!D.finalResultHeader&&!D.headerWordCount&&!D.buttonTextWordCount&&!D.finalResultHeaderWordCount},z=D=>{const Z=D.trim().replace(/\s+/g," "),R=Z.length;return console.log(Z,"trimmed text"),console.log(R,"word count"),R<=20};console.log(z,"ioioi"),console.log(s,"formDataformData");const E=D=>{console.log(s==null?void 0:s.struct,"checkcardgherere"),console.log(D,"checkvaluess");const Z={...l,project_structure:{...l.project_structure,pages:l.project_structure.pages.map(R=>({...R,blocks:R.blocks.map(ce=>ce.id===(s==null?void 0:s.id)?{...ce,struct:{...ce.struct,playground:{...ce.struct.playground,layout:{...ce.struct.playground.layout,label:D.label,value:D.value},tilesCount:D.value}}}:ce)}))}};h(T(Z))};console.log(b,"slidingpuzzleslidingpuzzle"),console.log(z("   Hello World   "),"Test 1"),console.log(z("Hello World"),"Test 2"),console.log(z("Hello"),"Test 3"),console.log(z("    "),"Test 4"),console.log(z("   wdwdw "),"Test 5"),console.log(z("sqqsq"),"Test 6");const M=D=>{const Z={...l,project_structure:{...l.project_structure,pages:l.project_structure.pages.map(R=>({...R,blocks:R.blocks.map(ce=>ce.id===(s==null?void 0:s.id)?{...ce,struct:{...ce.struct,playground:{...ce.struct.playground,gameType:D.value}}}:ce)}))}};h(T(Z))};console.log(b,"4535345");const S=D=>{const Z={...l,project_structure:{...l.project_structure,pages:l.project_structure.pages.map(R=>({...R,blocks:R.blocks.map(ce=>ce.id===(s==null?void 0:s.id)?{...ce,struct:{...ce.struct,playground:{...ce.struct.playground,isShowCover:D}}}:ce)}))}};h(T(Z))},F=D=>{console.log(D,"ikasasa");const Z=D;j(R=>{const ce={...R,header:!1};return console.log("Updated Errors in handler:",ce),ce}),g(R=>({...R,coverHeader:Z})),C()};console.log(_,"sqqsq");const y=D=>{const Z=D;g(R=>({...R,coverButtonText:Z})),j(R=>({...R,buttonText:!1,buttonTextWordCount:!1})),C()};console.log(_,"object"),console.log((U=s==null?void 0:s.struct)==null?void 0:U.playground,"checkformDataokornokt");const A=()=>{if(console.log("object"),C()){const D={...l,project_structure:{...l.project_structure,pages:l.project_structure.pages.map(Z=>({...Z,blocks:Z.blocks.map(R=>R.id===(s==null?void 0:s.id)?{...R,struct:{...R.struct,playground:{...R.struct.playground,...b},final:{...R.struct.final,...N}}}:R)}))}};console.log(D,"updatedData"),h(T(D)),w(!1)}else return};return d.useEffect(()=>{var D,Z;g((D=s==null?void 0:s.struct)==null?void 0:D.playground),u((Z=s==null?void 0:s.struct)==null?void 0:Z.final)},[s]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{className:"form-start",children:e.jsxs("div",{className:"optionsEditScreen",children:[e.jsxs("div",{className:`options-settings ${c==="start-screen"?"activeTab":""}`,role:"button",onClick:()=>m("start-screen"),children:[e.jsx("i",{class:"fa-solid fa-desktop"}),e.jsx("p",{children:"Layout"})]}),e.jsxs("div",{className:`options-settings ${c==="final-screen"?"activeTab":""}`,role:"button",onClick:()=>m("final-screen"),children:[e.jsx("i",{class:"fa-solid fa-circle-question"}),e.jsx("p",{children:"Final screen"})]})]})}),console.log((ee=s==null?void 0:s.struct)==null?void 0:ee.playground,"ioiioio"),c==="start-screen"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-left border-end",children:e.jsxs("div",{className:"fields-output",children:[e.jsx("label",{class:"toggle-container mb-4",children:"Playground"}),e.jsx("div",{className:"formFieldsList",children:e.jsx("div",{className:"additionalInfo",children:e.jsxs("div",{className:"fields_info",children:[e.jsxs("div",{className:"row g-3 mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Game type"}),e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",defaultValue:(we=(oe=s==null?void 0:s.struct)==null?void 0:oe.playground)!=null&&we.layout?{label:(k=(L=($=s==null?void 0:s.struct)==null?void 0:$.playground)==null?void 0:L.gameType)==null?void 0:k.toLowerCase(),value:(V=(q=s==null?void 0:s.struct)==null?void 0:q.playground)==null?void 0:V.gameType}:null,options:p,onChange:D=>M(D),placeholder:"Game type"})]})}),((se=(Y=s==null?void 0:s.struct)==null?void 0:Y.playground)==null?void 0:se.gameType.toUpperCase())!=="NUMBERS"&&e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Image"}),e.jsx("div",{className:"d-flex align-items-start",children:e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"d-flex gap-2",children:[((Pe=s==null?void 0:s.struct)==null?void 0:Pe.playground.image)&&e.jsx("img",{src:(Se=s==null?void 0:s.struct)==null?void 0:Se.playground.image,alt:"illustrationImage",className:"image_illustrate",style:{height:44,width:44,borderRadius:8,objectFit:"cover"}}),e.jsx("button",{className:"button button-primary border-0",onClick:()=>x("sliding-puzzle-image",s==null?void 0:s.id),children:(_e=s==null?void 0:s.struct)!=null&&_e.playground.image?"Change":"Upload"})]})})})]})}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Layout"}),e.jsx(bs,{className:"theme-select",classNamePrefix:"react-select",defaultValue:(le=(G=s==null?void 0:s.struct)==null?void 0:G.playground)!=null&&le.layout?{label:(Te=(ye=(ae=s==null?void 0:s.struct)==null?void 0:ae.playground)==null?void 0:ye.layout)==null?void 0:Te.label,value:(ne=(Q=(Oe=s==null?void 0:s.struct)==null?void 0:Oe.playground)==null?void 0:Q.layout)==null?void 0:ne.value}:null,options:P,onChange:D=>E(D),placeholder:"no of cards"})]})]}),e.jsxs("label",{className:"mt-3 d-flex align-items-center gap-2 font-sm fw-medium mb-0",children:[e.jsx("input",{type:"checkbox",className:"form-check-input theme-control m-0",role:"button",onChange:D=>S(D.target.checked),defaultChecked:(J=(ge=s==null?void 0:s.struct)==null?void 0:ge.playground)==null?void 0:J.isShowCover}),e.jsx("span",{className:"d-flex align-items-center gap-2",children:"Show cover"})]}),((Ie=(he=s==null?void 0:s.struct)==null?void 0:he.playground)==null?void 0:Ie.isShowCover)&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:["Header ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-control theme-control ${_.header||_.headerWordCount?"is-invalid":""}`,id:"questName",maxLength:"60",value:b.coverHeader||"",onChange:D=>F(D.target.value),required:!0}),_.header&&e.jsx("div",{className:"invalid-feedback",children:"Header is required."}),console.log(_.headerWordCount,"vvvvv"),_.headerWordCount&&e.jsx("div",{className:"invalid-feedback",children:"Must be No more than 20 characters ."})]}),e.jsxs("div",{className:"",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:["Button text",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",className:`form-control theme-control ${_.buttonText||_.buttonTextWordCount?"is-invalid":""}`,id:"buttonTextInput",maxLength:"60",value:b.coverButtonText||"",onChange:D=>y(D.target.value),required:!0}),_.buttonText&&e.jsx("div",{className:"invalid-feedback",children:"Button text is required."}),_.buttonTextWordCount&&e.jsx("div",{className:"invalid-feedback",children:"Must be No more than 20 characters ."})]})]})]})})})]})}),e.jsxs("div",{className:"form-right scrollable-div",children:[e.jsx("h5",{children:"Approximate preview"}),e.jsx("div",{className:"formPreview cover_modal rankPreview",children:e.jsx(oj,{data:s,slidingpuzzle:b})})]})]}),console.log((Ge=s==null?void 0:s.struct)==null?void 0:Ge.final,"formDataformData"),c==="final-screen"&&e.jsx(Ur,{finalResult:N,setParentErros:j,setfinalResult:u,parenterror:_,slidingpuzzle:b,setErrorScreen:n,setTriggerNext:v,formData:s,questions:(xe=s==null?void 0:s.struct)==null?void 0:xe.questions,handleChangeImage:x})]}),e.jsxs("ul",{className:"Footer_footer__bMDNk",children:[e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{className:"button button-primary outline px-3",onClick:"handleNext",children:"Next"})}),e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{onClick:A,className:"button button-primary px-3 text-decoration-none",children:"Save"})})]})]})}function Ev({formData:c,errors:m,questions:s,handleChangeImage:x,personalityquizquestion:w,setPersonalityQuizQuestion:P}){bt(u=>u.DrawerReducer),console.log(s,"questionsquestionsquestions"),wt();const p=()=>{const u={id:Jt(),text:"",image:"",isText:!0,answers:[{id:Jt(),text:"tess",image:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",isCorrect:!0,imageLabel:"",description:"",imageDescription:""},{id:Jt(),text:"",image:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",isCorrect:!1,imageLabel:"",description:"",imageDescription:""}],imageDisclaimer:""};P(_=>[..._,u])},h=u=>{P(_=>_.filter(j=>j.id!==u))},l=(u,_)=>{P(j=>j.map(C=>C.id===_?{...C,text:u}:C))},a=(u,_)=>{const j=u==="text";P(C=>C.map(z=>z.id===_?{...z,isText:j}:z))},n=(u,_)=>{P(j=>j.map(C=>C.id===_?{...C,imageDescription:u}:C))},i=(u,_)=>{P(j=>j.map(C=>C.id===u?{...C,answers:C.answers.filter(z=>z.id!==_)}:C))},v=(u,_,j)=>{P(C=>C.map(z=>z.id===_?{...z,answers:z.answers.map(E=>E.id===j?{...E,text:u}:E)}:z))},b=u=>{console.log(u,"saasasaa");const _={id:Jt(),text:"Answer text",isCorrect:!1,imageLabel:"",description:"",imageDescription:"",image:""};P(j=>j.map(C=>C.id===u?{...C,answers:[...C.answers,_]}:C))},g=u=>{P(_=>_.map(j=>j.id===u?{...j,image:""}:j))},N=u=>{const j={...w.find(C=>C.id===u),id:Jt()};P(C=>[...C,j])};return console.log("personalityquizquestion",w),e.jsx(e.Fragment,{children:e.jsxs("div",{class:"d-flex w-100 gap-3 gap-md-0",children:[e.jsx("div",{class:"border-end scrollable-div",children:e.jsxs("div",{className:"sidebarquestions questioncol",children:[w&&(w==null?void 0:w.map((u,_)=>e.jsxs("div",{className:"questionSidebarList align-items-center",children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:u.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsx("p",{className:"mb-0",children:`Question ${_+1}`})]}))),e.jsx("div",{className:"button_addNewquestion",children:e.jsxs("button",{className:"btn button_boost p-0",onClick:()=>p(),children:[e.jsx("i",{class:"fa-solid fa-plus"})," Add New"]})})]})}),e.jsx("div",{className:"w-100 scrollable-div p-4",children:w&&(w==null?void 0:w.map((u,_)=>{var j,C,z;return e.jsxs("div",{className:"questioncontent",children:[e.jsxs("div",{className:"titlequestions d-flex align-items-center justify-content-between",children:[e.jsx("div",{className:"questionTitle",children:e.jsxs("h4",{children:["Question ",_+1]})}),e.jsxs("div",{className:"questionTitle d-flex align-items-center gap-2",children:[e.jsx("button",{onClick:()=>N(u.id),className:"button sm button-secondary px-3 border-0 font-sm",children:e.jsx("i",{class:"fa-solid fa-clone"})}),console.log(s==null?void 0:s.length,"questions?.length"),(w==null?void 0:w.length)>1&&e.jsx("button",{className:"button sm button-secondary px-3 bg-danger text-white border-0 font-sm",onClick:()=>h(u.id),children:e.jsx("i",{class:"fa-solid fa-trash"})})]})]}),e.jsxs("div",{className:"questionData",children:[e.jsxs("div",{class:"mb-3",children:[e.jsxs("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:["Question text ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("textarea",{class:"form-control theme-control",rows:"4",placeholder:"Enter your text",defaultValue:u.text,onChange:E=>l(E.target.value,u.id)}),((C=(j=m==null?void 0:m.questions)==null?void 0:j[_])==null?void 0:C.text)&&e.jsx("p",{className:"text-danger font-sm mt-1",children:m.questions[_].text})]}),e.jsxs("div",{class:"mb-3 d-flex align-items-start gap-3",children:[e.jsxs("div",{className:"",children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Question image"}),e.jsxs("div",{class:"d-flex align-items-start",children:[e.jsx("div",{className:"questionImageLabel",children:e.jsx("img",{src:u.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsx("button",{class:"button button-primary border-0 me-2 font-sm",onClick:()=>x("question-image",c==null?void 0:c.id,u.id),children:"Upload"}),e.jsx("button",{class:"button button-secondary px-3 border-0 font-sm",onClick:()=>g(u.id),children:e.jsx("i",{class:"fa-solid fa-trash"})})]})]}),e.jsxs("div",{className:"w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Image disclaimer"}),e.jsx("input",{type:"text",class:"form-control theme-control",placeholder:"Image disclaimer",defaultValue:u.imageDisclaimer,onChange:E=>n(E.target.value,u.id)}),e.jsxs("div",{className:"textImageOptions d-flex gap-1 mt-3",children:[e.jsxs("button",{htmlFor:`question${_}`,className:`button button-primary sm font-sm py-2 border-0 ${u.isText?"selected":"outline"}`,onClick:()=>a("text",u.id),children:[e.jsx("i",{class:"fa-solid fa-bars"})," Text"]}),e.jsxs("button",{className:`button button-primary sm font-sm py-2 border-0 ${u.isText===!1?"selected":"outline"}`,onClick:()=>a("images",u.id),children:[e.jsx("i",{class:"fa-regular fa-image"})," Images"]})]})]})]}),e.jsxs("div",{className:"answers_content",children:[(z=u==null?void 0:u.answers)==null?void 0:z.map((E,M)=>{var S,F,y,A;return e.jsx("div",{className:"contentAnswer",children:e.jsxs("div",{class:"mb-4",children:[e.jsxs("div",{className:"d-flex justify-content-between gap-2",children:[e.jsxs("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:["Answer ",M+1," ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsxs("div",{className:"d-flex align-items-center gap-3 mb-4",children:[e.jsx("p",{className:"mb-0",children:"Link to result: 1"}),e.jsx("i",{className:"fa-solid fa-trash",role:"button",onClick:()=>i(u.id,E.id)})]})]}),e.jsxs("div",{class:"d-flex align-items-center mb-3",children:[(u==null?void 0:u.isText)===!1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"questionImageLabel ",children:e.jsx("img",{src:E.image||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1738148606/project-thumb_laxubz.png",alt:"question-image",className:""})}),e.jsx("button",{class:"button button-primary font-sm border-0 me-2",onClick:()=>x("answer-image",c==null?void 0:c.id,u.id,E.id),children:"Upload"})]}),e.jsx("input",{type:"text",class:"form-control theme-control me-2",placeholder:"Enter answer...",defaultValue:E==null?void 0:E.text,onChange:U=>v(U.target.value,u.id,E.id)}),((A=(y=(F=(S=m==null?void 0:m.questions)==null?void 0:S[M])==null?void 0:F.answers)==null?void 0:y[M])==null?void 0:A.text)&&e.jsx("p",{className:"text-danger font-sm mt-1",children:m.questions[M].answers[M].text})]})]})})}),e.jsx("div",{children:e.jsxs("button",{className:"btn button_boost",onClick:()=>b(u.id),children:[e.jsx("i",{class:"fa-solid fa-plus"})," Add answer"]})})]})]})]})}))})]})})}function Av({selecteScreen:c,setSelectScreen:m,formData:s,handleChangeLogo:x,setIsOpenFormModal:w}){var U,ee,oe,we,$,L,k,q,V;const P=wt(),{templateDetails:p}=bt(Y=>Y.DrawerReducer),[h,l]=d.useState({header:!1,buttonText:!1,finalResultHeader:!1,headerWordCount:!1,buttonTextWordCount:!1}),[a,n]=d.useState({}),[i,v]=d.useState([]),[b,g]=d.useState([]),[N,u]=d.useState(!1),[_,j]=d.useState(!1),C=Y=>{n(se=>({...se,header:Y}))};console.log(a,"personalityquizpersonalityquiz");const z=Y=>{n(se=>({...se,description:Y}))},E=Y=>{n(se=>({...se,buttonText:Y}))},M=Y=>{n(se=>({...se,imageDisclaimer:Y}))},S=Y=>{if(console.log(Y,"09485"),typeof Y!="string")return!1;const se=Y.trim().replace(/\s+/g," "),Pe=se.split(" ").length;return console.log(se,"trimmed text"),console.log(Pe,"word count"),Pe<=20&&Pe>0},F=()=>{var le,ae;const Y=i.map(ye=>{var Q,ne;const Te={};(Q=ye.text)!=null&&Q.trim()||(Te.text="Question text is required");const Oe=((ne=ye.answers)==null?void 0:ne.map(ge=>{var he;const J={};return(he=ge.text)!=null&&he.trim()||(J.text="Answer text is required"),J}))||[];return Te.answers=Oe,Te}),se=Y.some(ye=>{var Te;return ye.text||((Te=ye.answers)==null?void 0:Te.some(Oe=>Oe.text))}),Pe=b.map(ye=>{var Oe;const Te={};return(Oe=ye.header)!=null&&Oe.trim()?S(ye.header)||(Te.header="Header exceeds allowed word count"):Te.header="Header can't be empty",Te}),Se=Pe.some(ye=>Object.keys(ye).length>0),_e={};return(le=a==null?void 0:a.header)!=null&&le.trim()||(_e.header="Header is required"),(ae=a==null?void 0:a.buttonText)!=null&&ae.trim()||(_e.buttonText="Button text is required"),l({questions:Y,results:Pe,personalityquiz:_e}),!se&&!Se&&!_e.header&&!_e.buttonText};console.log(h,"sopaispa");const y=Y=>{n(se=>({...se,isShowCover:Y})),console.log(a,"PEPPPEPPPE")},A=()=>{if(console.log("Saving PersonalityQuiz..."),!F())return;const Y={...p,project_structure:{...p.project_structure,pages:p.project_structure.pages.map(se=>({...se,blocks:se.blocks.map(Pe=>Pe.id===(s==null?void 0:s.id)?{...Pe,struct:{...Pe.struct,cover:a,questions:i,results:b}}:Pe)}))}};console.log("Dispatching updated data",Y),P(T(Y)),w(!1)};return console.log(h,"6565",b),console.log(s,"asapasas"),d.useEffect(()=>{var Y,se,Pe;n((Y=s==null?void 0:s.struct)==null?void 0:Y.cover),v((se=s==null?void 0:s.struct)==null?void 0:se.questions),g((Pe=s==null?void 0:s.struct)==null?void 0:Pe.results)},[s]),e.jsxs(e.Fragment,{children:[" ",e.jsxs("div",{className:"form-option-wrap",children:[e.jsx("div",{className:"form-start",children:e.jsxs("div",{className:"optionsEditScreen",children:[e.jsxs("div",{className:`options-settings ${c==="start-screen"?"activeTab":""}`,role:"button",onClick:()=>m("start-screen"),children:[e.jsx("i",{class:"fa-solid fa-desktop"}),e.jsx("p",{children:"Start Screen"})]}),e.jsxs("div",{className:`options-settings ${c==="questions"?"activeTab":""}`,role:"button",onClick:()=>m("questions"),children:[e.jsx("i",{class:"fa-solid fa-circle-question"}),e.jsx("p",{children:"Questions"})]}),e.jsxs("div",{className:`options-settings ${c==="results"?"activeTab":""}`,role:"button",onClick:()=>m("results"),children:[e.jsx("i",{class:"fa-solid fa-square-poll-horizontal"}),e.jsx("p",{children:"Results"})]})]})}),c==="start-screen"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-left",children:e.jsxs("div",{className:"fields-output",children:[e.jsxs("label",{class:"toggle-container d-flex align-items-center mb-4",children:["Start screen",e.jsxs("label",{class:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a==null?void 0:a.isShowCover,onChange:Y=>y(Y.target.checked)}),e.jsx("span",{class:"slider"})]})]}),e.jsx("div",{className:`formFieldsList ${a!=null&&a.isShowCover?"showCover":"hideCover"}`,children:e.jsx("div",{className:"additionalInfo",children:e.jsxs("div",{className:"fields_info",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:["Header",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{className:"form-control theme-control",type:"text",value:a==null?void 0:a.header,onChange:Y=>C(Y.target.value)}),((U=h==null?void 0:h.personalityquiz)==null?void 0:U.header)&&e.jsx("p",{className:"text-danger font-sm mt-1",children:h.personalityquiz.header})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Description"}),e.jsx("textarea",{className:"form-control theme-control",value:a==null?void 0:a.description,onChange:Y=>z(Y.target.value)})]}),e.jsxs("div",{className:"d-flex w-100 gap-3 mb-3",role:"button",children:[e.jsxs("div",{children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Cover"}),e.jsxs("div",{className:"coverchangeImage",children:[e.jsx("img",{src:a==null?void 0:a.image,alt:"cover"}),e.jsx("button",{className:"button button-primary border-0 font-sm",onClick:()=>x("quiz-cover",s==null?void 0:s.id),children:"Change"})]})]}),e.jsxs("div",{className:"w-100",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:["Button text ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{className:"form-control theme-control",value:a.buttonText,onChange:Y=>E(Y.target.value)}),((ee=h==null?void 0:h.personalityquiz)==null?void 0:ee.buttonText)&&e.jsx("p",{className:"text-danger font-sm mt-1",children:h.personalityquiz.buttonText})]})]}),e.jsxs("div",{className:"",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Image disclaimer"}),e.jsx("input",{className:"form-control theme-control",value:a==null?void 0:a.imageDisclaimer,onChange:Y=>M(Y.target.value)})]})]})})})]})}),e.jsxs("div",{className:"form-right border-start py-4",children:[e.jsx("h5",{children:"Approximate preview"}),e.jsxs("div",{className:`formPreview cover_modal ${a.isShowCover?"showCover":"hideCover"}`,children:[((oe=s==null?void 0:s.struct)==null?void 0:oe.cover.image)&&e.jsx("img",{src:($=(we=s==null?void 0:s.struct)==null?void 0:we.cover)==null?void 0:$.image,alt:"logo",className:"coverImage"}),(a==null?void 0:a.header)&&e.jsx("h4",{className:"text-center pt-2",children:a==null?void 0:a.header}),(a==null?void 0:a.description)&&e.jsx("p",{className:"text-center",children:a==null?void 0:a.description}),console.log(s,"sddsds"),e.jsx("div",{className:"submitpreview",children:((k=(L=s==null?void 0:s.struct)==null?void 0:L.cover)==null?void 0:k.buttonText)&&e.jsx("div",{className:"text-center m-2",children:e.jsx("button",{className:"btn py-2",style:{backgroundColor:`${(q=s==null?void 0:s.struct)==null?void 0:q.colorTheme}`,color:"#fff"},children:a.buttonText||"Start"})})})]})]})]}),c==="questions"&&e.jsx(Ev,{errors:h,setPersonalityQuizQuestion:v,personalityquizquestion:i,formData:s,questions:(V=s==null?void 0:s.struct)==null?void 0:V.questions,handleChangeImage:x}),c==="results"&&e.jsx(Ur,{personalityquizquestion:i,setParentErros:l,finalResult:b,setfinalResult:g,setTriggerNext:j,setErrorScreen:u,parenterror:h,formData:s,handleChangeImage:x})]})," ",e.jsx("ul",{className:"Footer_footer__bMDNk",children:e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{onClick:()=>{A()},className:"button button-primary px-3 text-decoration-none",children:"Save"})})})]})}function Pv({IsOpenFormModal:c,setIsOpenFormModal:m,formData:s,selectedPage:x,handleChangeLogo:w,isEditMediaTypeDetails:P,updateParentState:p,onRegisterSlideImageCallback:h}){const[l,a]=d.useState([]),[n,i]=d.useState(""),[v,b]=d.useState("start-screen");bt(u=>u.DrawerReducer);const g={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:1200,width:"100%",backgroundColor:"#fff",boxShadow:24,borderRadius:"12px",overflow:"hidden"};wt(),d.useEffect(()=>{var _,j,C;const u=(C=(j=(_=s==null?void 0:s.struct)==null?void 0:_.leadFormStruct)==null?void 0:j.form)==null?void 0:C.fields.map(z=>z.id);a(u)},[s]),d.useEffect(()=>{As.length>0&&i({value:As[0].value,label:As[0].label})},[As]);const N=u=>{const _=u==null?void 0:u.replace(/[_\-]+/g," ").replace(/\s+(.)/g,(j,C)=>C.toUpperCase()).replace(/^./,j=>j.toUpperCase()).replace(/\s+/g,"");return _==null?void 0:_.replace(/([a-z])([A-Z])/g,"$1 $2")};return e.jsx(qn,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",open:c,onClose:()=>m(!1),closeAfterTransition:!0,slots:{backdrop:Gn},children:e.jsx("div",{style:g,children:e.jsxs("div",{className:"modal-form",children:[e.jsxs("div",{className:"modal-header-form",children:[e.jsx("h3",{children:N(s==null?void 0:s.block)}),e.jsx("button",{className:"btn text-white",style:{fontSize:"30px"},onClick:()=>m(!1),children:e.jsx("i",{class:"fa-solid fa-xmark"})})]}),e.jsxs("div",{className:"modal-form-body",children:[(s==null?void 0:s.block)==="quiz"&&e.jsx(hv,{isEditMediaTypeDetails:P,updateParentState:p,selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w,setIsOpenFormModal:m}),(s==null?void 0:s.block)==="personality-quiz"&&e.jsx(Av,{setIsOpenFormModal:m,selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w}),(s==null?void 0:s.block)==="treasure-hunt"&&e.jsx(xv,{selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w,setIsOpenFormModal:m}),(s==null?void 0:s.block)==="rank-battle"&&e.jsx(jv,{setIsOpenFormModal:m,selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w}),(s==null?void 0:s.block)==="slide-show"&&e.jsx(bv,{onRegisterSlideImageCallback:h,setIsOpenFormModal:m,selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w}),(s==null?void 0:s.block)==="horoscope"&&e.jsx(vv,{setIsOpenFormModal:m,selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w}),(s==null?void 0:s.block)==="cookies"&&e.jsx(Nv,{selecteScreen:v,setSelectScreen:b,formData:s,setIsOpenFormModal:m,handleChangeLogo:w}),(s==null?void 0:s.block)==="form"&&e.jsx(_v,{selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w,setIsOpenFormModal:m}),(s==null?void 0:s.block)==="spin-wheel"&&e.jsx(Sv,{setIsOpenFormModal:m,selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w}),(s==null?void 0:s.block)==="puzzle"&&e.jsx(Tv,{setIsOpenFormModal:m,selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w}),(s==null?void 0:s.block)==="sliding-puzzle"&&e.jsx(Rv,{setIsOpenFormModal:m,selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w}),(s==null?void 0:s.block)==="memory"&&e.jsx(hd,{setIsOpenFormModal:m,selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w}),(s==null?void 0:s.block)==="find-pair"&&e.jsx(hd,{setIsOpenFormModal:m,selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w}),(s==null?void 0:s.block)==="match-up"&&e.jsx(Lv,{onRegisterSlideImageCallback:h,setIsOpenFormModal:m,selecteScreen:v,setSelectScreen:b,formData:s,handleChangeLogo:w})]})]})})})}const Fv="/assets/email-int-DcyhMIlA.png",zv="/assets/mailchim1-Jz7Jm4OV.png",Bv="/assets/mailchim2-DnI_n92J.png",Hv="/assets/mailchim3-B7Q4ajpn.png";var Pi={},Mv=cs;Object.defineProperty(Pi,"__esModule",{value:!0});var Yd=Pi.default=void 0,$v=Mv(os()),Ov=e;Yd=Pi.default=(0,$v.default)((0,Ov.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");var Fi={},Wv=cs;Object.defineProperty(Fi,"__esModule",{value:!0});var Zd=Fi.default=void 0,Uv=Wv(os()),qv=e;Zd=Fi.default=(0,Uv.default)((0,qv.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");function Gv(){const{templateDetails:c}=bt(M=>M.DrawerReducer);console.log(c,"dddddddd");const[m,s]=d.useState(""),[x,w]=d.useState(""),[P,p]=d.useState(!1),h=wt();console.log(P,"cehckmodalpopoooy");const[l,a]=d.useState(null),[n,i]=d.useState(null),v=d.useRef(null),b=d.useRef(null),[g,N]=d.useState(null),u=()=>{b.current.click()},_=M=>{const S=M.target.files[0];S&&(a(S),i(URL.createObjectURL(S)))},j={height:"285px",marginBottom:"16px"};d.useEffect(()=>{h(jd(c==null?void 0:c.unique_id))},[]);const[C,z]=d.useState(!1),E=async()=>{const M=new FormData;M.append("preview_image",l),M.append("description",x);try{z(!0);const S=await xd(`${fd.UPLOADIMAGE}/${c==null?void 0:c.unique_id}`,M)}catch(S){console.error("Upload failed",S)}finally{z(!1)}};return console.log(c,"dwopqh"),d.useEffect(()=>{i(c==null?void 0:c.preview_image),w(c==null?void 0:c.description)},[c]),e.jsx("div",{className:"dash-center overflow-auto",children:e.jsxs("div",{className:"tab-box",id:"tab-2",children:[e.jsx("div",{className:"editor-dash d-block integration",children:e.jsxs("div",{className:"container",children:[e.jsxs("h3",{className:"fw-medium text-center mb-md-5 mb-4",children:["Edit or view"," ","template details"]}),e.jsxs(ss,{container:!0,spacing:4,justifyContent:"center",children:[e.jsx(ss,{item:!0,xs:12,md:6,lg:4,children:e.jsx(tn,{variant:"outlined",sx:{textAlign:"center",p:2},children:e.jsxs(Wn,{children:[g||n?e.jsx(ei,{component:"img",image:g||n||"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",alt:"Image",sx:{maxHeight:250,objectFit:"contain",mb:2}}):e.jsx(ei,{component:"img",image:"https://res.cloudinary.com/dwl5gzbuz/image/upload/v1739271156/Group_3_jl6d69.png",alt:"Default",sx:{maxHeight:250,objectFit:"contain",mb:2}}),console.log(n,"previewUrl"),console.log(g,"uploadedImage"),e.jsx("input",{type:"file",ref:b,style:{display:"none"},accept:"image/*",onChange:_}),e.jsx(Tr,{display:"flex",justifyContent:"center",gap:2,mt:2,children:e.jsx(ur,{variant:"contained",startIcon:e.jsx(Yd,{}),onClick:u,size:"small",children:"Upload"})})]})})}),e.jsxs(ss,{item:!0,xs:12,md:6,lg:8,children:[e.jsx(tn,{variant:"outlined",sx:{p:2},children:e.jsx(Wn,{children:e.jsx(Tr,{sx:j,children:e.jsx(Vf,{value:x,onChange:w,placeholder:"Enter description here...",theme:"snow",style:{height:"200px"}})})})}),e.jsx(Tr,{textAlign:"right",mt:4,children:e.jsx(ur,{startIcon:C?e.jsx(Uf,{size:20}):e.jsx(Zd,{}),onClick:E,className:"button button-primary",disabled:!x&&!l,children:C?"Saving...":"Save"})})]})]})]})}),e.jsxs("div",{ref:v,className:`integration-popup ${P?"active":""}`,children:[m==="email_notify"&&e.jsxs("div",{children:[e.jsx("h3",{className:"fw-medium mb-lg-5 mb-4",children:"Email notifications"}),e.jsx("img",{src:Fv,className:"w-100 mb-4",alt:""}),e.jsx("p",{children:"If you want to receive notifications about new leads, please enter your email in the field below."}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{for:"email",className:"form-label fw-medium muted-text font-sm",children:"Email address"}),e.jsx("input",{type:"text",className:"form-control theme-control"})]}),e.jsxs("div",{className:"button-group gap-2 justify-content-end",children:[e.jsx("a",{href:"javascript:void(0)",className:"button button-primary sm",children:"Save"}),e.jsx("button",{className:"button button-primary outline sm",onClick:()=>p(!1),children:"Disable"})]})]}),m==="GOOGLE_ANLYTICS"&&e.jsxs("div",{children:[e.jsx("h3",{className:"fw-medium mb-lg-5 mb-4",children:"Google Analytics"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{for:"email",className:"form-label fw-medium muted-text font-sm",children:"ID"}),e.jsx("input",{type:"text",className:"form-control theme-control"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h4",{children:"How to set up a quiz funnel in Google Analytics:"}),e.jsxs("ol",{class:" list-group-numbered",children:[e.jsxs("li",{class:"list-group-item",children:["Follow this"," ",e.jsx(xn,{to:"https://analytics.google.com/analytics/web/provision/#/provision",target:"_blank",children:"link"})," "]}),e.jsx("li",{class:"list-group-item",children:"Select a project and click Create. A composite goal will be created automatically."}),e.jsx("li",{class:"list-group-item",children:"You can edit the target to fit your needs, remove unnecessary steps"}),e.jsx("li",{class:"list-group-item",children:"Publish your project after the change"})]})]}),e.jsxs("div",{className:"button-group gap-2 justify-content-end",children:[e.jsx("button",{className:"button button-primary sm",children:"Save"}),e.jsx("button",{className:"button button-primary outline sm",onClick:()=>p(!1),children:"Disable"})]})]}),m==="mail_chim"&&e.jsxs("div",{children:[e.jsx("h3",{className:"fw-medium mb-lg-5 mb-4",children:"Collecting leads with Mailchimp"}),e.jsx("p",{children:"To transfer data to your Mailchimp account, follow these steps"}),e.jsx("div",{className:"mb-3",children:e.jsxs("ol",{class:" list-group-numbered",children:[e.jsxs("li",{class:"list-group-item",children:["Follow this"," ",e.jsx(xn,{to:"https://analytics.google.com/analytics/web/provision/#/provision",target:"_blank",children:"link"})," "]}),e.jsxs("li",{class:"list-group-item",children:["Select a project and click Create. A composite goal will be created automatically.",e.jsx("img",{src:zv,className:"w-100 mb-4",alt:""})]}),e.jsx("li",{class:"list-group-item",children:"You can edit the target to fit your needs, remove unnecessary steps"}),e.jsxs("li",{class:"list-group-item",children:["Publish your project after the change",e.jsx("img",{src:Bv,className:"w-100 mb-4",alt:""})]}),e.jsxs("li",{class:"list-group-item",children:["Publish your project after the change",e.jsx("img",{src:Hv,className:"w-100 mb-4",alt:""}),e.jsxs("p",{children:["Everything is ready for data collection! For more information click"," ",e.jsx(xn,{to:"https://help.interacty.me/content/how-to-collecting-leads-with-mailchimp",target:"_blank",children:"here"})]})]})]})}),e.jsxs("div",{className:"button-group gap-2 justify-content-end",children:[e.jsx("a",{href:"javascript:void(0)",className:"button button-primary sm",children:"Save"}),e.jsx("button",{className:"button button-primary outline sm",onClick:()=>p(!1),children:"Disable"})]})]})]}),e.jsx("div",{className:"overlay",role:"button"})]})})}function Qv({IsOpenFormModal:c,setIsOpenFormModal:m,formData:s,selectedPage:x,handleChangeLogo:w}){var u,_,j,C,z,E,M,S;d.useState([]),d.useState([]),d.useState("");const[P,p]=d.useState(""),[h,l]=d.useState({}),{templateDetails:a}=bt(F=>F.DrawerReducer),n={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,backgroundColor:"#fff",boxShadow:24,borderRadius:"12px",p:4},i=wt(),v=F=>{const y={...a,project_structure:{...a.project_structure,pages:a.project_structure.pages.map(A=>({...A,blocks:A.blocks.map(U=>U.id===(s==null?void 0:s.id)?{...U,struct:{...U.struct,passwordList:[]}}:U)}))}};i(T(y)),m(!1)},b=F=>{F.preventDefault();const y={...a,project_structure:{...a.project_structure,pages:a.project_structure.pages.map(A=>({...A,blocks:A.blocks.map(U=>U.id===(s==null?void 0:s.id)?{...U,struct:{...U.struct,passwordList:[...U.struct.passwordList,P]}}:U)}))}};i(T(y)),p("")},g=()=>{const F={...a,project_structure:{...a.project_structure,pages:a.project_structure.pages.map(y=>({...y,blocks:y.blocks.map(A=>A.id===(s==null?void 0:s.id)?{...A,struct:{...A.struct,passwordList:[]}}:A)}))}};i(T(F))},N=F=>{console.log(F,"celeldledede");const y={...a,project_structure:{...a.project_structure,pages:a.project_structure.pages.map(A=>({...A,blocks:A.blocks.map(U=>U.id===(s==null?void 0:s.id)?{...U,struct:{...U.struct,passwordList:U.struct.passwordList.filter(ee=>ee!==F)}}:U)}))}};i(T(y))};return d.useEffect(()=>{s&&l(s)},[s]),e.jsx(qn,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",open:c,onClose:()=>m(!1),closeAfterTransition:!0,slots:{backdrop:Gn},children:e.jsxs("div",{style:n,children:[e.jsxs("div",{className:"modal-form",children:[e.jsxs("div",{className:"modal-header-form",children:[e.jsx("h3",{className:"text-start mb-0",children:"Privacy"}),e.jsx("button",{className:"btn text-white",style:{fontSize:"30px"},onClick:()=>m(!1),children:e.jsx("i",{class:"fa-solid fa-xmark"})})]}),e.jsx("div",{className:"modal-form-body",children:e.jsx("div",{className:"form-option-wrap py-4 px-4",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"fields-output",children:[e.jsx("h4",{className:"h5 mb-4",children:"As a password, you can use a keyword, email address or a set of numbers. To add multiple passwords, separate them with a comma or space."}),e.jsx("div",{className:"formFieldsList text-center",children:e.jsx("div",{className:"row gy-3 gx-4 mb-3",children:e.jsxs("div",{className:"addpasswordField",children:[e.jsxs("form",{onSubmit:b,children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Add Password"}),e.jsxs("div",{className:"d-flex gap-2 align-items",children:[e.jsx("input",{type:"text",onChange:F=>p(F.target.value),defaultValue:P,className:"form-control theme-control"}),e.jsx("button",{type:"submit",className:"button button-primary border-0",disabled:!P,children:"Add"})]})]}),e.jsxs("div",{className:"showlistpassword",children:[((_=(u=h==null?void 0:h.struct)==null?void 0:u.passwordList)==null?void 0:_.length)!==0&&e.jsxs("div",{className:"list-header d-flex justify-content-between",children:[e.jsxs("p",{children:["Active passwords"," ",(C=(j=h==null?void 0:h.struct)==null?void 0:j.passwordList)==null?void 0:C.length]}),e.jsx("button",{className:"btn",onClick:g,children:"Clear All"})]}),((E=(z=h==null?void 0:h.struct)==null?void 0:z.passwordList)==null?void 0:E.length)!==0?e.jsx(e.Fragment,{children:(S=(M=h==null?void 0:h.struct)==null?void 0:M.passwordList)==null?void 0:S.map(F=>e.jsx("div",{children:e.jsxs("div",{className:"list-body d-flex justify-content-between",children:[e.jsx("p",{children:F}),e.jsx("button",{className:"btn",onClick:()=>N(F),children:e.jsx("i",{class:"fa-solid fa-xmark"})})]})}))}):e.jsxs("div",{className:"mt-4",children:[e.jsx("i",{class:"fa-solid fa-lock-open h3 mb-1 primary-text"}),e.jsx("p",{className:"mb-0 font-sm fw-medium",children:"This project is not password protected"})]})]})]})})})]})})})})]}),e.jsxs("ul",{className:"Footer_footer__bMDNk",children:[e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{className:"button button-primary outline px-3",onClick:v,children:"Cancel"})}),e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{type:"submit",onClick:()=>{m(!1),p("")},className:"button button-primary px-3 text-decoration-none",children:"Save"})})]})]})})}function Yv({IsOpenFormModal:c,setIsOpenFormModal:m,formData:s,selectedPage:x,setOpen:w,setIsEditMedia:P,setIsEditMediaTypeDetails:p,selectedImage:h,handleChangeLogo:l}){var F,y,A,U,ee;d.useState([]),d.useState([]),d.useState(""),d.useState("");const[a,n]=d.useState(!1),[i,v]=d.useState({imageSrc:((y=(F=s==null?void 0:s.struct)==null?void 0:F.timeIsUpScreen)==null?void 0:y.imageSrc)||""});console.log(i,"settingsDatasettingsData");const{templateDetails:b}=bt(oe=>oe.DrawerReducer);console.log(b,"dwdwdwd"),console.log(i,"settingsData");const g={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1200,backgroundColor:"#fff",boxShadow:24,borderRadius:"12px",p:4},N=wt();console.log(s,"formDataformData");const u=()=>{var oe;v(((oe=s==null?void 0:s.struct)==null?void 0:oe.timeIsUpScreen)||{}),m(!1)};console.log(h,"selectedImage8686"),d.useEffect(()=>{console.log(i,"Updated settingsData")},[i]);const _=oe=>{v(we=>({...we,isActionButton:oe}))},j=oe=>{console.log(oe,"uriwurwiruwir");const we={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map($=>({...$,blocks:$.blocks.map(L=>L.id===(s==null?void 0:s.id)?{...L,struct:{...L.struct,timeIsUpScreen:{...L.struct.timeIsUpScreen,imageSrc:""}}}:L)}))}};N(T(we))},C=oe=>{console.log(oe,"eee"),v(we=>({...we,description:oe})),console.log(b,"templateDetails")},z=oe=>{const we=oe;n(!we.trim()),v($=>({...$,header:we}))},E=oe=>{console.log(oe,"eee"),console.log(b,"templateDetails"),v(we=>({...we,actionButtonText:oe}))},M=oe=>{console.log(oe,"eee"),v(we=>({...we,actionButtonLink:oe})),console.log(b,"templateDetails")};console.log(b,"templateDetails");const S=()=>{var we;if(!((we=i==null?void 0:i.header)!=null&&we.trim())){n(!0);return}const oe={...b,project_structure:{...b.project_structure,pages:b.project_structure.pages.map($=>({...$,blocks:$.blocks.map(L=>L.id===(s==null?void 0:s.id)?{...L,struct:{...L.struct,timeIsUpScreen:{...L.struct.timeIsUpScreen,...i}}}:L)}))}};N(T(oe)),m(!1)};return d.useEffect(()=>{h&&(w(!0),P(!0),console.log(h,"selectedImage090"),v(oe=>({...oe,imageSrc:h})))},[h]),d.useEffect(()=>{var oe;s&&v((oe=s.struct)==null?void 0:oe.timeIsUpScreen)},[s]),console.log(s,"timeupdapageforem"),e.jsx(qn,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",open:c,closeAfterTransition:!0,slots:{backdrop:Gn},children:e.jsxs("div",{style:g,children:[e.jsxs("div",{className:"modal-form",children:[e.jsx("div",{className:"modal-header-form",children:e.jsx("h3",{className:"",children:"“Time is up” Page"})}),e.jsx("div",{className:"modal-form-body",children:e.jsx("div",{className:"form-option-wrap",children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-left",children:e.jsxs("div",{className:"fields-output",children:[e.jsx("p",{children:"The user will see this page if the game time is up."}),e.jsx("div",{className:"formFieldsList",children:e.jsx("div",{className:"additionalInfo",children:e.jsxs("div",{className:"fields_info",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:["Header ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{className:`form-control theme-control ${a?"is-invalid":""}`,value:i==null?void 0:i.header,autoFocus:a,onChange:oe=>z(oe.target.value)}),a&&e.jsx("div",{className:"invalid-feedback",children:"Header is required."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:"Description"}),e.jsx("textarea",{className:"form-control theme-control",value:i==null?void 0:i.description,onChange:oe=>C(oe.target.value)})]}),e.jsxs("div",{className:"d-flex w-100 gap-3 mb-3",role:"button",children:[e.jsxs("div",{children:[e.jsx("label",{class:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",children:"Cover"}),e.jsxs("div",{className:"coverchangeImage",children:[e.jsx("img",{src:i==null?void 0:i.imageSrc,alt:"Cover Image",className:"coverImage"}),e.jsx("button",{className:"button button-primary border-0 font-sm",onClick:()=>l("final-result-image",s==null?void 0:s.id),children:"Change"})]})]}),e.jsxs("div",{className:"w-100",children:[e.jsx("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer"}),e.jsx(pj,{onClick:()=>j()})]}),console.log((U=(A=s==null?void 0:s.struct)==null?void 0:A.timeIsUpScreen)==null?void 0:U.isActionButton,"sqsqdqd")]}),e.jsxs("label",{className:"form-label font-sm fw-medium d-flex align-items-center gap-2 cursor-pointer",role:"button",children:[e.jsx("input",{type:"checkbox",id:"calltoactionbutton",className:"form-check-input theme-control shadow-none m-0",onChange:oe=>_(oe.target.checked),checked:i==null?void 0:i.isActionButton}),"Call to action button"]}),(i==null?void 0:i.isActionButton)&&e.jsxs("div",{className:"d-flex justify-content-between gap-1",children:[" ",e.jsxs("div",{className:"d-flex flex-column",style:{width:"48%"},children:[" ",e.jsx("label",{className:"form-label font-sm fw-medium",children:"Button text"}),e.jsx("input",{className:"form-control theme-control",defaultValue:i==null?void 0:i.actionButtonText,onChange:oe=>E(oe.target.value)})]}),e.jsxs("div",{className:"d-flex flex-column",style:{width:"48%"},children:[e.jsx("label",{className:"form-label font-sm fw-medium",children:"Link"}),e.jsx("input",{className:"form-control theme-control",defaultValue:i==null?void 0:i.actionButtonLink,onChange:oe=>M(oe.target.value)})]})]})]})})})]})}),e.jsxs("div",{className:"form-right border-start py-4",children:[e.jsx("h5",{children:"Approximate preview"}),e.jsxs("div",{className:"formPreview cover_modal",children:[console.log(i==null?void 0:i.imageSrc,"dwwdwdw"),(i==null?void 0:i.imageSrc)&&e.jsx("img",{src:i==null?void 0:i.imageSrc,alt:"logo",className:"coverImage"}),(i==null?void 0:i.header)&&e.jsx("h4",{className:"text-center mt-3",children:i==null?void 0:i.header}),(i==null?void 0:i.description)&&e.jsx("h4",{className:"text-center mt-3",children:i==null?void 0:i.description}),console.log(s,"scscscsc",i),e.jsx("div",{className:"submitpreview",children:(i==null?void 0:i.actionButtonText)&&e.jsx("div",{className:"text-center m-2",children:e.jsxs("button",{className:"btn py-2",style:{backgroundColor:`${(ee=s==null?void 0:s.struct)==null?void 0:ee.colorTheme}`,color:"#fff"},children:[console.log(i==null?void 0:i.actionButtonText,"settingsData?.actionButtonText"),(i==null?void 0:i.actionButtonText)||"Start"]})})})]})]})]})})})]}),e.jsxs("ul",{className:"Footer_footer__bMDNk",children:[e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{className:"button button-primary outline px-3",onClick:u,children:"Cancel"})}),e.jsx("li",{className:"Footer_footerItem__yaFNE",children:e.jsx("button",{type:"submit",onClick:()=>S(),className:"button button-primary px-3 text-decoration-none",children:"Save"})})]})]})})}function Zv({IsOpenFormModal:c,setIsOpenFormModal:m,formData:s,selectedPage:x,handleChangeLogo:w,handleSelectLink:P}){var n,i;d.useState("");const[p,h]=d.useState({}),{templateDetails:l}=bt(v=>v.DrawerReducer),a={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:900,backgroundColor:"#fff",boxShadow:24,borderRadius:"12px",p:4};return wt(),d.useEffect(()=>{s&&h(s)},[s]),console.log(s,"sdsdsdssettingsData"),e.jsx(qn,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",open:c,onClose:()=>m(!1),closeAfterTransition:!0,slots:{backdrop:Gn},children:e.jsx("div",{style:a,children:e.jsxs("div",{className:"modal-form",children:[e.jsxs("div",{className:"modal-header-form",children:[e.jsx("h3",{className:"text-start mb-0",children:"Select internal page"}),e.jsx("button",{className:"btn text-white",style:{fontSize:"30px"},onClick:()=>m(!1),children:e.jsx("i",{class:"fa-solid fa-xmark"})})]}),e.jsx("div",{className:"modal-form-body",children:e.jsx("div",{className:"form-option-wrap py-4 px-4",children:(i=(n=l==null?void 0:l.project_structure)==null?void 0:n.pages)==null?void 0:i.map(v=>e.jsx("div",{className:"m-4",onClick:()=>P(v.id),role:"button",children:v.name}))})})]})})})}const Jv=Ts().shape({name:Rt().required(`First ${Ko.NAME.REQUIRED}`).max(30,`First ${Ko.NAME.MAX_LENGTH}`),description:Rt(),product_type_id:Rt().required(Ko.PRODUCT_TYPE.REQUIRED),icon:Kf().required("Icon is required").test("fileSize","Icon sizie can not be more than 5 MB",c=>(c==null?void 0:c.length)===0?!0:(c==null?void 0:c.length)&&c[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",c=>c.length===0?!0:c.length&&["image/jpeg","image/png","image/jpg"].includes(c[0].type))}),Xv=()=>{var or,ir,Ks;const c=wt();bt(W=>W.request);const{element:m,templateDetails:s}=bt(W=>W.DrawerReducer);bt(W=>W.DrawerReducer),qf();const{name:x}=Gf(),{register:w,setValue:P,handleSubmit:p,trigger:h,formState:{errors:l}}=nr({mode:"all",resolver:cr(Jv)}),a=bt(W=>W.customization),[n,i]=d.useState("project"),[v,b]=d.useState("Home"),[g,N]=d.useState(null),[u,_]=d.useState(!1),[j,C]=d.useState({type:"",id:null}),[z,E]=d.useState(null),[M,S]=d.useState(!1),[F,y]=d.useState(!1),[A,U]=d.useState(!1),[ee,oe]=d.useState(""),[we,$]=d.useState({});console.log(we,"isSetBlockId");const[L,k]=d.useState({}),[q,V]=d.useState({}),[Y,se]=d.useState({url:"",name:""}),[Pe,Se]=d.useState({url:"",name:""}),[_e,G]=d.useState(""),[le,ae]=d.useState(!1),[ye,Te]=d.useState(!1),[Oe,Q]=d.useState(null),[ne,ge]=d.useState(null),[J,he]=d.useState(""),[Ie,Ge]=d.useState("");w("icon"),d.useState(!1);const[xe,D]=d.useState(!1),[Z,R]=d.useState("editor"),[ce,te]=d.useState(!1),[me,Lt]=d.useState({}),[Pt,Qe]=d.useState(!1),[ft,xt]=d.useState(!1),[dt,_t]=d.useState(!1),[De,ut]=d.useState({}),[Le,ot]=d.useState(!1),[B,rt]=d.useState({type:"",id:null,isLogoCover:"",isInnerBlockId:null});console.log(De,"formData");const[vt,Nt]=d.useState({});console.log(_e,"isEditMedia"),console.log(vt,"selectedBlockSettings");const $t=d.useRef();console.log(_e,"j");const We=W=>()=>{D(W)},mt=(W,de)=>{console.log(W,de,"sqqsqs"),i(W),Nt(de)},fe=W=>{var Xe,at;console.log(W,"checkotitititititijieifodfjdfdFDFdfdsf");const de=(at=(Xe=s==null?void 0:s.project_structure)==null?void 0:Xe.pages)==null?void 0:at.find(yt=>yt.name===W);console.log(de,"filterPageDatafilterPageData"),Lt(de),b(W)},Ne=W=>{D(!0),N(W)};console.log(s,"uiuuiuiuiu");const et=W=>{var X,ct;console.log(W,ce,"checkselectedeyioppokornot");const de=(ct=(X=s==null?void 0:s.project_structure)==null?void 0:X.pages)==null?void 0:ct.find(Ve=>Ve.name===v);if(!de){console.error("No page found with the selected name:",v);return}const Xe={id:Jt(),block:"text",text:'<p><span class="ql-font-Roboto" style="font-size: 14px; line-height: 1.5;">Tell your story…</span></p>',wP_bg:"#fff",isTransparentBackground:!1},at={id:Jt(),block:"timeline",text:'<p><span class="ql-font-Roboto" style="font-size: 16px; line-height: 1.5;">Start telling your story...</span></p>',imageUrl:"",markTitle:"Date",markSubtitle:"Section header",wP_bg:"#fff",imageDescription:"",isTransparentBackground:!1},yt={id:Jt(),block:"youtubeVideo",embedCode:""},$e={id:Jt(),block:"button",href:"",text:'<p class="ql-align-center"> <span style="color: rgb(255, 255, 255); background-color: rgb(102, 163, 224);"> Click </span> </p>',pulse:!1,brad:2,bc:"#20A2B8"},Ce={id:Jt(),block:"flip-card",backSrc:"",frontSrc:"",backText:'<p class="ql-align-center"> <span class="ql-font-Roboto" style="font-size: 24px; line-height: 1.5;color: rgb(255, 255, 255);"> Back text </span></p>',backColor:"#20a2b88c",frontText:'<p class="ql-align-center"> <span class="ql-font-Roboto" style="font-size: 24px; line-height: 1.5;color: rgb(255, 255, 255);"> Front text </span></p>',frontColor:"#20a2b8",imageProportions:{label:"3:2",value:"3:2"}};switch(W){case"text":if(ce){const Ve=de==null?void 0:de.blocks.findIndex(pt=>pt.id===g);if(Ve===-1)return de==null?void 0:de.blocks;const Et=[...de==null?void 0:de.blocks];Et.splice(Ve,0,{...Xe});const Ye={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(pt=>({...pt,blocks:Et}))}};c(T(Ye)),Nt({}),N(null),te(!1)}else{let Ve;Ve=[...de.blocks,{...Xe}];const Et={...de,blocks:Ve},Ye={...s.project_structure,pages:s.project_structure.pages.map(zt=>zt.id===de.id?Et:zt)},pt={...s,project_structure:Ye};c(T(pt)),Nt({}),N(null)}break;case"image":Qe(!0),he("image");break;case"logo":Qe(!0),he("logo");break;case"audio":xt(!0),he("audio");break;case"cover":_t(!0),he("cover");break;case"text-image":_t(!0),he("text-image");break;case"timeline":if(ce){const Ve=de==null?void 0:de.blocks.findIndex(pt=>pt.id===g);if(Ve===-1)return de==null?void 0:de.blocks;const Et=[...de==null?void 0:de.blocks];Et.splice(Ve,0,{...at});const Ye={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(pt=>({...pt,blocks:Et}))}};c(T(Ye)),Nt({}),N(null),te(!1)}else{let Ve;Ve=[...de.blocks,{...at}],console.log("No selected block found. Appending new block.");const Et={...de,blocks:Ve},Ye={...s.project_structure,pages:s.project_structure.pages.map(zt=>zt.id===de.id?Et:zt)},pt={...s,project_structure:Ye};c(T(pt)),Nt({}),N(null)}break;case"youtubeVideo":if(ce){const Ve=de==null?void 0:de.blocks.findIndex(pt=>pt.id===g);if(Ve===-1)return de==null?void 0:de.blocks;const Et=[...de==null?void 0:de.blocks];Et.splice(Ve,0,{...yt});const Ye={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(pt=>({...pt,blocks:Et}))}};c(T(Ye)),Nt({}),N(null),te(!1)}else{let Ve;Ve=[...de.blocks,{...yt}],console.log("No selected block found. Appending new block.");const Et={...de,blocks:Ve},Ye={...s.project_structure,pages:s.project_structure.pages.map(zt=>zt.id===de.id?Et:zt)},pt={...s,project_structure:Ye};c(T(pt)),Nt({}),N(null)}break;case"button":if(ce){const Ve=de==null?void 0:de.blocks.findIndex(pt=>pt.id===g);if(Ve===-1)return de==null?void 0:de.blocks;const Et=[...de==null?void 0:de.blocks];Et.splice(Ve,0,{...$e});const Ye={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(pt=>({...pt,blocks:Et}))}};c(T(Ye)),Nt({}),N(null),te(!1)}else{let Ve;Ve=[...de.blocks,{...$e}];const Et={...de,blocks:Ve},Ye={...s.project_structure,pages:s.project_structure.pages.map(zt=>zt.id===de.id?Et:zt)},pt={...s,project_structure:Ye};c(T(pt)),Nt({}),N(null)}break;case"flipCard":if(ce){const Ve=de==null?void 0:de.blocks.findIndex(pt=>pt.id===g);if(Ve===-1)return de==null?void 0:de.blocks;const Et=[...de==null?void 0:de.blocks];Et.splice(Ve,0,{...Ce});const Ye={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(pt=>({...pt,blocks:Et}))}};c(T(Ye)),Nt({}),N(null),te(!1)}else{let Ve;Ve=[...de.blocks,{...Ce}],console.log("No selected block found. Appending new block.");const Et={...de,blocks:Ve},Ye={...s.project_structure,pages:s.project_structure.pages.map(zt=>zt.id===de.id?Et:zt)},pt={...s,project_structure:Ye};c(T(pt)),Nt({}),N(null)}break;case"quiz":_t(!0),he("quiz");break;case"personality":_t(!0),he("personality-quiz");break;case"thenNow":_t(!0),he("then-now");break;case"horoscope":_t(!0),he("horoscope");break;case"cookies":_t(!0),he("cookies");break;case"rankbattle":_t(!0),he("rank-battle");break;case"slideShow":_t(!0),he("slide-show");break;case"leadForm":_t(!0),he("form");break;case"treasurehunt":_t(!0),he("treasure-hunt");break;case"spinthewheel":_t(!0),he("spin-wheel");break;case"puzzle":_t(!0),he("puzzle");break;case"memory":_t(!0),he("memory");break;case"findPair":_t(!0),he("find-pair");break;case"matchup":_t(!0),he("match-up");break;case"slidingPuzzle":_t(!0),he("sliding-puzzle");break;case"hiddenObjects":_t(!0),he("hidden-objects");break;default:console.log("Unknownsselection:",W);break}c(On(W))},Be=W=>{D(!0),N(W),te(!0)},Ft=W=>{console.log(W,"Updating specific struct field"),ut(de=>{const Xe={...de,struct:{...de.struct,questions:de.struct.questions.map(at=>at.id===W.id?{...at,image:W.type}:at)}};return console.log(Xe,"Updated formData ✅"),Xe})};console.log(v,"selectedPageselectedPagesddnjdnsd");const Kt=()=>{},Qt=(W,de,Xe,at)=>{Qe(!0),ot(!0),rt(yt=>({...yt,type:W,id:de,isLogoCover:Xe,isInnerBlockId:at}))},Vt=W=>{var $e,Ce,X;const de=(Ce=($e=s==null?void 0:s.project_structure)==null?void 0:$e.pages)==null?void 0:Ce.find(ct=>ct.name===v);if(!de){console.error("No page found with the selected name:",v);return}const Xe=(X=de==null?void 0:de.blocks)==null?void 0:X.findIndex(ct=>ct.id===W),at=[...de==null?void 0:de.blocks];[at[Xe],at[Xe-1]]=[at[Xe-1],at[Xe]];const yt={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(ct=>({...ct,blocks:at}))}};c(T(yt))},He=W=>{var $e,Ce,X;const de=(Ce=($e=s==null?void 0:s.project_structure)==null?void 0:$e.pages)==null?void 0:Ce.find(ct=>ct.name===v);if(!de){console.error("No page found with the selected name:",v);return}const Xe=(X=de==null?void 0:de.blocks)==null?void 0:X.findIndex(ct=>ct.id===W),at=[...de==null?void 0:de.blocks];[at[Xe],at[Xe+1]]=[at[Xe+1],at[Xe]];const yt={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(ct=>({...ct,blocks:at}))}};c(T(yt))},lt=W=>{var Ce,X,ct;const de=(X=(Ce=s==null?void 0:s.project_structure)==null?void 0:Ce.pages)==null?void 0:X.find(Ve=>Ve.name===v);if(!de){console.error("No page found with the selected name:",v);return}const Xe=(ct=de==null?void 0:de.blocks)==null?void 0:ct.findIndex(Ve=>Ve.id===W);if(Xe===-1)return de==null?void 0:de.blocks;const at={...de==null?void 0:de.blocks[Xe],id:Jt()},yt=[...de==null?void 0:de.blocks];yt.splice(Xe+1,0,at);const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ve=>({...Ve,blocks:yt}))}};c(T($e))},Ke=(W,de)=>{xt(!0),ot(!0),rt({...B,type:W,id:de})},st=()=>{var yt;const W=(yt=s==null?void 0:s.project_structure)==null?void 0:yt.pages.find($e=>$e.name===v);if(console.log(B,"checkmediadetailsssssssss"),Le&&(B==null?void 0:B.type)==="image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,url:_e}:X)}))}};c(T($e)),Qe(!1),G("")}if(Le&&(B==null?void 0:B.type)==="horoscope-image-settings"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,backgroundImage:_e}}:X)}))}};c(T($e)),Qe(!1),G("")}if(Le&&(B==null?void 0:B.type)==="project"){const $e={...s.project_structure.app,backgroundImage:_e},Ce={...s,project_structure:{...s.project_structure,app:$e}};c(T(Ce)),Qe(!1),G("")}if(Le&&(B==null?void 0:B.type)==="logo"){console.log("REACHEDDDww2w2DD");const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,url:_e}:X)}))}};c(T($e)),xt(!1),G("")}if(Le&&(B==null?void 0:B.type)==="audio"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,url:Y==null?void 0:Y.url,name:Y==null?void 0:Y.name}:X)}))}};console.log($e,"check_datayueuhuhk"),xt(!1)}if(Le&&(B==null?void 0:B.type)==="cover"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,imageUrl:_e}:X)}))}};c(T($e)),Qe(!1)}if(console.log(_e,Le&&(B==null?void 0:B.type),"xakipakapx"),Le&&(B==null?void 0:B.type)==="puzzle"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,finalScreen:{...X.struct.finalScreen,imageSrc:_e}}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="flip-front"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,frontSrc:_e}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="flip-back"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,backSrc:_e}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="text-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,imageUrl:_e}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="timeline-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,imageUrl:_e}:X)}))}};c(T($e)),Qe(!1)}if(console.log(_e,"selectedImage"),Le&&(B==null?void 0:B.type)==="match-up-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,finalScreen:{...X.struct.finalScreen,imageSrc:_e}}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="formImage"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,form:{...X.struct.form,logoImage:_e}}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="quiz-cover"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(De==null?void 0:De.id)?{...X,struct:{...X.struct,cover:{...X.struct.cover,image:_e}}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="answer-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>{var ct;return X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,questions:(ct=X.struct.questions)==null?void 0:ct.map(Ve=>Ve.id===B.isLogoCover?{...Ve,answers:Ve.answers.map(Et=>Et.id===B.isInnerBlockId?{...Et,image:_e}:Et)}:Ve)}}:X})}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="question-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>{var ct;return X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,questions:(ct=X.struct.questions)==null?void 0:ct.map(Ve=>Ve.id===(B==null?void 0:B.isLogoCover)?{...Ve,image:_e}:Ve)}}:X})}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="slider-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>{var ct;return X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,slides:(ct=X.struct.slides)==null?void 0:ct.map(Ve=>Ve.id===(B==null?void 0:B.isLogoCover)?{...Ve,image:_e}:Ve)}}:X})}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="pin-image"){console.log(B==null?void 0:B.isLogoCover,"isEditMediaDetails?.isLogoCoverisEditMediaDetails?.isLogoCover");const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>{var ct;return X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,pins:(ct=X.struct.pins)==null?void 0:ct.map(Ve=>Ve.id===(B==null?void 0:B.isLogoCover)?{...Ve,i:_e}:Ve)}}:X})}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="horoscope-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>{var ct;return X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,cards:(ct=X.struct.cards)==null?void 0:ct.map(Ve=>Ve.id===(B==null?void 0:B.isLogoCover)?{...Ve,coverImage:_e}:Ve)}}:X})}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="horoscope-illustrationImage"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>{var ct;return X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,cards:(ct=X.struct.cards)==null?void 0:ct.map(Ve=>Ve.id===(B==null?void 0:B.isLogoCover)?{...Ve,illustrationImage:_e}:Ve)}}:X})}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="result-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>{var ct;return X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,results:(ct=X.struct.results)==null?void 0:ct.map(Ve=>Ve.id===(B==null?void 0:B.isLogoCover)?{...Ve,image:_e}:Ve)}}:X})}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="logo"&&(B==null?void 0:B.isLogoCover)==="cover"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,logotypeUrl:_e}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="quest-header"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>{var ct,Ve;return X.id===B.id?{...X,struct:{...X.struct,tiles:{...X.struct.tiles,tileList:(Ve=(ct=X.struct.tiles)==null?void 0:ct.tileList)==null?void 0:Ve.map(Et=>Et.id===B.isLogoCover?{...Et,headerImgSrc:_e}:Et)}}}:X})}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="final-result-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===B.id?{...X,struct:{...X.struct,timeIsUpScreen:{...X.struct.timeIsUpScreen,imageSrc:_e}}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="quest-overlay"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>{var ct,Ve;return X.id===B.id?{...X,struct:{...X.struct,tiles:{...X.struct.tiles,tileList:(Ve=(ct=X.struct.tiles)==null?void 0:ct.tileList)==null?void 0:Ve.map(Et=>Et.id===B.isLogoCover?{...Et,overlaySrc:_e}:Et)}}}:X})}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="card-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>{var ct;return X.id===B.id?{...X,struct:{...X.struct,cards:(ct=X.struct.cards)==null?void 0:ct.map(Ve=>Ve.id===B.isLogoCover?{...Ve,imageUrl:_e}:Ve)}}:X})}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="result-image-treasure"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,finalScreen:{...X.struct.finalScreen,imageSrc:_e}}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="result-image-form"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,final:{...X.struct.final,imageSrc:_e}}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="thennow-right"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,rightSrc:_e}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="thennow-left"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,leftSrc:_e}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="spin-wheel-middle"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,playground:{...X.struct.playground,spinImageUrl:_e}}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="puzzle-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,playground:{...X.struct.playground,image:_e}}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="hidden-object"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,bimg:_e}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="hidden-object-tag"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,sucImg:_e}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="puzzle-result-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,finalScreen:{...X.struct.finalScreen,imageSrc:_e}}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="sliding-puzzle-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,playground:{...X.struct.playground,imageUrl:_e}}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="playing-card-back"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,playground:{...X.struct.playground,cardBackImage:_e}}}:X)}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="first-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>{var ct;return X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,pairs:{...X.struct.pairs,pairList:(ct=X.struct.pairs.pairList)==null?void 0:ct.map(Ve=>Ve.id===(B==null?void 0:B.isLogoCover)?{...Ve,firstImage:{...Ve.firstImage,src:_e,cardType:"image"}}:Ve)}}}:X})}))}};c(T($e)),Qe(!1)}if(Le&&(B==null?void 0:B.type)==="second-image"){const $e={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Ce=>({...Ce,blocks:Ce.blocks.map(X=>{var ct;return X.id===(B==null?void 0:B.id)?{...X,struct:{...X.struct,pairs:{...X.struct.pairs,pairList:(ct=X.struct.pairs.pairList)==null?void 0:ct.map(Ve=>Ve.id===(B==null?void 0:B.isLogoCover)?{...Ve,secondImage:{...Ve.secondImage,src:_e,cardType:"image"}}:Ve)}}}:X})}))}};c(T($e)),Qe(!1)}const de={id:Jt(),block:"image",url:_e,blur:!1,width:100,position:{label:"Center",value:"center"},imageSize:{label:"Full width",value:"fullWidth"}},Xe={id:Jt(),block:"logo",url:_e,link:"",width:20,top:"0",left:"0",right:"0",bottom:"0",position:{label:"Center",value:"center"}},at={id:Jt(),block:"audio",url:Y==null?void 0:Y.url,name:Y==null?void 0:Y.name,isLoop:!1,isMuted:!1,isAutoPlay:!1};switch(J){case"image":if(ce){const $e=W==null?void 0:W.blocks.findIndex(ct=>ct.id===g);if($e===-1)return W==null?void 0:W.blocks;const Ce=[...W==null?void 0:W.blocks];Ce.splice($e,0,{...de});const X={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(ct=>({...ct,blocks:Ce}))}};c(T(X)),Nt({}),N(null),te(!1)}else{let $e;$e=[...W.blocks,{...de}];const Ce={...W,blocks:$e},X={...s.project_structure,pages:s.project_structure.pages.map(Ve=>Ve.id===W.id?Ce:Ve)},ct={...s,project_structure:X};c(T(ct)),Nt({}),N(null),Qe(!1),G("")}break;case"logo":if(ce){const $e=W==null?void 0:W.blocks.findIndex(ct=>ct.id===g);if($e===-1)return W==null?void 0:W.blocks;const Ce=[...W==null?void 0:W.blocks];Ce.splice($e,0,{...Xe});const X={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(ct=>({...ct,blocks:Ce}))}};c(T(X)),Nt({}),N(null),te(!1)}else{let $e;$e=[...W.blocks,{...Xe}];const Ce={...W,blocks:$e},X={...s.project_structure,pages:s.project_structure.pages.map(Ve=>Ve.id===W.id?Ce:Ve)},ct={...s,project_structure:X};c(T(ct)),Nt({}),N(null),Qe(!1),G("")}break;case"audio":if(ce){const $e=W==null?void 0:W.blocks.findIndex(ct=>ct.id===g);if($e===-1)return W==null?void 0:W.blocks;const Ce=[...W==null?void 0:W.blocks];Ce.splice($e,0,{...at});const X={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(ct=>({...ct,blocks:Ce}))}};c(T(X)),Nt({}),N(null),te(!1)}else{let $e;$e=[...W.blocks,{...at}];const Ce={...W,blocks:$e},X={...s.project_structure,pages:s.project_structure.pages.map(Ve=>Ve.id===W.id?Ce:Ve)},ct={...s,project_structure:X};c(T(ct)),Nt({}),N(null),xt(!1),se({})}break}Nt({}),N(null),he(""),G(""),Qe(!1)};console.log(s,"templateDetailstemplateDetailstemplateDetails");const it=W=>{G(W)},be=W=>{var at;const de={id:Jt(),block:J,...W},Xe=(at=s==null?void 0:s.project_structure)==null?void 0:at.pages.find(yt=>yt.name===v);if(ce){const yt=Xe==null?void 0:Xe.blocks.findIndex(X=>X.id===g);if(yt===-1)return Xe==null?void 0:Xe.blocks;const $e=[...Xe==null?void 0:Xe.blocks];$e.splice(yt,0,{...de});const Ce={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(X=>({...X,blocks:$e}))}};c(T(Ce)),Nt({}),N(null),xt(!1),_t(!1),se({})}else{let yt;yt=[...Xe.blocks,{...de}];const $e={...Xe,blocks:yt},Ce={...s.project_structure,pages:s.project_structure.pages.map(ct=>ct.id===Xe.id?$e:ct)},X={...s,project_structure:Ce};c(T(X)),Nt({}),N(null),xt(!1),se({}),_t(!1)}},re=W=>{_(!0),E(W)},Ee=W=>{$(W),S(!0)},pe=(W,de)=>{$(W),U(!0),oe(de)},Re=W=>{if(ee==="callToAction"){const de={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(Xe=>({...Xe,blocks:Xe.blocks.map(at=>at.id===(De==null?void 0:De.id)?{...at,struct:{...at.struct,callToActionLink:W,innerPageLink:!0}}:at)}))}};c(T(de)),U(!1)}},St=()=>{let W;(j==null?void 0:j.type)==="page"?W={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.filter(de=>de.id!==(j==null?void 0:j.id))}}:W={...s,project_structure:{...s.project_structure,pages:s.project_structure.pages.map(de=>de.name===v?{...de,blocks:de.blocks.filter(Xe=>Xe.id!==z)}:de)}},C({}),c(T(W)),_(!1)},ie=W=>{const de=s.project_structure.pages.findIndex(Ve=>Ve.name===v);if(de===-1){console.error("Page not found.");return}const Xe=s.project_structure.pages[de],at=Xe.blocks.findIndex(Ve=>Ve.id===W);if(at===-1){console.error("Block not found.");return}const $e={...Xe.blocks[at],id:Jt()},Ce=[...Xe.blocks.slice(0,at+1),$e,...Xe.blocks.slice(at+1)],X={...Xe,blocks:Ce},ct=[...s.project_structure.pages.slice(0,de),X,...s.project_structure.pages.slice(de+1)];c(T({...s,project_structure:{...s.project_structure,pages:ct}}))},Me=()=>{const de=`Page ${s.project_structure.pages.length}`,Xe={id:Jt(),name:de,blocks:[]},at={...s,project_structure:{...s.project_structure,pages:[...s.project_structure.pages,Xe]}};c(T(at))},Ue=W=>{ge(de=>de===W?null:W)},ke=W=>{},Ht=async(W,de)=>{if(Q(null),Ie){const Xe=s.project_structure.pages.map(yt=>yt.id===de?{...yt,name:Ie}:yt),at={...s,project_structure:{...s.project_structure,pages:Xe}};c(T(at))}},vs=(W,de)=>{_(!0),C({...j,id:W,type:de})},Fe=(W,de)=>{y(!0),$(de)};d.useEffect(()=>{var W,de,Xe,at;if(((de=(W=s==null?void 0:s.project_structure)==null?void 0:W.pages)==null?void 0:de.length)>0){const yt=(at=(Xe=s==null?void 0:s.project_structure)==null?void 0:Xe.pages)==null?void 0:at.find($e=>$e.name===v);console.log(yt,v,"checkifdetailsexistornot"),Lt(s.project_structure.pages[0]),k(vt)}},[s,ce]),console.log(me,s,"pageDatapageDatapoiytuuyttryuututurr");const ht=async(W,de)=>{const Xe={project_structure:JSON.stringify(s==null?void 0:s.project_structure)};try{c({type:Hn.PROCESSING});const{status:at,data:{message:yt}}=await xd(`${fd.UPDATE}/${x}`,Xe);at===$c[200]?c({type:Hn.SUCCESS,payload:{message:yt}}):c({type:Hn.FAILURE,payload:{message:Ga()}})}catch(at){c({type:Hn.FAILURE,payload:{message:Ga(at)}})}};d.useEffect(()=>{const W=setTimeout(()=>{ht()},3e3);return()=>clearTimeout(W)},[s]),console.log(v,"selectedPage"),console.log((or=s==null?void 0:s.project_structure)==null?void 0:or.pages,"yuytut"),d.useEffect(()=>{var Xe,at;k(vt);const W=(at=(Xe=s==null?void 0:s.project_structure)==null?void 0:Xe.pages)==null?void 0:at.find(yt=>yt.name===v);console.log(we,"isSetBlockIdcheckiddd");const de=W==null?void 0:W.blocks.find(yt=>(yt==null?void 0:yt.id)===we);console.log(de,"setblockdataisttrue"),ut(de)},[s,M,F,De,ye,le,A]),console.log(vt,"selectedBlockSettings"),d.useEffect(()=>{c({type:Hn.INIT})},[]),d.useEffect(()=>{Qe(m==="image"||m==="logo")},[m]);const nt=d.useRef(null);d.useEffect(()=>{const W=de=>{var Xe;nt.current&&!nt.current.contains(de.target)&&(Nt((Xe=s==null?void 0:s.project_structure)==null?void 0:Xe.app),i("project"))};return document.addEventListener("click",W),()=>{document.removeEventListener("click",W)}},[]),d.useEffect(()=>{c(jd(x))},[]),console.log(s==null?void 0:s.project_structure,"templateDetadssdsdilstemplateDetailstemplateDetails");const Ae=W=>{console.log(W,"iuiuiuui"),ae(!0),V(W),$(W==null?void 0:W.id)},us=W=>{Te(!0),console.log(W,"checking the function"),$(W==null?void 0:W.id)};return console.log(De,"IsOpenFormModalsssdsdIsOpenFormModal"),e.jsx(e.Fragment,{children:e.jsxs(ss,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"flex-start",spacing:2,my:2,children:[e.jsx(ij,{setShowTemplatePreview:R}),e.jsx(ss,{item:!0,md:12,className:"ps-0",children:e.jsxs(tn,{className:"profile-right-section",sx:{boxShadow:1,background:a.navType==="dark"?"#103C65":"#fff"},children:[Z==="preview"&&e.jsx(lj,{selectedPage:v,linkType:ee}),Z==="editor"&&e.jsxs("div",{className:"editor-dash",ref:nt,children:[e.jsxs("div",{className:"dash-left",children:[e.jsx("div",{className:"toggle-panel toggle-page",role:"button",children:"Toggle Pages"}),e.jsxs("div",{className:"panel-wrap",children:[e.jsx("h6",{className:"fw-semibold",children:"Pages"}),e.jsxs("div",{className:"page-view",children:[(Ks=(ir=s==null?void 0:s.project_structure)==null?void 0:ir.pages)==null?void 0:Ks.map(W=>e.jsx("div",{className:"mb-3 pb-3 border-bottom",role:"button",onClick:()=>fe(W==null?void 0:W.name),children:e.jsxs("div",{className:"page-block position-relative w-100",children:[Oe===(W==null?void 0:W.id)?e.jsx("div",{children:e.jsx("input",{type:"text",ref:$t,defaultValue:W==null?void 0:W.name,className:"border-0 p-0 w-100",required:!0,onBlur:de=>Ht(de,W==null?void 0:W.id),onChange:de=>Ge(de.target.value)})}):e.jsx("p",{className:"mb-0 text-break",children:W==null?void 0:W.name}),e.jsx("i",{className:"fa-solid fa-house"}),e.jsxs("div",{className:"options text-end",role:"button",onClick:()=>Ue(W.id),children:[e.jsx("i",{className:"fa-solid fa-circle-ellipsis-vertical h5 mb-0 muted-text"}),e.jsxs("div",{className:`dropdown_menu custom_dropdown ${ne===(W==null?void 0:W.id)?"active_dropdown":""}`,children:[e.jsxs("button",{onClick:()=>{ke(W==null?void 0:W.id),Q(W==null?void 0:W.id)},className:"d-flex gap-2 align-items-center",children:[e.jsx("i",{className:"fa-solid fa-pen-to-square"})," ","Rename"]}),e.jsxs("button",{onClick:()=>{vs(W==null?void 0:W.id,"page")},className:"d-flex gap-2 align-items-center",children:[e.jsx("i",{className:"fa-solid fa-trash"})," Delete"]})]})]})]})},W.id)),e.jsx("div",{className:"more-pages",children:e.jsxs("button",{onClick:Me,className:"btn d-flex gap-2 align-items-center font-sm fw-semibold",children:[e.jsx("i",{className:"fa-regular fa-plus"})," Add page"]})})]})]})]}),e.jsx(kb,{handleSelectBlock:mt,pageData:me,selectedBlockSettings:vt,isSelected:n,handleAddBlock:Ne,handleDeleteBlock:re,handleCloneBlock:ie,setSelectedBlockSettings:Nt,setSelectedBlock:i,handleEditModal:Fe,toggleDrawer:We,openDrawer:xe,setOpenDrawer:D,handleClickDrawer:et,handleChangeLogo:Qt,setShowTemplatePreview:R,handleMoveUp:Vt,handleMoveDown:He,cloneblock:lt,handleAddBlockFromBlock:Be}),e.jsx(ob,{pageData:me,selectedBlock:n,templateDetails:s,selectedBlockSettings:vt,handleChangeMedia:Qt,handleChangeMediaAudio:Ke,handleOpenFormFields:Ee,handleOpenPasswordModal:Ae,handleTimeUpPage:us,setIsOpenLinkModal:U,handleOpenLinkModal:pe})]}),Z==="edit-details"&&e.jsx(Gv,{})]})}),e.jsx(R0,{handleAddItem:st,open:Pt,setOpen:Qe,selectedImage:_e,setSelectedImage:G,handleSelectMedia:it}),e.jsx(ov,{handleAddItem:st,open:ft,setOpen:xt,selectedImage:Pe,setSelectedImage:Se,handleSelectMedia:it,selectedAudioFile:Y,setSelectedAudioFIle:se}),e.jsx(iv,{handleAddItem:st,open:dt,setOpen:_t,selectedImage:Pe,setSelectedImage:Se,handleSelectMedia:it,selectedAudioFile:Y,setSelectedAudioFIle:se,handleSelectCoverTemplate:be,selectedBlockType:J}),e.jsx(mr,{width:600,open:u,handleClose:()=>_(!1),children:e.jsxs("div",{className:"deleteMOdal text-center ",children:[e.jsxs("h3",{children:["Are you sure you want to delete this"," ",(j==null?void 0:j.type)==="page"?"page":"block","?"]}),e.jsxs("p",{children:["The content of the"," ",(j==null?void 0:j.type)==="page"?"page":"block"," will also be deleted."]}),e.jsxs("div",{className:"buttonsdelete",children:[e.jsx(ur,{variant:"contained",color:"error",sx:{boxShadow:"none"},onClick:St,children:"Delete"})," ",e.jsx(ur,{variant:"outline",color:"warning",sx:{boxShadow:"none"},onClick:()=>_(!1),children:"Cancel"})]})]})}),e.jsx(av,{IsOpenFormModal:M,setIsOpenFormModal:S,blockID:we,formData:De,selectedPage:v,handleChangeLogo:Qt}),e.jsx(Qv,{IsOpenFormModal:le,setIsOpenFormModal:ae,blockID:we,formData:De,selectedPage:v,handleChangeLogo:Qt}),e.jsx(Yv,{selectedImage:_e,setOpen:Qe,setIsEditMedia:ot,setIsEditMediaTypeDetails:rt,handleChangeTimeisUPImage:Kt,IsOpenFormModal:ye,setIsOpenFormModal:Te,blockID:we,formData:De,selectedPage:v,handleChangeLogo:Qt}),e.jsx(Pv,{isEditMediaTypeDetails:B,updateParentState:Ft,IsOpenFormModal:F,setIsOpenFormModal:y,blockID:we,formData:De,selectedPage:v,handleChangeLogo:Qt}),e.jsx(Zv,{setIsOpenFormModal:U,IsOpenFormModal:A,formData:De,handleSelectLink:Re})]})})};Qf.string;const XN=()=>e.jsxs(e.Fragment,{children:[e.jsx(Jf,{title:Yf.CREATE_TEMPLATE}),e.jsx(Zf,{className:"page-container users-page",children:e.jsx(Xv,{})})]});export{XN as default};
