import{P as j,b as D,j as e,K as ve,E as Pe,a as Ne,r as n,Q as ee,L as Re,R as we,G as b,V as h,a3 as Ie,aX as U,d as F,a4 as B,Y as Oe,N as Le,g as De,D as ke}from"./index-Bb4T6yJS.js";import{P as $e}from"./breadcrumbs-BoNbTSIP.js";import{P as qe}from"./container-Mdzkb4R0.js";import{A as Me}from"./helmet-BKDsicQe.js";import{S as Ue}from"./Scrollbar-D2VArou7.js";import{d as Fe,T as Be}from"./DeleteRounded-BlGDnV9A.js";import{d as Ge}from"./Search-fSuCmzN-.js";import{T as He,a as Y,b as u,c as Ye,E as L,C as Qe,d as Ve,e as We,f as Ke}from"./tableHeadings-FRSZ0z2m.js";import{F as Xe,O as Je}from"./Select-D_KZ1HKa.js";import{I as se}from"./InputAdornment-_AAuA8Z-.js";import{B as Q}from"./Button-CoPqx7My.js";import{u as Ze}from"./textDebounce-D7e2mMPI.js";import{C as O}from"./paginations-D9J1AZ49.js";import{I as te}from"./Iconify-B2ea3Vhk.js";import ze from"./SkeltonLoader-DM_yfHIA.js";import es from"./dataNotFound-Dm4Vz_hx.js";import{w as ss,d as ts,a as rs,b as as,c as ns,e as os}from"./AccessTimeFilled-BLM_-o--.js";import{L as G}from"./Label-BSVDv_JV.js";import{T as d}from"./Typography-BvK0EBjx.js";import{I as is}from"./IconButton-BS36y1hM.js";import{A as R}from"./apiErrorResonse-CCtXlH33.js";import{C as cs}from"./index-Cn4t3Ues.js";import{r as ls}from"./createSvgIcon-Cvxe-UMk.js";import{A as ds}from"./antSwitch-BKUKAnS9.js";import{C as ms}from"./Card-Cg269qA4.js";import{P as us}from"./Popover-_oog1cCQ.js";import{M as ps}from"./MenuItem-Ym5Ln7NP.js";import{B as H}from"./Box-DzmxXICY.js";import{D as hs}from"./Divider-8oRsmKUf.js";import{S}from"./Stack-yqW3PSS6.js";import{F as xs}from"./FormHelperText-D8o68a4M.js";import"./Breadcrumbs-CYgmF-zU.js";import"./ButtonBase-D0CLtmKS.js";import"./useSlotProps-CkCdCphK.js";import"./styled-BzESMtjz.js";import"./throttle-tVVNkgM1.js";import"./colorManipulator-C6WsgVx8.js";import"./Box-B1asL3_Y.js";import"./createBox-Z02cO3O7.js";import"./KeyboardArrowRight--EGT-K8b.js";import"./LastPage-BwPgK0Bl.js";import"./Toolbar-BiSrIOBH.js";import"./useId-BQiMa7-Q.js";import"./useFormControl-oNyqkk4W.js";import"./Modal-BEZPFFVa.js";import"./Portal-DOJFZdR8.js";import"./List-BGusPRli.js";import"./useControlled-DpDQkWSS.js";import"./iconify-C-ngdJty.js";import"./Skeleton-Cv9Q_VQE.js";import"./Switch-Dc5i2Mqq.js";import"./SwitchBase-B0q5c7pV.js";import"./index-D8g0v2aH.js";import"./Grow-BLrRft-L.js";import"./dividerClasses-B4fnud8L.js";import"./listItemTextClasses-Kx3W7iDp.js";import"./listItemIconClasses-CKdqSC5K.js";re.propTypes={order:j.oneOf(["asc","desc"]),orderBy:j.string,rowCount:j.number,headLabel:j.array,numSelected:j.number,onRequestSort:j.func,onSelectAllClick:j.func};function re({order:t,orderBy:m,rowCount:T,headLabel:o,numSelected:E,onRequestSort:_,onSelectAllClick:x,handleSerchInputChange:A,searchText:p,handleClearSearchInput:w}){const l=D(i=>i.customization);return e.jsxs(He,{children:[e.jsx(Y,{children:e.jsx(u,{component:"td",colSpan:10,sx:{p:1},children:e.jsx(Xe,{fullWidth:!0,variant:"outlined",children:e.jsx(Je,{onChange:A,value:p,sx:{maxHeight:"40px"},className:(l==null?void 0:l.navType)==="dark"?"dark_tableHead":"",placeholder:"Search name or email...",id:"outlined-adornment-weight",startAdornment:e.jsx(se,{position:"start",children:e.jsx(Ge,{})}),endAdornment:p.length>0?e.jsx(se,{position:"end",children:e.jsx(Q,{onClick:w,sx:{color:ve.ERROR_MSG_COLOR},startIcon:e.jsx(Fe,{}),children:"clear"})}):!1,"aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"}})})})}),e.jsx(Y,{children:o.map(i=>e.jsx(u,{align:i.align,sortDirection:m===i.id?t:!1,sx:{py:1.5,textTransform:i.textTransform},children:e.jsx(Ye,{hideSortIcon:!0,children:i.label})},i.id))},"user-table-heading-row")]})}function gs(t){var T,o,E,_;const m=D(x=>x.customization);return t.loading?e.jsx(ze,{colSpan:L.length+1,rows:5,columns:6,loaderMessage:"Please wait..."}):t.connectionError?e.jsx(Qe,{colspan:L.length+1,message:t.errorMessage}):((o=(T=t.enqueryList)==null?void 0:T.rows)==null?void 0:o.length)===0?e.jsx(es,{colspan:L.length+1,message:"No Enquery found."}):e.jsx(e.Fragment,{children:(_=(E=t.enqueryList)==null?void 0:E.rows)==null?void 0:_.map((x,A)=>{const{id:p,user_id:w,firstname:l,lastname:i,email:y,phonenumber:v,description:P,status:g}=x,C={firstname:l,lastname:i,email:y,contactNo:v,description:P,status:g,id:p};return t.selected.indexOf(l),e.jsxs(Y,{className:(m==null?void 0:m.navType)==="dark"?"dark_tableRow":"",children:[e.jsx(u,{children:`${t.srNo+A}.`}),e.jsx(u,{component:"td",scope:"row",children:e.jsx(d,{variant:"span",className:"user-name",noWrap:!0,children:`${l} ${i||""}`})}),e.jsx(u,{component:"td",children:e.jsx(d,{variant:"span",noWrap:!0,children:y})}),e.jsx(u,{className:"",align:"left",children:`${v}`}),e.jsxs(u,{className:"",align:"left",children:[g===1&&e.jsx(G,{color:"warning",children:"Pending"}),g===2&&e.jsx(G,{color:"success",children:"Resolved"}),g===3&&e.jsx(G,{color:"error",children:"Deleted"})]}),e.jsx(u,{className:"enquiry-message",align:"left",sx:{textAlign:"left"},children:e.jsx(d,{variant:"body",children:P?ss(P):"NA"})}),e.jsx(u,{align:"right",children:e.jsx(is,{component:"label",size:"medium",color:"inherit",onClick:()=>t.handleActionDialog(!0,C),children:e.jsx(te,{icon:"carbon:view-filled"})})})]},p)})})}var V={},fs=Pe;Object.defineProperty(V,"__esModule",{value:!0});var ae=V.default=void 0,js=fs(ls()),Ss=e;ae=V.default=(0,js.default)((0,Ss.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone");function bt(){const t=D(r=>r.customization),{contact_us:m}=D(r=>r.filterOptions);let T=[];const o=Ne(),[E,_]=n.useState(null),[x,A]=n.useState("asc"),[p,w]=n.useState("name"),[l,i]=n.useState([]),[y,v]=n.useState(m.page_no),[P,g]=n.useState(m.srNo),[C,ne]=n.useState(m.number_of_rows),[W,oe]=n.useState(""),[ie,ce]=Ze(),[le,de]=n.useState(0),[k,$]=n.useState(!1),[me,K]=n.useState(!1),[ue,X]=n.useState(""),[pe,he]=n.useState([]),[xe,N]=n.useState(!1),[s,ge]=n.useState(""),[J,Z]=n.useState((s==null?void 0:s.status)!==1),fe=(r,a)=>{A(p===a&&x==="asc"?"desc":"asc"),w(a)},je=r=>{if(r.target.checked){const a=T.map(c=>c.name);i(a);return}i([])},z=r=>{const a=r.target.value===void 0?"":r.target.value;oe(a),ce(a)},Se=(r,a)=>{v(a),g(C*a+1)},Ee=r=>{v(0),ne(parseInt(r.target.value,10)),g(1)},q=(r,a="")=>{N(r),ge(a)},I=()=>{_(null)},ye=async()=>{const r=J?1:2,a={firstname:s.firstname,lastname:s.lastname,email:s.email,phonenumber:s.contactNo,description:s.description,status:r};try{o({type:h.PROCESSING});const{status:c,data:{message:f}}=await Ie(`${U.UPDATE}/${s.id}`,a);c===F[200]?(o({type:h.SUCCESS,payload:{message:f}}),B.success(f),N(!1),M()):o({type:h.FAILURE,payload:{message:R()}}),window.scrollTo(0,0)}catch(c){o({type:h.FAILURE,payload:{message:R(c)}})}},Ce=async r=>{try{o({type:h.PROCESSING});const{status:a,data:{message:c}}=await Oe(`${U.DELETE}/${r}`);a===F[200]?(o({type:h.SUCCESS,payload:{message:c}}),B.success(c),N(!1),M()):o({type:h.FAILURE,payload:{message:R()}}),I(),q(!1)}catch(a){o({type:h.FAILURE,payload:{message:R(a)}}),B.error(`${a.response.data.message}`),I(),q(!1)}};async function M(){const r=y+1;$(!0);let a;const c=ke.LOCALE;try{const f=await Le(`${U.LIST}?${O.PAGE_NO.KEY}=${r}&${O.ROWS_PER_PAGE.KEY}=${C}&${O.SEARCH_TEXT.KEY}=${W}`),{status:be}=f,{data:{contactInquires:Te,totalCounts:_e},success:Ae}=f.data;Ae&&be===F[200]?(he(Te),$(!1),K(!1),de(_e)):X(De[c].FETCHING_USERS_LIST)}catch(f){a=R(f),K(!0),X(a),$(!1)}}return n.useEffect(()=>{M()},[y,C,,ie]),n.useEffect(()=>{Z((s==null?void 0:s.status)!==1)},[s==null?void 0:s.status]),e.jsxs(e.Fragment,{children:[e.jsx(Me,{title:ee.CONTACT}),e.jsxs(qe,{className:"page-container users-page",heading:ee.CONTACT,children:[e.jsx($e,{breadcrumbs:[e.jsx(Re,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:we.DASHBOARD,children:"dashboard"}),"Contact-Enquires"]}),e.jsx(ms,{sx:{mt:4,boxShadow:3},className:(t==null?void 0:t.navType)==="dark"?"dark_card":"",children:e.jsxs(Ue,{children:[e.jsx(Ve,{children:e.jsxs(We,{className:"list-table",children:[e.jsx(re,{order:x,orderBy:p,headLabel:L,rowCount:0,numSelected:l.length,onRequestSort:fe,onSelectAllClick:je,handleSerchInputChange:z,searchText:W,handleClearSearchInput:z}),e.jsx(Ke,{children:e.jsx(gs,{loading:k,connectionError:me,errorMessage:ue,enqueryList:pe,selected:l,handleActionDialog:q,srNo:P})})]})}),e.jsx(Be,{rowsPerPageOptions:O.ROWS_PER_PAGE_OPTIONS,component:"div",className:(t==null?void 0:t.navType)==="dark"?"dark_pagination":"",count:le,rowsPerPage:C,page:y,onPageChange:Se,onRowsPerPageChange:Ee})]})})]}),e.jsx(us,{open:!!E,anchorEl:E,onClose:I,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{p:1,width:140,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}}},children:e.jsxs(ps,{children:[e.jsx(te,{icon:"material-symbols:supervised-user-circle",sx:{mr:2}}),"View"]})}),xe&&e.jsx(cs,{open:N,handleClose:I,children:e.jsxs(H,{sx:{p:5},className:(t==null?void 0:t.navType)==="dark"?"dark_Modal":"",children:[e.jsx(d,{variant:"h4",color:"primary",align:"center",sx:{mb:2},children:"Details"}),e.jsx(hs,{sx:{mb:3}}),e.jsxs(b,{container:!0,spacing:2,sx:{mb:2},children:[e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(S,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(ts,{color:"primary"}),e.jsxs(d,{variant:"body1",children:[e.jsx("strong",{children:"Name:"})," ",s.lastname?`${s.firstname} ${s.lastname}`:s.firstname]})]})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(S,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(rs,{color:"primary"}),e.jsxs(d,{variant:"body1",children:[e.jsx("strong",{children:"Email:"})," ",s.email]})]})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(S,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(ae,{color:"primary"}),e.jsxs(d,{variant:"body1",children:[e.jsx("strong",{children:"Phone:"})," ",s.contactNo]})]})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(S,{direction:"row",spacing:2,alignItems:"center",children:[s.status===1?e.jsx(as,{color:"warning"}):e.jsx(ns,{color:"success"}),e.jsxs(d,{variant:"body1",children:[e.jsx("strong",{children:"Status:"})," ",s.status===1?"Pending":"Solved"]})]})}),e.jsx(b,{item:!0,xs:12,children:e.jsxs(S,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(os,{color:"primary"}),e.jsxs(d,{variant:"body1",children:[e.jsx("strong",{children:"Description:"})," ",s.description]})]})})]}),e.jsxs(S,{direction:"row",justifyContent:"end",alignItems:"center",my:2,children:[e.jsxs(H,{className:(t==null?void 0:t.navType)==="dark"?"dark_status":"",children:[e.jsx(d,{variant:"h5",children:"Change Status"}),e.jsx(xs,{children:"Pending to Solved and vice versa"})]}),e.jsx(H,{px:2,children:e.jsx(ds,{onChange:r=>{Z(r.target.checked),ye()},checked:J,sx:{variant:"success"}})})]}),e.jsxs(S,{direction:"row",justifyContent:"end",spacing:2,children:[e.jsx(Q,{disabled:k,variant:"outlined",color:"error",onClick:()=>Ce(s.id),children:"Delete"}),e.jsx(Q,{disabled:k,variant:"outlined",onClick:()=>N(!1),children:"Close"})]})]})})]})}export{bt as default};
