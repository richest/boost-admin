import{a as Y,r as i,b as Z,f as ee,j as e,G as c,V as d,a3 as te,ah as N,d as A,a4 as se,N as re,g as oe,D as ie,ai as E,Q as G,L as z,R as M}from"./index-Bb4T6yJS.js";import{A as ue}from"./helmet-BKDsicQe.js";import{P as he}from"./container-Mdzkb4R0.js";import{W as ye}from"./WebBreadCrumb-CplDcnjI.js";import{d as ae}from"./Send-CIV9xzto.js";import{u as ne,o as ce}from"./yup-VhrNJgti.js";import{c as de,d as V,a as q}from"./index.esm-B55s2Mzk.js";import{U as $}from"./index-WvvUu4h8.js";import{A as j}from"./apiErrorResonse-CCtXlH33.js";import{C as H}from"./Card-Cg269qA4.js";import{S as le}from"./Stack-yqW3PSS6.js";import{L as me}from"./LoadingButton-D3WD33Li.js";import{C as J,a as Q}from"./ckeditor-DoMhieYw.js";import{S as k}from"./Skeleton-Cv9Q_VQE.js";import{T as Ee}from"./TextField-Dv9saPdb.js";import{F as K}from"./FormHelperText-D8o68a4M.js";import{B as je}from"./Box-B1asL3_Y.js";import{T as xe,a as X}from"./Tabs-BapWTaVr.js";import"./styled-BzESMtjz.js";import"./Typography-BvK0EBjx.js";import"./breadcrumbs-BoNbTSIP.js";import"./Breadcrumbs-CYgmF-zU.js";import"./ButtonBase-D0CLtmKS.js";import"./useSlotProps-CkCdCphK.js";import"./Iconify-B2ea3Vhk.js";import"./iconify-C-ngdJty.js";import"./Button-CoPqx7My.js";import"./createSvgIcon-Cvxe-UMk.js";import"./useId-BQiMa7-Q.js";import"./useControlled-DpDQkWSS.js";import"./CancelTwoTone-g9I4gqmS.js";import"./AddPhotoAlternate-Dq9K76ig.js";import"./Tooltip-BPIgMGiH.js";import"./Popper-BrZsYCFQ.js";import"./Portal-DOJFZdR8.js";import"./Grow-BLrRft-L.js";import"./Avatar-CkCB1SYh.js";import"./index-D8g0v2aH.js";import"./useSlot-KITjY7au.js";import"./colorManipulator-C6WsgVx8.js";import"./Select-D_KZ1HKa.js";import"./useFormControl-oNyqkk4W.js";import"./Popover-_oog1cCQ.js";import"./Modal-BEZPFFVa.js";import"./List-BGusPRli.js";import"./createBox-Z02cO3O7.js";import"./KeyboardArrowRight--EGT-K8b.js";const fe=de().shape({header:V().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type)),footer:V().test("required","Image is required.",t=>t.length>0).test("fileSize","Image's sizie can not be more than 5 MB",t=>t.length&&t[0].size<=5242880).test("fileType","Only *.jpeg, *.jpg, *.png type of images are allowed.",t=>t.length&&["image/jpeg","image/png","image/jpg"].includes(t[0].type))}),Te=()=>{const t=Y(),[w,u]=i.useState(!0),[R,m]=i.useState(""),[v,D]=i.useState(!1),{loader:a,message:pe,messageType:ge}=Z(s=>s.request);ee();const{register:T,setValue:h,handleSubmit:F,trigger:O,formState:{errors:S}}=ne({mode:"all",resolver:ce(fe)}),[p,b]=i.useState({}),[x,o]=i.useState({}),U=async s=>{let r={key:"HEADER_FOOTER",section:"LOGO",value:JSON.stringify({header:p,footer:x}),status:1};try{t({type:d.PROCESSING});const{status:l,data:{message:n}}=await te(N.UPDATE,r);l===A[200]?(f(),t({type:d.SUCCESS,payload:{message:n}}),se.success(n)):t({type:d.FAILURE,payload:{message:j()}})}catch(l){t({type:d.FAILURE,payload:{message:j(l)}})}};async function B(s){var n,C;t({type:d.INIT_LOADER,payload:{loader:!0}});let r;const l=ie.LOCALE;try{const g=await re(s),{status:P}=g,{data:W,success:L}=g.data;if(L&&P===A[200]){const I=JSON.parse(W.value),{header:y,footer:_}=I;b(y),o(_),h("header",(n=y==null?void 0:y.uploaded_images)!=null&&n.upload_image_url?[{size:100,type:"image/jpg"}]:{}),h("footer",(C=_==null?void 0:_.uploaded_images)!=null&&C.upload_image_url?[{size:100,type:"image/jpg"}]:{})}else m(oe[l].FETCHING_USERS_LIST)}catch(g){r=j(g),D(!0),m(r),u(!1)}t({type:d.INIT_LOADER,payload:{loader:!1}})}const f=()=>{B(`${N.GET}?key=HEADER_FOOTER&section=LOGO`)};return i.useEffect(()=>{f()},[]),e.jsx(e.Fragment,{children:e.jsx(c,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(c,{item:!0,md:12,children:e.jsx(H,{className:"profile-right-section",sx:{p:3},children:e.jsxs("form",{onSubmit:F(U),noValidate:!0,children:[e.jsxs(c,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"flex-start",spacing:2,children:[e.jsxs(c,{item:!0,md:6,children:[e.jsx("h3",{style:{margin:"0",fontWeight:"500",marginBottom:"20px"},children:"Header Logo"}),e.jsx($,{setValue:h,imageObj:p,setImageObj:b,errors:S,register:T,trigger:O,name:"header",loader:a})]}),e.jsxs(c,{item:!0,md:6,children:[e.jsx("h3",{style:{margin:"0",fontWeight:"500",marginBottom:"20px"},children:"Footer Logo"}),e.jsx($,{setValue:h,imageObj:x,setImageObj:o,errors:S,register:T,trigger:O,name:"footer",loader:a})]})]}),e.jsx(le,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:!!a,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(ae,{}),variant:"contained",children:a?"PLEASE WAIT...":"SUBMIT"})})]})})})})})},Oe=de().shape({copyright:q().trim().required("Copyright is required."),descriptionOne:q().trim().required("Description is required."),descriptionTwo:q().trim().required("Description is required.")}),Se=()=>{const t=Y(),[w,u]=i.useState(!0),[R,m]=i.useState(""),[v,D]=i.useState(!1),{loader:a,message:pe,messageType:ge}=Z(s=>s.request),[T,h]=i.useState({}),[F,O]=i.useState({});ee();const{register:S,setValue:p,handleSubmit:b,trigger:x,formState:{errors:o}}=ne({mode:"all",resolver:ce(Oe)}),U=async s=>{let r={key:"HEADER_FOOTER",section:"CONTENT",value:JSON.stringify({copyright:s.copyright,descriptionOne:s.descriptionOne,descriptionTwo:s.descriptionTwo}),status:1};try{t({type:d.PROCESSING});const{status:l,data:{message:n}}=await te(N.UPDATE,r);l===A[200]?(t({type:d.SUCCESS,payload:{message:n}}),se.success(n),f()):t({type:d.FAILURE,payload:{message:j()}})}catch(l){t({type:d.FAILURE,payload:{message:j(l)}})}};async function B(s){E.start(),t({type:d.INIT_LOADER,payload:{loader:!0}});let r;const l=ie.LOCALE;try{const n=await re(s),{status:C}=n,{data:g,success:P}=n.data;if(P&&C===A[200]){const W=JSON.parse(g==null?void 0:g.value),{descriptionOne:L,descriptionTwo:I,copyright:y}=W;h(L),O(I),p("copyright",y),p("descriptionOne",L),p("descriptionTwo",I)}else m(oe[l].FETCHING_USERS_LIST);E.done()}catch(n){E.done(),r=j(n),D(!0),m(r),u(!1)}t({type:d.INIT_LOADER,payload:{loader:!1}}),E.done()}const f=()=>{B(`${N.GET}?key=HEADER_FOOTER&section=CONTENT`)};return i.useEffect(()=>{f()},[]),i.useEffect(()=>{a?E.start():E.done()},[a]),e.jsx(c,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:2,my:2,children:e.jsx(c,{item:!0,md:12,children:e.jsxs(H,{className:"profile-right-section",sx:{p:3},children:[e.jsx("h3",{style:{margin:"0",fontWeight:"500",marginBottom:"20px"},children:"Footer copyright & descriptions"}),e.jsxs("form",{onSubmit:b(U),noValidate:!0,children:[e.jsx(c,{mb:4,children:a?e.jsx(k,{height:60}):e.jsx(Ee,{...S("copyright"),label:"Copyright*",disabled:a,error:!!o.copyright,helperText:o.copyright?o.copyright.message:"",name:"copyright",variant:"outlined",fullWidth:!0})}),e.jsx(c,{mb:4,children:e.jsxs(c,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"flex-start",spacing:2,children:[e.jsx(c,{item:!0,md:6,children:a?e.jsx(k,{variant:"rectangular",width:"100%",height:290}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:o.descriptionOne?"errorCkEditor description_div":"description_div",children:e.jsx(J,{name:"description",style:{position:"relative",zIndex:"20"},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},editor:Q,data:T,onChange:(s,r)=>{p("descriptionOne",r.getData()),x("descriptionOne")},onReady:s=>{s.editing.view.change(r=>{r.setStyle("height","100%",s.editing.view.document.getRoot())})}})}),o.descriptionOne?e.jsx(K,{error:!0,children:o.descriptionOne.message}):""]})}),e.jsx(c,{item:!0,md:6,children:a?e.jsx(k,{variant:"rectangular",width:"100%",height:290}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:o!=null&&o.descriptiontwo?"errorCkEditor description_div":"description_div",children:e.jsx(J,{name:"description",style:{position:"relative",zIndex:"20"},config:{placeholder:"Description*",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]}},editor:Q,data:F,onChange:(s,r)=>{p("descriptionTwo",r.getData()),x("descriptionTwo")},onReady:s=>{s.editing.view.change(r=>{r.setStyle("height","100%",s.editing.view.document.getRoot())})}})}),o.descriptionTwo?e.jsx(K,{error:!0,children:o.descriptionTwo.message}):""]})})]})}),e.jsx(le,{direction:"row",justifyContent:"center",alignItems:"center",my:2,children:e.jsx(me,{loading:!!a,size:"medium",type:"submit",loadingPosition:"end",endIcon:e.jsx(ae,{}),variant:"contained",children:a?"PLEASE WAIT...":"SUBMIT"})})]})]})})})},Et=()=>{const[t,w]=i.useState("LOGO");function u(m){return{value:m,id:`content-tab-${m}`,"aria-controls":`content-tabpanel-${m}`}}const R=(m,v)=>{w(v)};return e.jsxs(e.Fragment,{children:[e.jsx(ue,{title:G.WEB_CONTENT}),e.jsxs(he,{className:"page-container users-page",heading:G.WEB_CONTENT,children:[e.jsx(ye,{breadcrumbs:[e.jsx(z,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:M.DASHBOARD,children:"dashboard"}),e.jsx(z,{style:{color:"rgb(99, 115, 129)",textDecoration:"none"},to:M.WEB_CONTENT,children:G.WEB_CONTENT}),"Header-Footer"]}),e.jsxs(H,{sx:{mt:4,boxShadow:3},children:[e.jsx(je,{children:e.jsxs(xe,{value:t,onChange:R,"aria-label":"basic tabs example",children:[e.jsx(X,{label:"Logo",...u("LOGO")}),e.jsx(X,{label:"Description & Copyright",...u("SUBTITLE")})]})}),t==="LOGO"&&e.jsx(Te,{}),t==="SUBTITLE"&&e.jsx(Se,{})]})]})]})};export{Et as default};
